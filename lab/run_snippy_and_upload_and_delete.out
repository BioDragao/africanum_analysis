[13:58:05] This is snippy 3.2-dev
[13:58:05] Written by Torsten Seemann <torsten.seemann@gmail.com>
[13:58:05] Obtained from https://github.com/tseemann/snippy
[13:58:05] Detected operating system: linux
[13:58:05] Enabling bundled linux tools.
[13:58:05] Found bwa - /opt/snippy/binaries/linux/bwa
[13:58:05] Found samtools - /opt/snippy/binaries/linux/samtools
[13:58:05] Found tabix - /opt/snippy/binaries/linux/tabix
[13:58:05] Found bgzip - /opt/snippy/binaries/linux/bgzip
[13:58:05] Found snpEff - /opt/snippy/binaries/noarch/snpEff
[13:58:05] Found java - /usr/bin/java
[13:58:05] Found gzip - /usr/bin/gzip
[13:58:05] Found parallel - /opt/snippy/binaries/noarch/parallel
[13:58:05] Found freebayes - /opt/snippy/binaries/linux/freebayes
[13:58:05] Found freebayes-parallel - /opt/snippy/binaries/noarch/freebayes-parallel
[13:58:05] Found fasta_generate_regions.py - /opt/snippy/binaries/noarch/fasta_generate_regions.py
[13:58:05] Found vcfstreamsort - /opt/snippy/binaries/linux/vcfstreamsort
[13:58:05] Found vcfuniq - /opt/snippy/binaries/linux/vcfuniq
[13:58:05] Found vcffirstheader - /opt/snippy/binaries/noarch/vcffirstheader
[13:58:05] Found vcf-consensus - /opt/snippy/binaries/noarch/vcf-consensus
[13:58:05] Found snippy-vcf_to_tab - /opt/snippy/bin/snippy-vcf_to_tab
[13:58:05] Found snippy-vcf_report - /opt/snippy/bin/snippy-vcf_report
[13:58:05] Found snippy-vcf_filter - /opt/snippy/bin/snippy-vcf_filter
[13:58:05] Checking version: samtools --version is >= 1.3 - ok, have 1.3
[13:58:05] Using reference: /vagrant/africanum_analysis/lab/NC000962_3.gbk
[13:58:06] Treating reference as 'genbank' format.
[13:58:06] Will use 4 CPU cores.
[13:58:06] Using read file: /vagrant/africanum_analysis/lab/SAMEA1877266_L4_1.fastq.gz
[13:58:06] Using read file: /vagrant/africanum_analysis/lab/SAMEA1877266_L4_2.fastq.gz
[13:58:06] Creating folder: SAMEA1877266_L4
[13:58:06] Changing working directory: SAMEA1877266_L4
[13:58:06] Creating reference folder: reference
[13:58:06] Extracting FASTA and GFF from reference.
[13:58:22] Wrote 1 sequences to ref.fa
[13:58:22] Wrote 4416 features to ref.gff
[13:58:22] Creating reference/snpeff.config
[13:58:22] Freebayes will process 16 chunks of 280319 bp, 4 chunks at a time.
[13:58:22] Using BAM RG (Read Group) ID: snps
[13:58:22] Running: samtools faidx reference/ref.fa 2>> snps.log
[13:58:22] Running: bwa index reference/ref.fa 2>> snps.log
[13:58:30] Running: mkdir reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[13:58:30] Running: mkdir reference/ref && bgzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[13:58:31] Running: snpEff build -c reference/snpeff.config -dataDir . -gff3 ref 2>> snps.log
[13:58:40] Running: (bwa mem  -v 2 -M -R '@RG\tID:snps\tSM:snps' -t 4 reference/ref.fa /vagrant/africanum_analysis/lab/SAMEA1877266_L4_1.fastq.gz /vagrant/africanum_analysis/lab/SAMEA1877266_L4_2.fastq.gz | samtools sort --reference reference/ref.fa > snps.bam) 2>> snps.log
[14:05:42] Running: samtools index snps.bam 2>> snps.log
[14:05:55] Running: samtools depth -q 20 snps.bam | bgzip > snps.depth.gz 2>> snps.log
[14:06:29] Running: tabix -s 1 -b 2 -e 2 snps.depth.gz 2>> snps.log
[14:06:32] Running: fasta_generate_regions.py reference/ref.fa.fai 280319 > reference/ref.txt 2>> snps.log
[14:06:32] Running: freebayes-parallel reference/ref.txt 4 -p 1 -q 20 -m 60 --min-coverage 10 -V -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[14:11:51] Running: /opt/snippy/bin/snippy-vcf_filter --minqual 10 --mincov 10 --minfrac 0.9  snps.raw.vcf > snps.filt.vcf 2>> snps.log
[14:11:52] Running: snpEff ann -no-downstream -no-upstream -no-intergenic -no-utr -c reference/snpeff.config -dataDir . -noStats ref snps.filt.vcf > snps.vcf 2>> snps.log
[14:11:59] Running: bgzip -c snps.vcf > snps.vcf.gz 2>> snps.log
[14:11:59] Running: tabix -p vcf snps.vcf.gz 2>> snps.log
[14:11:59] Running: /opt/snippy/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[14:12:18] Running: vcf-consensus snps.vcf.gz < reference/ref.fa > snps.consensus.fa 2>> snps.log
[14:12:21] Running: /opt/snippy/bin/snippy-vcf_filter --subs snps.filt.vcf > snps.filt.subs.vcf 2>> snps.log
[14:12:22] Running: bgzip -c snps.filt.subs.vcf > snps.filt.subs.vcf.gz 2>> snps.log
[14:12:22] Running: tabix -p vcf snps.filt.subs.vcf.gz 2>> snps.log
[14:12:22] Running: vcf-consensus snps.filt.subs.vcf.gz < reference/ref.fa > snps.consensus.subs.fa 2>> snps.log
[14:12:25] Generating aligned/masked FASTA relative to reference: snps.aligned.fa
[14:12:49] Creating extra output files: BED GFF CSV TXT HTML
[14:12:49] Identified 935 variants.
[14:12:49] Result folder: SAMEA1877266_L4
[14:12:49] Result files:
[14:12:49] * SAMEA1877266_L4/snps.aligned.fa
[14:12:49] * SAMEA1877266_L4/snps.bam
[14:12:49] * SAMEA1877266_L4/snps.bam.bai
[14:12:49] * SAMEA1877266_L4/snps.bed
[14:12:49] * SAMEA1877266_L4/snps.consensus.fa
[14:12:49] * SAMEA1877266_L4/snps.consensus.subs.fa
[14:12:49] * SAMEA1877266_L4/snps.csv
[14:12:49] * SAMEA1877266_L4/snps.depth.gz
[14:12:49] * SAMEA1877266_L4/snps.depth.gz.tbi
[14:12:49] * SAMEA1877266_L4/snps.filt.subs.vcf
[14:12:49] * SAMEA1877266_L4/snps.filt.subs.vcf.gz
[14:12:49] * SAMEA1877266_L4/snps.filt.subs.vcf.gz.tbi
[14:12:49] * SAMEA1877266_L4/snps.filt.vcf
[14:12:49] * SAMEA1877266_L4/snps.gff
[14:12:49] * SAMEA1877266_L4/snps.html
[14:12:49] * SAMEA1877266_L4/snps.log
[14:12:49] * SAMEA1877266_L4/snps.raw.vcf
[14:12:49] * SAMEA1877266_L4/snps.tab
[14:12:49] * SAMEA1877266_L4/snps.txt
[14:12:49] * SAMEA1877266_L4/snps.vcf
[14:12:49] * SAMEA1877266_L4/snps.vcf.gz
[14:12:49] * SAMEA1877266_L4/snps.vcf.gz.tbi
[14:12:49] Walltime used: 14 minutes, 44 seconds
[14:12:49] May the SNPs be with you.
[14:12:49] Done.
2019/05/30 18:12:49 DEBUG : rclone: Version "v1.36" starting with parameters ["rclone" "copy" "./SAMEA1877266_L4" "onedrive-em:africanum_analysis/snippy/SAMEA1877266_L4" "-vv"]
2019/05/30 18:12:50 INFO  : One drive root 'africanum_analysis/snippy/SAMEA1877266_L4': Modify window is 1s
2019/05/30 18:12:51 DEBUG : One drive root 'africanum_analysis/snippy/SAMEA1877266_L4': Reading ""
2019/05/30 18:12:52 DEBUG : One drive root 'africanum_analysis/snippy/SAMEA1877266_L4': Finished reading ""
2019/05/30 18:12:52 DEBUG : snps.bam: Starting multipart upload
2019/05/30 18:12:52 DEBUG : snps.bam: Uploading segment 0/306371038 size 10485760
2019/05/30 18:12:52 INFO  : snps.bam.bai: Copied (new)
2019/05/30 18:12:52 INFO  : snps.bed: Copied (new)
2019/05/30 18:12:53 DEBUG : snps.bam: Uploading segment 10485760/306371038 size 10485760
2019/05/30 18:12:53 DEBUG : snps.bam: Uploading segment 20971520/306371038 size 10485760
2019/05/30 18:12:53 INFO  : snps.aligned.fa: Copied (new)
2019/05/30 18:12:54 INFO  : snps.consensus.fa: Copied (new)
2019/05/30 18:12:54 DEBUG : snps.depth.gz: Starting multipart upload
2019/05/30 18:12:54 DEBUG : snps.bam: Uploading segment 31457280/306371038 size 10485760
2019/05/30 18:12:54 DEBUG : snps.depth.gz: Uploading segment 0/15392492 size 10485760
2019/05/30 18:12:54 INFO  : snps.csv: Copied (new)
2019/05/30 18:12:55 INFO  : snps.consensus.subs.fa: Copied (new)
2019/05/30 18:12:55 DEBUG : snps.bam: Uploading segment 41943040/306371038 size 10485760
2019/05/30 18:12:55 INFO  : snps.depth.gz.tbi: Copied (new)
2019/05/30 18:12:55 DEBUG : snps.depth.gz: Uploading segment 10485760/15392492 size 4906732
2019/05/30 18:12:56 INFO  : snps.filt.subs.vcf.gz: Copied (new)
2019/05/30 18:12:56 INFO  : snps.filt.subs.vcf: Copied (new)
2019/05/30 18:12:56 INFO  : snps.depth.gz: Copied (new)
2019/05/30 18:12:56 INFO  : snps.filt.subs.vcf.gz.tbi: Copied (new)
2019/05/30 18:12:56 DEBUG : snps.bam: Uploading segment 52428800/306371038 size 10485760
2019/05/30 18:12:56 INFO  : snps.filt.vcf: Copied (new)
2019/05/30 18:12:56 INFO  : snps.gff: Copied (new)
2019/05/30 18:12:57 INFO  : snps.log: Copied (new)
2019/05/30 18:12:57 INFO  : snps.html: Copied (new)
2019/05/30 18:12:57 INFO  : snps.raw.vcf: Copied (new)
2019/05/30 18:12:57 DEBUG : snps.bam: Uploading segment 62914560/306371038 size 10485760
2019/05/30 18:12:58 INFO  : snps.txt: Copied (new)
2019/05/30 18:12:58 DEBUG : snps.bam: Uploading segment 73400320/306371038 size 10485760
2019/05/30 18:12:58 INFO  : snps.tab: Copied (new)
2019/05/30 18:12:59 INFO  : snps.vcf.gz: Copied (new)
2019/05/30 18:12:59 INFO  : snps.vcf.gz.tbi: Copied (new)
2019/05/30 18:12:59 INFO  : snps.vcf: Copied (new)
2019/05/30 18:12:59 DEBUG : snps.bam: Uploading segment 83886080/306371038 size 10485760
2019/05/30 18:12:59 INFO  : reference/ref.fa.amb: Copied (new)
2019/05/30 18:12:59 INFO  : reference/ref.fa.ann: Copied (new)
2019/05/30 18:13:00 DEBUG : snps.bam: Uploading segment 94371840/306371038 size 10485760
2019/05/30 18:13:00 INFO  : reference/ref.fa.fai: Copied (new)
2019/05/30 18:13:00 DEBUG : snps.bam: Uploading segment 104857600/306371038 size 10485760
2019/05/30 18:13:01 INFO  : reference/ref.fa: Copied (new)
2019/05/30 18:13:01 DEBUG : snps.bam: Uploading segment 115343360/306371038 size 10485760
2019/05/30 18:13:01 INFO  : reference/ref.fa.pac: Copied (new)
2019/05/30 18:13:01 INFO  : reference/ref.fa.bwt: Copied (new)
2019/05/30 18:13:01 INFO  : One drive root 'africanum_analysis/snippy/SAMEA1877266_L4': Waiting for checks to finish
2019/05/30 18:13:01 INFO  : One drive root 'africanum_analysis/snippy/SAMEA1877266_L4': Waiting for transfers to finish
2019/05/30 18:13:02 DEBUG : snps.bam: Uploading segment 125829120/306371038 size 10485760
2019/05/30 18:13:02 INFO  : reference/ref.txt: Copied (new)
2019/05/30 18:13:02 INFO  : reference/snpeff.config: Copied (new)
2019/05/30 18:13:03 INFO  : reference/ref.fa.sa: Copied (new)
2019/05/30 18:13:03 DEBUG : snps.bam: Uploading segment 136314880/306371038 size 10485760
2019/05/30 18:13:04 DEBUG : snps.bam: Uploading segment 146800640/306371038 size 10485760
2019/05/30 18:13:04 INFO  : reference/ref.gff: Copied (new)
2019/05/30 18:13:04 DEBUG : snps.bam: Uploading segment 157286400/306371038 size 10485760
2019/05/30 18:13:05 INFO  : reference/ref/genes.gff.gz: Copied (new)
2019/05/30 18:13:05 INFO  : reference/genomes/ref.fa: Copied (new)
2019/05/30 18:13:05 DEBUG : snps.bam: Uploading segment 167772160/306371038 size 10485760
2019/05/30 18:13:05 INFO  : reference/ref/snpEffectPredictor.bin: Copied (new)
2019/05/30 18:13:06 DEBUG : snps.bam: Uploading segment 178257920/306371038 size 10485760
2019/05/30 18:13:06 DEBUG : snps.bam: Uploading segment 188743680/306371038 size 10485760
2019/05/30 18:13:07 DEBUG : snps.bam: Uploading segment 199229440/306371038 size 10485760
2019/05/30 18:13:08 DEBUG : snps.bam: Uploading segment 209715200/306371038 size 10485760
2019/05/30 18:13:08 DEBUG : snps.bam: Uploading segment 220200960/306371038 size 10485760
2019/05/30 18:13:09 DEBUG : snps.bam: Uploading segment 230686720/306371038 size 10485760
2019/05/30 18:13:09 DEBUG : snps.bam: Uploading segment 241172480/306371038 size 10485760
2019/05/30 18:13:10 DEBUG : snps.bam: Uploading segment 251658240/306371038 size 10485760
2019/05/30 18:13:11 DEBUG : snps.bam: Uploading segment 262144000/306371038 size 10485760
2019/05/30 18:13:12 DEBUG : snps.bam: Uploading segment 272629760/306371038 size 10485760
2019/05/30 18:13:12 DEBUG : snps.bam: Uploading segment 283115520/306371038 size 10485760
2019/05/30 18:13:13 DEBUG : snps.bam: Uploading segment 293601280/306371038 size 10485760
2019/05/30 18:13:14 DEBUG : snps.bam: Uploading segment 304087040/306371038 size 2283998
2019/05/30 18:13:14 INFO  : snps.bam: Copied (new)
2019/05/30 18:13:14 INFO  : 
Transferred:   345.451 MBytes (13.452 MBytes/s)
Errors:                 0
Checks:                 0
Transferred:           35
Elapsed time:       25.6s
2019/05/30 18:13:14 DEBUG : Go routines at exit 13
2019/05/30 18:13:14 DEBUG : rclone: Version "v1.36" finishing with parameters ["rclone" "copy" "./SAMEA1877266_L4" "onedrive-em:africanum_analysis/snippy/SAMEA1877266_L4" "-vv"]
[14:13:20] This is snippy 3.2-dev
[14:13:20] Written by Torsten Seemann <torsten.seemann@gmail.com>
[14:13:20] Obtained from https://github.com/tseemann/snippy
[14:13:20] Detected operating system: linux
[14:13:20] Enabling bundled linux tools.
[14:13:20] Found bwa - /opt/snippy/binaries/linux/bwa
[14:13:20] Found samtools - /opt/snippy/binaries/linux/samtools
[14:13:20] Found tabix - /opt/snippy/binaries/linux/tabix
[14:13:20] Found bgzip - /opt/snippy/binaries/linux/bgzip
[14:13:20] Found snpEff - /opt/snippy/binaries/noarch/snpEff
[14:13:20] Found java - /usr/bin/java
[14:13:20] Found gzip - /usr/bin/gzip
[14:13:20] Found parallel - /opt/snippy/binaries/noarch/parallel
[14:13:20] Found freebayes - /opt/snippy/binaries/linux/freebayes
[14:13:20] Found freebayes-parallel - /opt/snippy/binaries/noarch/freebayes-parallel
[14:13:20] Found fasta_generate_regions.py - /opt/snippy/binaries/noarch/fasta_generate_regions.py
[14:13:20] Found vcfstreamsort - /opt/snippy/binaries/linux/vcfstreamsort
[14:13:20] Found vcfuniq - /opt/snippy/binaries/linux/vcfuniq
[14:13:20] Found vcffirstheader - /opt/snippy/binaries/noarch/vcffirstheader
[14:13:20] Found vcf-consensus - /opt/snippy/binaries/noarch/vcf-consensus
[14:13:20] Found snippy-vcf_to_tab - /opt/snippy/bin/snippy-vcf_to_tab
[14:13:20] Found snippy-vcf_report - /opt/snippy/bin/snippy-vcf_report
[14:13:20] Found snippy-vcf_filter - /opt/snippy/bin/snippy-vcf_filter
[14:13:20] Checking version: samtools --version is >= 1.3 - ok, have 1.3
[14:13:20] Using reference: /vagrant/africanum_analysis/lab/NC000962_3.gbk
[14:13:20] Treating reference as 'genbank' format.
[14:13:20] Will use 4 CPU cores.
[14:13:20] Using read file: /vagrant/africanum_analysis/lab/SAMEA1877285_1.fastq.gz
[14:13:20] Using read file: /vagrant/africanum_analysis/lab/SAMEA1877285_2.fastq.gz
[14:13:20] Creating folder: SAMEA1877285
[14:13:20] Changing working directory: SAMEA1877285
[14:13:20] Creating reference folder: reference
[14:13:20] Extracting FASTA and GFF from reference.
[14:13:37] Wrote 1 sequences to ref.fa
[14:13:37] Wrote 4416 features to ref.gff
[14:13:37] Creating reference/snpeff.config
[14:13:37] Freebayes will process 16 chunks of 280319 bp, 4 chunks at a time.
[14:13:37] Using BAM RG (Read Group) ID: snps
[14:13:37] Running: samtools faidx reference/ref.fa 2>> snps.log
[14:13:37] Running: bwa index reference/ref.fa 2>> snps.log
[14:13:45] Running: mkdir reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[14:13:45] Running: mkdir reference/ref && bgzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[14:13:45] Running: snpEff build -c reference/snpeff.config -dataDir . -gff3 ref 2>> snps.log
[14:13:55] Running: (bwa mem  -v 2 -M -R '@RG\tID:snps\tSM:snps' -t 4 reference/ref.fa /vagrant/africanum_analysis/lab/SAMEA1877285_1.fastq.gz /vagrant/africanum_analysis/lab/SAMEA1877285_2.fastq.gz | samtools sort --reference reference/ref.fa > snps.bam) 2>> snps.log
[14:29:04] Running: samtools index snps.bam 2>> snps.log
[14:29:32] Running: samtools depth -q 20 snps.bam | bgzip > snps.depth.gz 2>> snps.log
[14:31:00] Running: tabix -s 1 -b 2 -e 2 snps.depth.gz 2>> snps.log
[14:31:03] Running: fasta_generate_regions.py reference/ref.fa.fai 280319 > reference/ref.txt 2>> snps.log
[14:31:03] Running: freebayes-parallel reference/ref.txt 4 -p 1 -q 20 -m 60 --min-coverage 10 -V -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[14:42:59] Running: /opt/snippy/bin/snippy-vcf_filter --minqual 10 --mincov 10 --minfrac 0.9  snps.raw.vcf > snps.filt.vcf 2>> snps.log
[14:43:00] Running: snpEff ann -no-downstream -no-upstream -no-intergenic -no-utr -c reference/snpeff.config -dataDir . -noStats ref snps.filt.vcf > snps.vcf 2>> snps.log
[14:43:09] Running: bgzip -c snps.vcf > snps.vcf.gz 2>> snps.log
[14:43:09] Running: tabix -p vcf snps.vcf.gz 2>> snps.log
[14:43:09] Running: /opt/snippy/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[14:43:29] Running: vcf-consensus snps.vcf.gz < reference/ref.fa > snps.consensus.fa 2>> snps.log
[14:43:32] Running: /opt/snippy/bin/snippy-vcf_filter --subs snps.filt.vcf > snps.filt.subs.vcf 2>> snps.log
[14:43:34] Running: bgzip -c snps.filt.subs.vcf > snps.filt.subs.vcf.gz 2>> snps.log
[14:43:34] Running: tabix -p vcf snps.filt.subs.vcf.gz 2>> snps.log
[14:43:34] Running: vcf-consensus snps.filt.subs.vcf.gz < reference/ref.fa > snps.consensus.subs.fa 2>> snps.log
[14:43:37] Generating aligned/masked FASTA relative to reference: snps.aligned.fa
[14:44:00] Creating extra output files: BED GFF CSV TXT HTML
[14:44:00] Identified 2316 variants.
[14:44:00] Result folder: SAMEA1877285
[14:44:00] Result files:
[14:44:00] * SAMEA1877285/snps.aligned.fa
[14:44:00] * SAMEA1877285/snps.bam
[14:44:00] * SAMEA1877285/snps.bam.bai
[14:44:00] * SAMEA1877285/snps.bed
[14:44:00] * SAMEA1877285/snps.consensus.fa
[14:44:00] * SAMEA1877285/snps.consensus.subs.fa
[14:44:00] * SAMEA1877285/snps.csv
[14:44:00] * SAMEA1877285/snps.depth.gz
[14:44:00] * SAMEA1877285/snps.depth.gz.tbi
[14:44:00] * SAMEA1877285/snps.filt.subs.vcf
[14:44:00] * SAMEA1877285/snps.filt.subs.vcf.gz
[14:44:00] * SAMEA1877285/snps.filt.subs.vcf.gz.tbi
[14:44:00] * SAMEA1877285/snps.filt.vcf
[14:44:00] * SAMEA1877285/snps.gff
[14:44:00] * SAMEA1877285/snps.html
[14:44:00] * SAMEA1877285/snps.log
[14:44:00] * SAMEA1877285/snps.raw.vcf
[14:44:00] * SAMEA1877285/snps.tab
[14:44:00] * SAMEA1877285/snps.txt
[14:44:00] * SAMEA1877285/snps.vcf
[14:44:00] * SAMEA1877285/snps.vcf.gz
[14:44:00] * SAMEA1877285/snps.vcf.gz.tbi
[14:44:00] Walltime used: 30 minutes, 40 seconds
[14:44:00] Wishing you a life free of homopolymer errors.
[14:44:00] Done.
2019/05/30 18:44:00 DEBUG : rclone: Version "v1.36" starting with parameters ["rclone" "copy" "./SAMEA1877285" "onedrive-em:africanum_analysis/snippy/SAMEA1877285" "-vv"]
2019/05/30 18:44:01 DEBUG : onedrive-em: Saved new token in config file
2019/05/30 18:44:03 INFO  : One drive root 'africanum_analysis/snippy/SAMEA1877285': Modify window is 1s
2019/05/30 18:44:03 DEBUG : One drive root 'africanum_analysis/snippy/SAMEA1877285': Reading ""
2019/05/30 18:44:03 DEBUG : One drive root 'africanum_analysis/snippy/SAMEA1877285': Finished reading ""
2019/05/30 18:44:03 DEBUG : snps.bam: Starting multipart upload
2019/05/30 18:44:04 DEBUG : snps.bam: Uploading segment 0/652501473 size 10485760
2019/05/30 18:44:04 INFO  : snps.bam.bai: Copied (new)
2019/05/30 18:44:04 DEBUG : snps.bam: Uploading segment 10485760/652501473 size 10485760
2019/05/30 18:44:04 INFO  : snps.bed: Copied (new)
2019/05/30 18:44:05 DEBUG : snps.bam: Uploading segment 20971520/652501473 size 10485760
2019/05/30 18:44:06 INFO  : snps.consensus.fa: Copied (new)
2019/05/30 18:44:06 INFO  : snps.consensus.subs.fa: Copied (new)
2019/05/30 18:44:06 DEBUG : snps.depth.gz: Starting multipart upload
2019/05/30 18:44:07 DEBUG : snps.depth.gz: Uploading segment 0/16440992 size 10485760
2019/05/30 18:44:07 INFO  : snps.aligned.fa: Copied (new)
2019/05/30 18:44:07 INFO  : snps.csv: Copied (new)
2019/05/30 18:44:07 DEBUG : snps.depth.gz: Uploading segment 10485760/16440992 size 5955232
2019/05/30 18:44:07 INFO  : snps.depth.gz.tbi: Copied (new)
2019/05/30 18:44:08 INFO  : snps.filt.subs.vcf.gz: Copied (new)
2019/05/30 18:44:08 INFO  : snps.filt.subs.vcf: Copied (new)
2019/05/30 18:44:08 INFO  : snps.depth.gz: Copied (new)
2019/05/30 18:44:09 INFO  : snps.gff: Copied (new)
2019/05/30 18:44:09 INFO  : snps.filt.subs.vcf.gz.tbi: Copied (new)
2019/05/30 18:44:09 INFO  : snps.filt.vcf: Copied (new)
2019/05/30 18:44:10 INFO  : snps.html: Copied (new)
2019/05/30 18:44:10 INFO  : snps.log: Copied (new)
2019/05/30 18:44:10 INFO  : snps.tab: Copied (new)
2019/05/30 18:44:11 INFO  : snps.txt: Copied (new)
2019/05/30 18:44:12 INFO  : snps.vcf.gz: Copied (new)
2019/05/30 18:44:12 INFO  : snps.raw.vcf: Copied (new)
2019/05/30 18:44:12 INFO  : snps.vcf: Copied (new)
2019/05/30 18:44:12 INFO  : snps.vcf.gz.tbi: Copied (new)
2019/05/30 18:44:13 INFO  : reference/ref.fa.ann: Copied (new)
2019/05/30 18:44:13 INFO  : reference/ref.fa.amb: Copied (new)
2019/05/30 18:44:13 INFO  : reference/ref.fa.fai: Copied (new)
2019/05/30 18:44:14 INFO  : reference/ref.fa: Copied (new)
2019/05/30 18:44:15 INFO  : reference/ref.fa.pac: Copied (new)
2019/05/30 18:44:15 INFO  : reference/ref.fa.bwt: Copied (new)
2019/05/30 18:44:15 INFO  : One drive root 'africanum_analysis/snippy/SAMEA1877285': Waiting for checks to finish
2019/05/30 18:44:15 INFO  : One drive root 'africanum_analysis/snippy/SAMEA1877285': Waiting for transfers to finish
2019/05/30 18:44:15 INFO  : reference/ref.fa.sa: Copied (new)
2019/05/30 18:44:15 INFO  : reference/ref.txt: Copied (new)
2019/05/30 18:44:16 INFO  : reference/snpeff.config: Copied (new)
2019/05/30 18:44:16 INFO  : reference/ref.gff: Copied (new)
2019/05/30 18:44:17 INFO  : reference/ref/genes.gff.gz: Copied (new)
2019/05/30 18:44:18 INFO  : reference/ref/snpEffectPredictor.bin: Copied (new)
2019/05/30 18:44:19 INFO  : reference/genomes/ref.fa: Copied (new)
2019/05/30 18:44:22 DEBUG : snps.bam: Uploading segment 31457280/652501473 size 10485760
2019/05/30 18:44:22 DEBUG : snps.bam: Uploading segment 41943040/652501473 size 10485760
2019/05/30 18:44:40 DEBUG : snps.bam: Uploading segment 52428800/652501473 size 10485760
2019/05/30 18:44:41 DEBUG : snps.bam: Uploading segment 62914560/652501473 size 10485760
2019/05/30 18:44:42 DEBUG : snps.bam: Uploading segment 73400320/652501473 size 10485760
2019/05/30 18:44:42 DEBUG : snps.bam: Uploading segment 83886080/652501473 size 10485760
2019/05/30 18:44:44 DEBUG : snps.bam: Uploading segment 94371840/652501473 size 10485760
2019/05/30 18:44:44 DEBUG : snps.bam: Uploading segment 104857600/652501473 size 10485760
2019/05/30 18:45:02 DEBUG : snps.bam: Uploading segment 115343360/652501473 size 10485760
2019/05/30 18:45:02 DEBUG : snps.bam: Uploading segment 125829120/652501473 size 10485760
2019/05/30 18:45:03 INFO  : 
Transferred:   187.666 MBytes (3.009 MBytes/s)
Errors:                 0
Checks:                 0
Transferred:           34
Elapsed time:      1m2.3s
Transferring:
 *                                      snps.bam: 20% done, 2.860 MBytes/s, ETA: 2m52s

2019/05/30 18:45:03 DEBUG : snps.bam: Uploading segment 136314880/652501473 size 10485760
2019/05/30 18:45:03 DEBUG : snps.bam: Uploading segment 146800640/652501473 size 10485760
2019/05/30 18:45:21 DEBUG : snps.bam: Uploading segment 157286400/652501473 size 10485760
2019/05/30 18:45:22 DEBUG : snps.bam: Uploading segment 167772160/652501473 size 10485760
2019/05/30 18:45:22 DEBUG : snps.bam: Uploading segment 178257920/652501473 size 10485760
2019/05/30 18:45:40 DEBUG : snps.bam: Uploading segment 188743680/652501473 size 10485760
2019/05/30 18:45:40 DEBUG : snps.bam: Uploading segment 199229440/652501473 size 10485760
2019/05/30 18:45:41 DEBUG : snps.bam: Uploading segment 209715200/652501473 size 10485760
2019/05/30 18:45:58 DEBUG : snps.bam: Uploading segment 220200960/652501473 size 10485760
2019/05/30 18:45:59 DEBUG : snps.bam: Uploading segment 230686720/652501473 size 10485760
2019/05/30 18:45:59 DEBUG : snps.bam: Uploading segment 241172480/652501473 size 10485760
2019/05/30 18:46:00 DEBUG : snps.bam: Uploading segment 251658240/652501473 size 10485760
2019/05/30 18:46:01 DEBUG : snps.bam: Uploading segment 262144000/652501473 size 10485760
2019/05/30 18:46:02 DEBUG : snps.bam: Uploading segment 272629760/652501473 size 10485760
2019/05/30 18:46:03 INFO  : 
Transferred:   327.666 MBytes (2.678 MBytes/s)
Errors:                 0
Checks:                 0
Transferred:           34
Elapsed time:      2m2.3s
Transferring:
 *                                      snps.bam: 43% done, 4.079 MBytes/s, ETA: 1m26s

2019/05/30 18:46:20 DEBUG : snps.bam: Uploading segment 283115520/652501473 size 10485760
2019/05/30 18:46:20 DEBUG : snps.bam: Uploading segment 293601280/652501473 size 10485760
2019/05/30 18:46:21 DEBUG : snps.bam: Uploading segment 304087040/652501473 size 10485760
2019/05/30 18:46:23 DEBUG : snps.bam: Uploading segment 314572800/652501473 size 10485760
2019/05/30 18:46:23 DEBUG : snps.bam: Uploading segment 325058560/652501473 size 10485760
2019/05/30 18:46:24 DEBUG : snps.bam: Uploading segment 335544320/652501473 size 10485760
2019/05/30 18:46:42 DEBUG : snps.bam: Uploading segment 346030080/652501473 size 10485760
2019/05/30 18:46:43 DEBUG : snps.bam: Uploading segment 356515840/652501473 size 10485760
2019/05/30 18:46:44 DEBUG : snps.bam: Uploading segment 367001600/652501473 size 10485760
2019/05/30 18:47:02 DEBUG : snps.bam: Uploading segment 377487360/652501473 size 10485760
2019/05/30 18:47:03 DEBUG : snps.bam: Uploading segment 387973120/652501473 size 10485760
2019/05/30 18:47:03 INFO  : 
Transferred:   437.666 MBytes (2.400 MBytes/s)
Errors:                 0
Checks:                 0
Transferred:           34
Elapsed time:      3m2.3s
Transferring:
 *                                      snps.bam: 61% done, 1.548 MBytes/s, ETA: 2m36s

2019/05/30 18:47:03 DEBUG : snps.bam: Uploading segment 398458880/652501473 size 10485760
2019/05/30 18:47:04 DEBUG : snps.bam: Uploading segment 408944640/652501473 size 10485760
2019/05/30 18:47:21 DEBUG : snps.bam: Uploading segment 419430400/652501473 size 10485760
2019/05/30 18:47:22 DEBUG : snps.bam: Uploading segment 429916160/652501473 size 10485760
2019/05/30 18:47:23 DEBUG : snps.bam: Uploading segment 440401920/652501473 size 10485760
2019/05/30 18:47:23 DEBUG : snps.bam: Uploading segment 450887680/652501473 size 10485760
2019/05/30 18:47:40 DEBUG : snps.bam: Uploading segment 461373440/652501473 size 10485760
2019/05/30 18:47:41 DEBUG : snps.bam: Uploading segment 471859200/652501473 size 10485760
2019/05/30 18:47:42 DEBUG : snps.bam: Uploading segment 482344960/652501473 size 10485760
2019/05/30 18:47:42 DEBUG : snps.bam: Uploading segment 492830720/652501473 size 10485760
2019/05/30 18:47:43 DEBUG : snps.bam: Uploading segment 503316480/652501473 size 10485760
2019/05/30 18:47:44 DEBUG : snps.bam: Uploading segment 513802240/652501473 size 10485760
2019/05/30 18:47:44 DEBUG : snps.bam: Uploading segment 524288000/652501473 size 10485760
2019/05/30 18:47:45 DEBUG : snps.bam: Uploading segment 534773760/652501473 size 10485760
2019/05/30 18:47:46 DEBUG : snps.bam: Uploading segment 545259520/652501473 size 10485760
2019/05/30 18:47:46 DEBUG : snps.bam: Uploading segment 555745280/652501473 size 10485760
2019/05/30 18:47:47 DEBUG : snps.bam: Uploading segment 566231040/652501473 size 10485760
2019/05/30 18:48:03 INFO  : 
Transferred:   607.666 MBytes (2.507 MBytes/s)
Errors:                 0
Checks:                 0
Transferred:           34
Elapsed time:      4m2.3s
Transferring:
 *                                      snps.bam: 88% done, 2.370 MBytes/s, ETA: 30s

2019/05/30 18:48:04 DEBUG : snps.bam: Uploading segment 576716800/652501473 size 10485760
2019/05/30 18:48:05 DEBUG : snps.bam: Uploading segment 587202560/652501473 size 10485760
2019/05/30 18:48:05 DEBUG : snps.bam: Uploading segment 597688320/652501473 size 10485760
2019/05/30 18:48:06 DEBUG : snps.bam: Uploading segment 608174080/652501473 size 10485760
2019/05/30 18:48:23 DEBUG : snps.bam: Uploading segment 618659840/652501473 size 10485760
2019/05/30 18:48:23 DEBUG : snps.bam: Uploading segment 629145600/652501473 size 10485760
2019/05/30 18:48:24 DEBUG : snps.bam: Uploading segment 639631360/652501473 size 10485760
2019/05/30 18:48:25 DEBUG : snps.bam: Uploading segment 650117120/652501473 size 2384353
2019/05/30 18:48:26 INFO  : snps.bam: Copied (new)
2019/05/30 18:48:26 INFO  : 
Transferred:   679.940 MBytes (2.562 MBytes/s)
Errors:                 0
Checks:                 0
Transferred:           35
Elapsed time:     4m25.3s
2019/05/30 18:48:26 DEBUG : Go routines at exit 7
2019/05/30 18:48:26 DEBUG : rclone: Version "v1.36" finishing with parameters ["rclone" "copy" "./SAMEA1877285" "onedrive-em:africanum_analysis/snippy/SAMEA1877285" "-vv"]
[14:48:31] This is snippy 3.2-dev
[14:48:31] Written by Torsten Seemann <torsten.seemann@gmail.com>
[14:48:31] Obtained from https://github.com/tseemann/snippy
[14:48:31] Detected operating system: linux
[14:48:31] Enabling bundled linux tools.
[14:48:31] Found bwa - /opt/snippy/binaries/linux/bwa
[14:48:31] Found samtools - /opt/snippy/binaries/linux/samtools
[14:48:31] Found tabix - /opt/snippy/binaries/linux/tabix
[14:48:31] Found bgzip - /opt/snippy/binaries/linux/bgzip
[14:48:31] Found snpEff - /opt/snippy/binaries/noarch/snpEff
[14:48:31] Found java - /usr/bin/java
[14:48:31] Found gzip - /usr/bin/gzip
[14:48:31] Found parallel - /opt/snippy/binaries/noarch/parallel
[14:48:31] Found freebayes - /opt/snippy/binaries/linux/freebayes
[14:48:31] Found freebayes-parallel - /opt/snippy/binaries/noarch/freebayes-parallel
[14:48:31] Found fasta_generate_regions.py - /opt/snippy/binaries/noarch/fasta_generate_regions.py
[14:48:31] Found vcfstreamsort - /opt/snippy/binaries/linux/vcfstreamsort
[14:48:31] Found vcfuniq - /opt/snippy/binaries/linux/vcfuniq
[14:48:31] Found vcffirstheader - /opt/snippy/binaries/noarch/vcffirstheader
[14:48:31] Found vcf-consensus - /opt/snippy/binaries/noarch/vcf-consensus
[14:48:31] Found snippy-vcf_to_tab - /opt/snippy/bin/snippy-vcf_to_tab
[14:48:31] Found snippy-vcf_report - /opt/snippy/bin/snippy-vcf_report
[14:48:31] Found snippy-vcf_filter - /opt/snippy/bin/snippy-vcf_filter
[14:48:31] Checking version: samtools --version is >= 1.3 - ok, have 1.3
[14:48:31] Using reference: /vagrant/africanum_analysis/lab/NC000962_3.gbk
[14:48:32] Treating reference as 'genbank' format.
[14:48:32] Will use 4 CPU cores.
[14:48:32] Using read file: /vagrant/africanum_analysis/lab/SAMEA2340874_1.fastq.gz
[14:48:32] Using read file: /vagrant/africanum_analysis/lab/SAMEA2340874_2.fastq.gz
[14:48:32] Creating folder: SAMEA2340874
[14:48:32] Changing working directory: SAMEA2340874
[14:48:32] Creating reference folder: reference
[14:48:32] Extracting FASTA and GFF from reference.
[14:48:48] Wrote 1 sequences to ref.fa
[14:48:48] Wrote 4416 features to ref.gff
[14:48:48] Creating reference/snpeff.config
[14:48:48] Freebayes will process 16 chunks of 280319 bp, 4 chunks at a time.
[14:48:48] Using BAM RG (Read Group) ID: snps
[14:48:48] Running: samtools faidx reference/ref.fa 2>> snps.log
[14:48:48] Running: bwa index reference/ref.fa 2>> snps.log
[14:48:56] Running: mkdir reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[14:48:56] Running: mkdir reference/ref && bgzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[14:48:57] Running: snpEff build -c reference/snpeff.config -dataDir . -gff3 ref 2>> snps.log
[14:49:06] Running: (bwa mem  -v 2 -M -R '@RG\tID:snps\tSM:snps' -t 4 reference/ref.fa /vagrant/africanum_analysis/lab/SAMEA2340874_1.fastq.gz /vagrant/africanum_analysis/lab/SAMEA2340874_2.fastq.gz | samtools sort --reference reference/ref.fa > snps.bam) 2>> snps.log
[14:50:43] Running: samtools index snps.bam 2>> snps.log
[14:50:46] Running: samtools depth -q 20 snps.bam | bgzip > snps.depth.gz 2>> snps.log
[14:50:58] Running: tabix -s 1 -b 2 -e 2 snps.depth.gz 2>> snps.log
[14:51:01] Running: fasta_generate_regions.py reference/ref.fa.fai 280319 > reference/ref.txt 2>> snps.log
[14:51:01] Running: freebayes-parallel reference/ref.txt 4 -p 1 -q 20 -m 60 --min-coverage 10 -V -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[14:52:30] Running: /opt/snippy/bin/snippy-vcf_filter --minqual 10 --mincov 10 --minfrac 0.9  snps.raw.vcf > snps.filt.vcf 2>> snps.log
[14:52:31] Running: snpEff ann -no-downstream -no-upstream -no-intergenic -no-utr -c reference/snpeff.config -dataDir . -noStats ref snps.filt.vcf > snps.vcf 2>> snps.log
[14:52:39] Running: bgzip -c snps.vcf > snps.vcf.gz 2>> snps.log
[14:52:39] Running: tabix -p vcf snps.vcf.gz 2>> snps.log
[14:52:39] Running: /opt/snippy/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[14:52:58] Running: vcf-consensus snps.vcf.gz < reference/ref.fa > snps.consensus.fa 2>> snps.log
[14:53:01] Running: /opt/snippy/bin/snippy-vcf_filter --subs snps.filt.vcf > snps.filt.subs.vcf 2>> snps.log
[14:53:02] Running: bgzip -c snps.filt.subs.vcf > snps.filt.subs.vcf.gz 2>> snps.log
[14:53:02] Running: tabix -p vcf snps.filt.subs.vcf.gz 2>> snps.log
[14:53:02] Running: vcf-consensus snps.filt.subs.vcf.gz < reference/ref.fa > snps.consensus.subs.fa 2>> snps.log
[14:53:06] Generating aligned/masked FASTA relative to reference: snps.aligned.fa
[14:53:30] Creating extra output files: BED GFF CSV TXT HTML
[14:53:30] Identified 1944 variants.
[14:53:30] Result folder: SAMEA2340874
[14:53:30] Result files:
[14:53:30] * SAMEA2340874/snps.aligned.fa
[14:53:30] * SAMEA2340874/snps.bam
[14:53:30] * SAMEA2340874/snps.bam.bai
[14:53:30] * SAMEA2340874/snps.bed
[14:53:30] * SAMEA2340874/snps.consensus.fa
[14:53:30] * SAMEA2340874/snps.consensus.subs.fa
[14:53:30] * SAMEA2340874/snps.csv
[14:53:30] * SAMEA2340874/snps.depth.gz
[14:53:30] * SAMEA2340874/snps.depth.gz.tbi
[14:53:30] * SAMEA2340874/snps.filt.subs.vcf
[14:53:30] * SAMEA2340874/snps.filt.subs.vcf.gz
[14:53:30] * SAMEA2340874/snps.filt.subs.vcf.gz.tbi
[14:53:30] * SAMEA2340874/snps.filt.vcf
[14:53:30] * SAMEA2340874/snps.gff
[14:53:30] * SAMEA2340874/snps.html
[14:53:30] * SAMEA2340874/snps.log
[14:53:30] * SAMEA2340874/snps.raw.vcf
[14:53:30] * SAMEA2340874/snps.tab
[14:53:30] * SAMEA2340874/snps.txt
[14:53:30] * SAMEA2340874/snps.vcf
[14:53:30] * SAMEA2340874/snps.vcf.gz
[14:53:30] * SAMEA2340874/snps.vcf.gz.tbi
[14:53:30] Walltime used: 4 minutes, 59 seconds
[14:53:30] Questionable SNP? Try the --report option to see the alignments.
[14:53:30] Done.
2019/05/30 18:53:30 DEBUG : rclone: Version "v1.36" starting with parameters ["rclone" "copy" "./SAMEA2340874" "onedrive-em:africanum_analysis/snippy/SAMEA2340874" "-vv"]
2019/05/30 18:53:32 INFO  : One drive root 'africanum_analysis/snippy/SAMEA2340874': Modify window is 1s
2019/05/30 18:53:32 DEBUG : One drive root 'africanum_analysis/snippy/SAMEA2340874': Reading ""
2019/05/30 18:53:32 DEBUG : One drive root 'africanum_analysis/snippy/SAMEA2340874': Finished reading ""
2019/05/30 18:53:32 DEBUG : snps.bam: Starting multipart upload
2019/05/30 18:53:33 DEBUG : snps.bam: Uploading segment 0/79560550 size 10485760
2019/05/30 18:53:33 INFO  : snps.bam.bai: Copied (new)
2019/05/30 18:53:33 INFO  : snps.bed: Copied (new)
2019/05/30 18:53:34 DEBUG : snps.bam: Uploading segment 10485760/79560550 size 10485760
2019/05/30 18:53:34 INFO  : snps.aligned.fa: Copied (new)
2019/05/30 18:53:34 INFO  : snps.consensus.fa: Copied (new)
2019/05/30 18:53:34 DEBUG : snps.depth.gz: Starting multipart upload
2019/05/30 18:53:34 DEBUG : snps.depth.gz: Uploading segment 0/14118115 size 10485760
2019/05/30 18:53:35 DEBUG : snps.bam: Uploading segment 20971520/79560550 size 10485760
2019/05/30 18:53:35 INFO  : snps.csv: Copied (new)
2019/05/30 18:53:35 DEBUG : snps.depth.gz: Uploading segment 10485760/14118115 size 3632355
2019/05/30 18:53:35 INFO  : snps.depth.gz.tbi: Copied (new)
2019/05/30 18:53:36 INFO  : snps.consensus.subs.fa: Copied (new)
2019/05/30 18:53:36 INFO  : snps.depth.gz: Copied (new)
2019/05/30 18:53:36 DEBUG : snps.bam: Uploading segment 31457280/79560550 size 10485760
2019/05/30 18:53:37 DEBUG : snps.bam: Uploading segment 41943040/79560550 size 10485760
2019/05/30 18:53:37 INFO  : snps.filt.subs.vcf.gz: Copied (new)
2019/05/30 18:53:37 INFO  : snps.filt.subs.vcf: Copied (new)
2019/05/30 18:53:37 INFO  : snps.filt.subs.vcf.gz.tbi: Copied (new)
2019/05/30 18:53:38 INFO  : snps.gff: Copied (new)
2019/05/30 18:53:38 INFO  : snps.filt.vcf: Copied (new)
2019/05/30 18:53:38 INFO  : snps.html: Copied (new)
2019/05/30 18:53:38 INFO  : snps.log: Copied (new)
2019/05/30 18:53:38 DEBUG : snps.bam: Uploading segment 52428800/79560550 size 10485760
2019/05/30 18:53:39 INFO  : snps.txt: Copied (new)
2019/05/30 18:53:39 INFO  : snps.tab: Copied (new)
2019/05/30 18:53:39 INFO  : snps.raw.vcf: Copied (new)
2019/05/30 18:53:39 INFO  : snps.vcf.gz: Copied (new)
2019/05/30 18:53:39 DEBUG : snps.bam: Uploading segment 62914560/79560550 size 10485760
2019/05/30 18:53:40 INFO  : snps.vcf.gz.tbi: Copied (new)
2019/05/30 18:53:40 INFO  : snps.vcf: Copied (new)
2019/05/30 18:53:40 INFO  : reference/ref.fa.amb: Copied (new)
2019/05/30 18:53:40 INFO  : reference/ref.fa.ann: Copied (new)
2019/05/30 18:53:41 DEBUG : snps.bam: Uploading segment 73400320/79560550 size 6160230
2019/05/30 18:53:41 INFO  : reference/ref.fa.fai: Copied (new)
2019/05/30 18:53:42 INFO  : reference/ref.fa: Copied (new)
2019/05/30 18:53:42 INFO  : reference/ref.fa.bwt: Copied (new)
2019/05/30 18:53:42 INFO  : reference/ref.fa.pac: Copied (new)
2019/05/30 18:53:42 INFO  : One drive root 'africanum_analysis/snippy/SAMEA2340874': Waiting for checks to finish
2019/05/30 18:53:42 INFO  : One drive root 'africanum_analysis/snippy/SAMEA2340874': Waiting for transfers to finish
2019/05/30 18:53:43 INFO  : reference/ref.fa.sa: Copied (new)
2019/05/30 18:53:43 INFO  : snps.bam: Copied (new)
2019/05/30 18:53:43 INFO  : reference/ref.txt: Copied (new)
2019/05/30 18:53:44 INFO  : reference/snpeff.config: Copied (new)
2019/05/30 18:53:44 INFO  : reference/ref.gff: Copied (new)
2019/05/30 18:53:45 INFO  : reference/ref/genes.gff.gz: Copied (new)
2019/05/30 18:53:46 INFO  : reference/ref/snpEffectPredictor.bin: Copied (new)
2019/05/30 18:53:46 INFO  : reference/genomes/ref.fa: Copied (new)
2019/05/30 18:53:46 INFO  : 
Transferred:   130.211 MBytes (8.036 MBytes/s)
Errors:                 0
Checks:                 0
Transferred:           35
Elapsed time:       16.2s
2019/05/30 18:53:46 DEBUG : Go routines at exit 15
2019/05/30 18:53:46 DEBUG : rclone: Version "v1.36" finishing with parameters ["rclone" "copy" "./SAMEA2340874" "onedrive-em:africanum_analysis/snippy/SAMEA2340874" "-vv"]
[14:53:51] This is snippy 3.2-dev
[14:53:51] Written by Torsten Seemann <torsten.seemann@gmail.com>
[14:53:51] Obtained from https://github.com/tseemann/snippy
[14:53:51] Detected operating system: linux
[14:53:51] Enabling bundled linux tools.
[14:53:51] Found bwa - /opt/snippy/binaries/linux/bwa
[14:53:51] Found samtools - /opt/snippy/binaries/linux/samtools
[14:53:51] Found tabix - /opt/snippy/binaries/linux/tabix
[14:53:51] Found bgzip - /opt/snippy/binaries/linux/bgzip
[14:53:51] Found snpEff - /opt/snippy/binaries/noarch/snpEff
[14:53:51] Found java - /usr/bin/java
[14:53:51] Found gzip - /usr/bin/gzip
[14:53:51] Found parallel - /opt/snippy/binaries/noarch/parallel
[14:53:51] Found freebayes - /opt/snippy/binaries/linux/freebayes
[14:53:51] Found freebayes-parallel - /opt/snippy/binaries/noarch/freebayes-parallel
[14:53:51] Found fasta_generate_regions.py - /opt/snippy/binaries/noarch/fasta_generate_regions.py
[14:53:51] Found vcfstreamsort - /opt/snippy/binaries/linux/vcfstreamsort
[14:53:51] Found vcfuniq - /opt/snippy/binaries/linux/vcfuniq
[14:53:51] Found vcffirstheader - /opt/snippy/binaries/noarch/vcffirstheader
[14:53:51] Found vcf-consensus - /opt/snippy/binaries/noarch/vcf-consensus
[14:53:51] Found snippy-vcf_to_tab - /opt/snippy/bin/snippy-vcf_to_tab
[14:53:51] Found snippy-vcf_report - /opt/snippy/bin/snippy-vcf_report
[14:53:51] Found snippy-vcf_filter - /opt/snippy/bin/snippy-vcf_filter
[14:53:51] Checking version: samtools --version is >= 1.3 - ok, have 1.3
[14:53:51] Using reference: /vagrant/africanum_analysis/lab/NC000962_3.gbk
[14:53:52] Treating reference as 'genbank' format.
[14:53:52] Will use 4 CPU cores.
[14:53:52] Using read file: /vagrant/africanum_analysis/lab/SAMEA2340875_1.fastq.gz
[14:53:52] Using read file: /vagrant/africanum_analysis/lab/SAMEA2340875_2.fastq.gz
[14:53:52] Creating folder: SAMEA2340875
[14:53:52] Changing working directory: SAMEA2340875
[14:53:52] Creating reference folder: reference
[14:53:52] Extracting FASTA and GFF from reference.
[14:54:09] Wrote 1 sequences to ref.fa
[14:54:09] Wrote 4416 features to ref.gff
[14:54:09] Creating reference/snpeff.config
[14:54:09] Freebayes will process 16 chunks of 280319 bp, 4 chunks at a time.
[14:54:09] Using BAM RG (Read Group) ID: snps
[14:54:09] Running: samtools faidx reference/ref.fa 2>> snps.log
[14:54:09] Running: bwa index reference/ref.fa 2>> snps.log
[14:54:17] Running: mkdir reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[14:54:17] Running: mkdir reference/ref && bgzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[14:54:17] Running: snpEff build -c reference/snpeff.config -dataDir . -gff3 ref 2>> snps.log
[14:54:26] Running: (bwa mem  -v 2 -M -R '@RG\tID:snps\tSM:snps' -t 4 reference/ref.fa /vagrant/africanum_analysis/lab/SAMEA2340875_1.fastq.gz /vagrant/africanum_analysis/lab/SAMEA2340875_2.fastq.gz | samtools sort --reference reference/ref.fa > snps.bam) 2>> snps.log
[15:06:57] Running: samtools index snps.bam 2>> snps.log
[15:07:17] Running: samtools depth -q 20 snps.bam | bgzip > snps.depth.gz 2>> snps.log
[15:07:37] Running: tabix -s 1 -b 2 -e 2 snps.depth.gz 2>> snps.log
[15:07:37] Running: fasta_generate_regions.py reference/ref.fa.fai 280319 > reference/ref.txt 2>> snps.log
[15:07:38] Running: freebayes-parallel reference/ref.txt 4 -p 1 -q 20 -m 60 --min-coverage 10 -V -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[15:07:56] Running: /opt/snippy/bin/snippy-vcf_filter --minqual 10 --mincov 10 --minfrac 0.9  snps.raw.vcf > snps.filt.vcf 2>> snps.log
[15:07:57] Running: snpEff ann -no-downstream -no-upstream -no-intergenic -no-utr -c reference/snpeff.config -dataDir . -noStats ref snps.filt.vcf > snps.vcf 2>> snps.log
[15:08:06] Running: bgzip -c snps.vcf > snps.vcf.gz 2>> snps.log
[15:08:06] Running: tabix -p vcf snps.vcf.gz 2>> snps.log
[15:08:06] Running: /opt/snippy/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[15:08:24] Running: vcf-consensus snps.vcf.gz < reference/ref.fa > snps.consensus.fa 2>> snps.log
[15:08:27] Running: /opt/snippy/bin/snippy-vcf_filter --subs snps.filt.vcf > snps.filt.subs.vcf 2>> snps.log
[15:08:28] Running: bgzip -c snps.filt.subs.vcf > snps.filt.subs.vcf.gz 2>> snps.log
[15:08:28] Running: tabix -p vcf snps.filt.subs.vcf.gz 2>> snps.log
[15:08:28] Running: vcf-consensus snps.filt.subs.vcf.gz < reference/ref.fa > snps.consensus.subs.fa 2>> snps.log
[15:08:32] Generating aligned/masked FASTA relative to reference: snps.aligned.fa
[15:08:36] Creating extra output files: BED GFF CSV TXT HTML
[15:08:37] Identified 1586 variants.
[15:08:37] Result folder: SAMEA2340875
[15:08:37] Result files:
[15:08:37] * SAMEA2340875/snps.aligned.fa
[15:08:37] * SAMEA2340875/snps.bam
[15:08:37] * SAMEA2340875/snps.bam.bai
[15:08:37] * SAMEA2340875/snps.bed
[15:08:37] * SAMEA2340875/snps.consensus.fa
[15:08:37] * SAMEA2340875/snps.consensus.subs.fa
[15:08:37] * SAMEA2340875/snps.csv
[15:08:37] * SAMEA2340875/snps.depth.gz
[15:08:37] * SAMEA2340875/snps.depth.gz.tbi
[15:08:37] * SAMEA2340875/snps.filt.subs.vcf
[15:08:37] * SAMEA2340875/snps.filt.subs.vcf.gz
[15:08:37] * SAMEA2340875/snps.filt.subs.vcf.gz.tbi
[15:08:37] * SAMEA2340875/snps.filt.vcf
[15:08:37] * SAMEA2340875/snps.gff
[15:08:37] * SAMEA2340875/snps.html
[15:08:37] * SAMEA2340875/snps.log
[15:08:37] * SAMEA2340875/snps.raw.vcf
[15:08:37] * SAMEA2340875/snps.tab
[15:08:37] * SAMEA2340875/snps.txt
[15:08:37] * SAMEA2340875/snps.vcf
[15:08:37] * SAMEA2340875/snps.vcf.gz
[15:08:37] * SAMEA2340875/snps.vcf.gz.tbi
[15:08:37] Walltime used: 14 minutes, 46 seconds
[15:08:37] Wishing you a life free of homopolymer errors.
[15:08:37] Done.
2019/05/30 19:08:37 DEBUG : rclone: Version "v1.36" starting with parameters ["rclone" "copy" "./SAMEA2340875" "onedrive-em:africanum_analysis/snippy/SAMEA2340875" "-vv"]
2019/05/30 19:08:39 INFO  : One drive root 'africanum_analysis/snippy/SAMEA2340875': Modify window is 1s
2019/05/30 19:08:40 DEBUG : One drive root 'africanum_analysis/snippy/SAMEA2340875': Reading ""
2019/05/30 19:08:40 DEBUG : One drive root 'africanum_analysis/snippy/SAMEA2340875': Finished reading ""
2019/05/30 19:08:40 DEBUG : snps.bam: Starting multipart upload
2019/05/30 19:08:40 DEBUG : snps.bam: Uploading segment 0/458394875 size 10485760
2019/05/30 19:08:41 DEBUG : snps.bam: Uploading segment 10485760/458394875 size 10485760
2019/05/30 19:08:41 INFO  : snps.bed: Copied (new)
2019/05/30 19:08:41 INFO  : snps.bam.bai: Copied (new)
2019/05/30 19:08:42 DEBUG : snps.bam: Uploading segment 20971520/458394875 size 10485760
2019/05/30 19:08:42 INFO  : snps.aligned.fa: Copied (new)
2019/05/30 19:08:42 DEBUG : snps.bam: Uploading segment 31457280/458394875 size 10485760
2019/05/30 19:08:43 INFO  : snps.csv: Copied (new)
2019/05/30 19:08:43 INFO  : snps.consensus.subs.fa: Copied (new)
2019/05/30 19:08:43 INFO  : snps.consensus.fa: Copied (new)
2019/05/30 19:08:43 DEBUG : snps.bam: Uploading segment 41943040/458394875 size 10485760
2019/05/30 19:08:44 INFO  : snps.depth.gz.tbi: Copied (new)
2019/05/30 19:08:44 DEBUG : snps.bam: Uploading segment 52428800/458394875 size 10485760
2019/05/30 19:08:44 INFO  : snps.filt.subs.vcf.gz: Copied (new)
2019/05/30 19:08:45 INFO  : snps.depth.gz: Copied (new)
2019/05/30 19:08:45 INFO  : snps.filt.subs.vcf.gz.tbi: Copied (new)
2019/05/30 19:08:45 DEBUG : snps.bam: Uploading segment 62914560/458394875 size 10485760
2019/05/30 19:08:45 DEBUG : snps.bam: Uploading segment 73400320/458394875 size 10485760
2019/05/30 19:08:46 INFO  : snps.filt.subs.vcf: Copied (new)
2019/05/30 19:08:46 INFO  : snps.gff: Copied (new)
2019/05/30 19:08:46 INFO  : snps.filt.vcf: Copied (new)
2019/05/30 19:08:46 DEBUG : snps.bam: Uploading segment 83886080/458394875 size 10485760
2019/05/30 19:08:46 INFO  : snps.html: Copied (new)
2019/05/30 19:08:47 DEBUG : snps.bam: Uploading segment 94371840/458394875 size 10485760
2019/05/30 19:08:47 INFO  : snps.log: Copied (new)
2019/05/30 19:08:47 INFO  : snps.raw.vcf: Copied (new)
2019/05/30 19:08:47 DEBUG : snps.bam: Uploading segment 104857600/458394875 size 10485760
2019/05/30 19:08:47 INFO  : snps.tab: Copied (new)
2019/05/30 19:08:48 INFO  : snps.txt: Copied (new)
2019/05/30 19:08:48 INFO  : snps.vcf.gz: Copied (new)
2019/05/30 19:08:48 DEBUG : snps.bam: Uploading segment 115343360/458394875 size 10485760
2019/05/30 19:08:48 INFO  : snps.vcf.gz.tbi: Copied (new)
2019/05/30 19:08:49 DEBUG : snps.bam: Uploading segment 125829120/458394875 size 10485760
2019/05/30 19:08:49 INFO  : reference/ref.fa.amb: Copied (new)
2019/05/30 19:08:49 DEBUG : snps.bam: Uploading segment 136314880/458394875 size 10485760
2019/05/30 19:08:50 INFO  : reference/ref.fa: Copied (new)
2019/05/30 19:08:50 DEBUG : snps.bam: Uploading segment 146800640/458394875 size 10485760
2019/05/30 19:08:50 INFO  : snps.vcf: Copied (new)
2019/05/30 19:08:50 INFO  : reference/ref.fa.ann: Copied (new)
2019/05/30 19:08:51 DEBUG : snps.bam: Uploading segment 157286400/458394875 size 10485760
2019/05/30 19:08:51 DEBUG : snps.bam: Uploading segment 167772160/458394875 size 10485760
2019/05/30 19:08:51 INFO  : reference/ref.fa.fai: Copied (new)
2019/05/30 19:08:52 INFO  : reference/ref.fa.pac: Copied (new)
2019/05/30 19:08:52 INFO  : reference/ref.fa.bwt: Copied (new)
2019/05/30 19:08:52 INFO  : One drive root 'africanum_analysis/snippy/SAMEA2340875': Waiting for checks to finish
2019/05/30 19:08:52 INFO  : One drive root 'africanum_analysis/snippy/SAMEA2340875': Waiting for transfers to finish
2019/05/30 19:08:52 DEBUG : snps.bam: Uploading segment 178257920/458394875 size 10485760
2019/05/30 19:08:52 INFO  : reference/ref.txt: Copied (new)
2019/05/30 19:08:52 DEBUG : snps.bam: Uploading segment 188743680/458394875 size 10485760
2019/05/30 19:08:53 INFO  : reference/ref.fa.sa: Copied (new)
2019/05/30 19:08:53 INFO  : reference/snpeff.config: Copied (new)
2019/05/30 19:08:53 DEBUG : snps.bam: Uploading segment 199229440/458394875 size 10485760
2019/05/30 19:08:53 INFO  : reference/ref.gff: Copied (new)
2019/05/30 19:08:54 DEBUG : snps.bam: Uploading segment 209715200/458394875 size 10485760
2019/05/30 19:08:54 DEBUG : snps.bam: Uploading segment 220200960/458394875 size 10485760
2019/05/30 19:08:55 INFO  : reference/ref/snpEffectPredictor.bin: Copied (new)
2019/05/30 19:08:55 INFO  : reference/ref/genes.gff.gz: Copied (new)
2019/05/30 19:08:55 INFO  : reference/genomes/ref.fa: Copied (new)
2019/05/30 19:08:56 DEBUG : snps.bam: Uploading segment 230686720/458394875 size 10485760
2019/05/30 19:08:56 DEBUG : snps.bam: Uploading segment 241172480/458394875 size 10485760
2019/05/30 19:08:57 DEBUG : snps.bam: Uploading segment 251658240/458394875 size 10485760
2019/05/30 19:08:58 DEBUG : snps.bam: Uploading segment 262144000/458394875 size 10485760
2019/05/30 19:08:58 DEBUG : snps.bam: Uploading segment 272629760/458394875 size 10485760
2019/05/30 19:08:59 DEBUG : snps.bam: Uploading segment 283115520/458394875 size 10485760
2019/05/30 19:09:00 DEBUG : snps.bam: Uploading segment 293601280/458394875 size 10485760
2019/05/30 19:09:01 DEBUG : snps.bam: Uploading segment 304087040/458394875 size 10485760
2019/05/30 19:09:02 DEBUG : snps.bam: Uploading segment 314572800/458394875 size 10485760
2019/05/30 19:09:02 DEBUG : snps.bam: Uploading segment 325058560/458394875 size 10485760
2019/05/30 19:09:03 DEBUG : snps.bam: Uploading segment 335544320/458394875 size 10485760
2019/05/30 19:09:03 DEBUG : snps.bam: Uploading segment 346030080/458394875 size 10485760
2019/05/30 19:09:04 DEBUG : snps.bam: Uploading segment 356515840/458394875 size 10485760
2019/05/30 19:09:05 DEBUG : snps.bam: Uploading segment 367001600/458394875 size 10485760
2019/05/30 19:09:05 DEBUG : snps.bam: Uploading segment 377487360/458394875 size 10485760
2019/05/30 19:09:06 DEBUG : snps.bam: Uploading segment 387973120/458394875 size 10485760
2019/05/30 19:09:07 DEBUG : snps.bam: Uploading segment 398458880/458394875 size 10485760
2019/05/30 19:09:07 DEBUG : snps.bam: Uploading segment 408944640/458394875 size 10485760
2019/05/30 19:09:08 DEBUG : snps.bam: Uploading segment 419430400/458394875 size 10485760
2019/05/30 19:09:09 DEBUG : snps.bam: Uploading segment 429916160/458394875 size 10485760
2019/05/30 19:09:09 DEBUG : snps.bam: Uploading segment 440401920/458394875 size 10485760
2019/05/30 19:09:10 DEBUG : snps.bam: Uploading segment 450887680/458394875 size 7507195
2019/05/30 19:09:12 INFO  : snps.bam: Copied (new)
2019/05/30 19:09:12 INFO  : 
Transferred:   479.898 MBytes (13.723 MBytes/s)
Errors:                 0
Checks:                 0
Transferred:           35
Elapsed time:       34.9s
2019/05/30 19:09:12 DEBUG : Go routines at exit 13
2019/05/30 19:09:12 DEBUG : rclone: Version "v1.36" finishing with parameters ["rclone" "copy" "./SAMEA2340875" "onedrive-em:africanum_analysis/snippy/SAMEA2340875" "-vv"]
[15:09:17] This is snippy 3.2-dev
[15:09:17] Written by Torsten Seemann <torsten.seemann@gmail.com>
[15:09:17] Obtained from https://github.com/tseemann/snippy
[15:09:17] Detected operating system: linux
[15:09:17] Enabling bundled linux tools.
[15:09:17] Found bwa - /opt/snippy/binaries/linux/bwa
[15:09:17] Found samtools - /opt/snippy/binaries/linux/samtools
[15:09:17] Found tabix - /opt/snippy/binaries/linux/tabix
[15:09:17] Found bgzip - /opt/snippy/binaries/linux/bgzip
[15:09:17] Found snpEff - /opt/snippy/binaries/noarch/snpEff
[15:09:17] Found java - /usr/bin/java
[15:09:17] Found gzip - /usr/bin/gzip
[15:09:17] Found parallel - /opt/snippy/binaries/noarch/parallel
[15:09:17] Found freebayes - /opt/snippy/binaries/linux/freebayes
[15:09:17] Found freebayes-parallel - /opt/snippy/binaries/noarch/freebayes-parallel
[15:09:17] Found fasta_generate_regions.py - /opt/snippy/binaries/noarch/fasta_generate_regions.py
[15:09:17] Found vcfstreamsort - /opt/snippy/binaries/linux/vcfstreamsort
[15:09:17] Found vcfuniq - /opt/snippy/binaries/linux/vcfuniq
[15:09:17] Found vcffirstheader - /opt/snippy/binaries/noarch/vcffirstheader
[15:09:17] Found vcf-consensus - /opt/snippy/binaries/noarch/vcf-consensus
[15:09:17] Found snippy-vcf_to_tab - /opt/snippy/bin/snippy-vcf_to_tab
[15:09:17] Found snippy-vcf_report - /opt/snippy/bin/snippy-vcf_report
[15:09:17] Found snippy-vcf_filter - /opt/snippy/bin/snippy-vcf_filter
[15:09:17] Checking version: samtools --version is >= 1.3 - ok, have 1.3
[15:09:17] Using reference: /vagrant/africanum_analysis/lab/NC000962_3.gbk
[15:09:18] Treating reference as 'genbank' format.
[15:09:18] Will use 4 CPU cores.
[15:09:18] Using read file: /vagrant/africanum_analysis/lab/SAMEA2340876_1.fastq.gz
[15:09:18] Using read file: /vagrant/africanum_analysis/lab/SAMEA2340876_2.fastq.gz
[15:09:18] Creating folder: SAMEA2340876
[15:09:18] Changing working directory: SAMEA2340876
[15:09:18] Creating reference folder: reference
[15:09:18] Extracting FASTA and GFF from reference.
[15:09:34] Wrote 1 sequences to ref.fa
[15:09:34] Wrote 4416 features to ref.gff
[15:09:34] Creating reference/snpeff.config
[15:09:34] Freebayes will process 16 chunks of 280319 bp, 4 chunks at a time.
[15:09:34] Using BAM RG (Read Group) ID: snps
[15:09:34] Running: samtools faidx reference/ref.fa 2>> snps.log
[15:09:34] Running: bwa index reference/ref.fa 2>> snps.log
[15:09:42] Running: mkdir reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[15:09:42] Running: mkdir reference/ref && bgzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[15:09:43] Running: snpEff build -c reference/snpeff.config -dataDir . -gff3 ref 2>> snps.log
[15:09:52] Running: (bwa mem  -v 2 -M -R '@RG\tID:snps\tSM:snps' -t 4 reference/ref.fa /vagrant/africanum_analysis/lab/SAMEA2340876_1.fastq.gz /vagrant/africanum_analysis/lab/SAMEA2340876_2.fastq.gz | samtools sort --reference reference/ref.fa > snps.bam) 2>> snps.log
[15:20:41] Running: samtools index snps.bam 2>> snps.log
[15:21:00] Running: samtools depth -q 20 snps.bam | bgzip > snps.depth.gz 2>> snps.log
[15:21:50] Running: tabix -s 1 -b 2 -e 2 snps.depth.gz 2>> snps.log
[15:21:53] Running: fasta_generate_regions.py reference/ref.fa.fai 280319 > reference/ref.txt 2>> snps.log
[15:21:53] Running: freebayes-parallel reference/ref.txt 4 -p 1 -q 20 -m 60 --min-coverage 10 -V -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[15:28:05] Running: /opt/snippy/bin/snippy-vcf_filter --minqual 10 --mincov 10 --minfrac 0.9  snps.raw.vcf > snps.filt.vcf 2>> snps.log
[15:28:06] Running: snpEff ann -no-downstream -no-upstream -no-intergenic -no-utr -c reference/snpeff.config -dataDir . -noStats ref snps.filt.vcf > snps.vcf 2>> snps.log
[15:28:16] Running: bgzip -c snps.vcf > snps.vcf.gz 2>> snps.log
[15:28:16] Running: tabix -p vcf snps.vcf.gz 2>> snps.log
[15:28:16] Running: /opt/snippy/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[15:28:34] Running: vcf-consensus snps.vcf.gz < reference/ref.fa > snps.consensus.fa 2>> snps.log
[15:28:38] Running: /opt/snippy/bin/snippy-vcf_filter --subs snps.filt.vcf > snps.filt.subs.vcf 2>> snps.log
[15:28:39] Running: bgzip -c snps.filt.subs.vcf > snps.filt.subs.vcf.gz 2>> snps.log
[15:28:39] Running: tabix -p vcf snps.filt.subs.vcf.gz 2>> snps.log
[15:28:39] Running: vcf-consensus snps.filt.subs.vcf.gz < reference/ref.fa > snps.consensus.subs.fa 2>> snps.log
[15:28:42] Generating aligned/masked FASTA relative to reference: snps.aligned.fa
[15:29:07] Creating extra output files: BED GFF CSV TXT HTML
[15:29:07] Identified 2247 variants.
[15:29:07] Result folder: SAMEA2340876
[15:29:07] Result files:
[15:29:07] * SAMEA2340876/snps.aligned.fa
[15:29:07] * SAMEA2340876/snps.bam
[15:29:07] * SAMEA2340876/snps.bam.bai
[15:29:07] * SAMEA2340876/snps.bed
[15:29:07] * SAMEA2340876/snps.consensus.fa
[15:29:07] * SAMEA2340876/snps.consensus.subs.fa
[15:29:07] * SAMEA2340876/snps.csv
[15:29:07] * SAMEA2340876/snps.depth.gz
[15:29:07] * SAMEA2340876/snps.depth.gz.tbi
[15:29:07] * SAMEA2340876/snps.filt.subs.vcf
[15:29:07] * SAMEA2340876/snps.filt.subs.vcf.gz
[15:29:07] * SAMEA2340876/snps.filt.subs.vcf.gz.tbi
[15:29:07] * SAMEA2340876/snps.filt.vcf
[15:29:07] * SAMEA2340876/snps.gff
[15:29:07] * SAMEA2340876/snps.html
[15:29:07] * SAMEA2340876/snps.log
[15:29:07] * SAMEA2340876/snps.raw.vcf
[15:29:07] * SAMEA2340876/snps.tab
[15:29:07] * SAMEA2340876/snps.txt
[15:29:07] * SAMEA2340876/snps.vcf
[15:29:07] * SAMEA2340876/snps.vcf.gz
[15:29:07] * SAMEA2340876/snps.vcf.gz.tbi
[15:29:07] Walltime used: 19 minutes, 50 seconds
[15:29:07] Found a bug? Post it at https://github.com/tseemann/snippy/issues
[15:29:07] Done.
2019/05/30 19:29:08 DEBUG : rclone: Version "v1.36" starting with parameters ["rclone" "copy" "./SAMEA2340876" "onedrive-em:africanum_analysis/snippy/SAMEA2340876" "-vv"]
2019/05/30 19:29:09 INFO  : One drive root 'africanum_analysis/snippy/SAMEA2340876': Modify window is 1s
2019/05/30 19:29:09 DEBUG : One drive root 'africanum_analysis/snippy/SAMEA2340876': Reading ""
2019/05/30 19:29:09 DEBUG : One drive root 'africanum_analysis/snippy/SAMEA2340876': Finished reading ""
2019/05/30 19:29:09 DEBUG : snps.bam: Starting multipart upload
2019/05/30 19:29:10 DEBUG : snps.bam: Uploading segment 0/445723166 size 10485760
2019/05/30 19:29:10 INFO  : snps.bed: Copied (new)
2019/05/30 19:29:10 INFO  : snps.bam.bai: Copied (new)
2019/05/30 19:29:10 DEBUG : snps.bam: Uploading segment 10485760/445723166 size 10485760
2019/05/30 19:29:11 DEBUG : snps.bam: Uploading segment 20971520/445723166 size 10485760
2019/05/30 19:29:11 INFO  : snps.aligned.fa: Copied (new)
2019/05/30 19:29:12 INFO  : snps.consensus.fa: Copied (new)
2019/05/30 19:29:12 DEBUG : snps.depth.gz: Starting multipart upload
2019/05/30 19:29:12 DEBUG : snps.bam: Uploading segment 31457280/445723166 size 10485760
2019/05/30 19:29:12 DEBUG : snps.depth.gz: Uploading segment 0/15470715 size 10485760
2019/05/30 19:29:12 INFO  : snps.consensus.subs.fa: Copied (new)
2019/05/30 19:29:13 INFO  : snps.csv: Copied (new)
2019/05/30 19:29:13 INFO  : snps.depth.gz.tbi: Copied (new)
2019/05/30 19:29:13 DEBUG : snps.bam: Uploading segment 41943040/445723166 size 10485760
2019/05/30 19:29:13 DEBUG : snps.depth.gz: Uploading segment 10485760/15470715 size 4984955
2019/05/30 19:29:14 INFO  : snps.filt.subs.vcf: Copied (new)
2019/05/30 19:29:14 INFO  : snps.filt.subs.vcf.gz: Copied (new)
2019/05/30 19:29:14 DEBUG : snps.bam: Uploading segment 52428800/445723166 size 10485760
2019/05/30 19:29:14 INFO  : snps.filt.subs.vcf.gz.tbi: Copied (new)
2019/05/30 19:29:14 INFO  : snps.depth.gz: Copied (new)
2019/05/30 19:29:15 INFO  : snps.filt.vcf: Copied (new)
2019/05/30 19:29:15 INFO  : snps.gff: Copied (new)
2019/05/30 19:29:15 DEBUG : snps.bam: Uploading segment 62914560/445723166 size 10485760
2019/05/30 19:29:15 INFO  : snps.log: Copied (new)
2019/05/30 19:29:15 INFO  : snps.html: Copied (new)
2019/05/30 19:29:16 INFO  : snps.txt: Copied (new)
2019/05/30 19:29:16 DEBUG : snps.bam: Uploading segment 73400320/445723166 size 10485760
2019/05/30 19:29:16 INFO  : snps.tab: Copied (new)
2019/05/30 19:29:16 INFO  : snps.raw.vcf: Copied (new)
2019/05/30 19:29:17 DEBUG : snps.bam: Uploading segment 83886080/445723166 size 10485760
2019/05/30 19:29:17 INFO  : snps.vcf.gz.tbi: Copied (new)
2019/05/30 19:29:17 INFO  : snps.vcf.gz: Copied (new)
2019/05/30 19:29:17 INFO  : snps.vcf: Copied (new)
2019/05/30 19:29:18 INFO  : reference/ref.fa.ann: Copied (new)
2019/05/30 19:29:18 DEBUG : snps.bam: Uploading segment 94371840/445723166 size 10485760
2019/05/30 19:29:19 INFO  : reference/ref.fa.amb: Copied (new)
2019/05/30 19:29:19 DEBUG : snps.bam: Uploading segment 104857600/445723166 size 10485760
2019/05/30 19:29:19 INFO  : reference/ref.fa.fai: Copied (new)
2019/05/30 19:29:20 INFO  : reference/ref.fa.bwt: Copied (new)
2019/05/30 19:29:20 DEBUG : snps.bam: Uploading segment 115343360/445723166 size 10485760
2019/05/30 19:29:20 INFO  : reference/ref.fa: Copied (new)
2019/05/30 19:29:20 INFO  : reference/ref.fa.pac: Copied (new)
2019/05/30 19:29:20 INFO  : One drive root 'africanum_analysis/snippy/SAMEA2340876': Waiting for checks to finish
2019/05/30 19:29:20 INFO  : One drive root 'africanum_analysis/snippy/SAMEA2340876': Waiting for transfers to finish
2019/05/30 19:29:21 INFO  : reference/ref.txt: Copied (new)
2019/05/30 19:29:21 DEBUG : snps.bam: Uploading segment 125829120/445723166 size 10485760
2019/05/30 19:29:21 INFO  : reference/snpeff.config: Copied (new)
2019/05/30 19:29:21 INFO  : reference/ref.fa.sa: Copied (new)
2019/05/30 19:29:22 INFO  : reference/ref/genes.gff.gz: Copied (new)
2019/05/30 19:29:22 DEBUG : snps.bam: Uploading segment 136314880/445723166 size 10485760
2019/05/30 19:29:23 INFO  : reference/ref.gff: Copied (new)
2019/05/30 19:29:23 DEBUG : snps.bam: Uploading segment 146800640/445723166 size 10485760
2019/05/30 19:29:24 INFO  : reference/genomes/ref.fa: Copied (new)
2019/05/30 19:29:24 DEBUG : snps.bam: Uploading segment 157286400/445723166 size 10485760
2019/05/30 19:29:25 DEBUG : snps.bam: Uploading segment 167772160/445723166 size 10485760
2019/05/30 19:29:25 INFO  : reference/ref/snpEffectPredictor.bin: Copied (new)
2019/05/30 19:29:26 DEBUG : snps.bam: Uploading segment 178257920/445723166 size 10485760
2019/05/30 19:29:27 DEBUG : snps.bam: Uploading segment 188743680/445723166 size 10485760
2019/05/30 19:29:27 DEBUG : snps.bam: Uploading segment 199229440/445723166 size 10485760
2019/05/30 19:29:28 DEBUG : snps.bam: Uploading segment 209715200/445723166 size 10485760
2019/05/30 19:29:29 DEBUG : snps.bam: Uploading segment 220200960/445723166 size 10485760
2019/05/30 19:29:29 DEBUG : snps.bam: Uploading segment 230686720/445723166 size 10485760
2019/05/30 19:29:30 DEBUG : snps.bam: Uploading segment 241172480/445723166 size 10485760
2019/05/30 19:29:30 DEBUG : snps.bam: Uploading segment 251658240/445723166 size 10485760
2019/05/30 19:29:31 DEBUG : snps.bam: Uploading segment 262144000/445723166 size 10485760
2019/05/30 19:29:32 DEBUG : snps.bam: Uploading segment 272629760/445723166 size 10485760
2019/05/30 19:29:32 DEBUG : snps.bam: Uploading segment 283115520/445723166 size 10485760
2019/05/30 19:29:35 DEBUG : snps.bam: Uploading segment 293601280/445723166 size 10485760
2019/05/30 19:29:36 DEBUG : snps.bam: Uploading segment 304087040/445723166 size 10485760
2019/05/30 19:29:36 DEBUG : snps.bam: Uploading segment 314572800/445723166 size 10485760
2019/05/30 19:29:37 DEBUG : snps.bam: Uploading segment 325058560/445723166 size 10485760
2019/05/30 19:29:38 DEBUG : snps.bam: Uploading segment 335544320/445723166 size 10485760
2019/05/30 19:29:39 DEBUG : snps.bam: Uploading segment 346030080/445723166 size 10485760
2019/05/30 19:29:40 DEBUG : snps.bam: Uploading segment 356515840/445723166 size 10485760
2019/05/30 19:29:40 DEBUG : snps.bam: Uploading segment 367001600/445723166 size 10485760
2019/05/30 19:29:41 DEBUG : snps.bam: Uploading segment 377487360/445723166 size 10485760
2019/05/30 19:29:42 DEBUG : snps.bam: Uploading segment 387973120/445723166 size 10485760
2019/05/30 19:29:42 DEBUG : snps.bam: Uploading segment 398458880/445723166 size 10485760
2019/05/30 19:29:43 DEBUG : snps.bam: Uploading segment 408944640/445723166 size 10485760
2019/05/30 19:29:44 DEBUG : snps.bam: Uploading segment 419430400/445723166 size 10485760
2019/05/30 19:29:45 DEBUG : snps.bam: Uploading segment 429916160/445723166 size 10485760
2019/05/30 19:29:46 DEBUG : snps.bam: Uploading segment 440401920/445723166 size 5321246
2019/05/30 19:29:47 INFO  : snps.bam: Copied (new)
2019/05/30 19:29:47 INFO  : 
Transferred:   481.631 MBytes (12.107 MBytes/s)
Errors:                 0
Checks:                 0
Transferred:           35
Elapsed time:       39.7s
2019/05/30 19:29:47 DEBUG : Go routines at exit 13
2019/05/30 19:29:47 DEBUG : rclone: Version "v1.36" finishing with parameters ["rclone" "copy" "./SAMEA2340876" "onedrive-em:africanum_analysis/snippy/SAMEA2340876" "-vv"]
[15:29:52] This is snippy 3.2-dev
[15:29:52] Written by Torsten Seemann <torsten.seemann@gmail.com>
[15:29:52] Obtained from https://github.com/tseemann/snippy
[15:29:52] Detected operating system: linux
[15:29:52] Enabling bundled linux tools.
[15:29:52] Found bwa - /opt/snippy/binaries/linux/bwa
[15:29:52] Found samtools - /opt/snippy/binaries/linux/samtools
[15:29:52] Found tabix - /opt/snippy/binaries/linux/tabix
[15:29:52] Found bgzip - /opt/snippy/binaries/linux/bgzip
[15:29:53] Found snpEff - /opt/snippy/binaries/noarch/snpEff
[15:29:53] Found java - /usr/bin/java
[15:29:53] Found gzip - /usr/bin/gzip
[15:29:53] Found parallel - /opt/snippy/binaries/noarch/parallel
[15:29:53] Found freebayes - /opt/snippy/binaries/linux/freebayes
[15:29:53] Found freebayes-parallel - /opt/snippy/binaries/noarch/freebayes-parallel
[15:29:53] Found fasta_generate_regions.py - /opt/snippy/binaries/noarch/fasta_generate_regions.py
[15:29:53] Found vcfstreamsort - /opt/snippy/binaries/linux/vcfstreamsort
[15:29:53] Found vcfuniq - /opt/snippy/binaries/linux/vcfuniq
[15:29:53] Found vcffirstheader - /opt/snippy/binaries/noarch/vcffirstheader
[15:29:53] Found vcf-consensus - /opt/snippy/binaries/noarch/vcf-consensus
[15:29:53] Found snippy-vcf_to_tab - /opt/snippy/bin/snippy-vcf_to_tab
[15:29:53] Found snippy-vcf_report - /opt/snippy/bin/snippy-vcf_report
[15:29:53] Found snippy-vcf_filter - /opt/snippy/bin/snippy-vcf_filter
[15:29:53] Checking version: samtools --version is >= 1.3 - ok, have 1.3
[15:29:53] Using reference: /vagrant/africanum_analysis/lab/NC000962_3.gbk
[15:29:53] Treating reference as 'genbank' format.
[15:29:53] Will use 4 CPU cores.
[15:29:53] Using read file: /vagrant/africanum_analysis/lab/SAMEA2340880_1.fastq.gz
[15:29:53] Using read file: /vagrant/africanum_analysis/lab/SAMEA2340880_2.fastq.gz
[15:29:53] Creating folder: SAMEA2340880
[15:29:53] Changing working directory: SAMEA2340880
[15:29:53] Creating reference folder: reference
[15:29:53] Extracting FASTA and GFF from reference.
[15:30:10] Wrote 1 sequences to ref.fa
[15:30:10] Wrote 4416 features to ref.gff
[15:30:10] Creating reference/snpeff.config
[15:30:10] Freebayes will process 16 chunks of 280319 bp, 4 chunks at a time.
[15:30:10] Using BAM RG (Read Group) ID: snps
[15:30:10] Running: samtools faidx reference/ref.fa 2>> snps.log
[15:30:10] Running: bwa index reference/ref.fa 2>> snps.log
[15:30:18] Running: mkdir reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[15:30:18] Running: mkdir reference/ref && bgzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[15:30:18] Running: snpEff build -c reference/snpeff.config -dataDir . -gff3 ref 2>> snps.log
[15:30:27] Running: (bwa mem  -v 2 -M -R '@RG\tID:snps\tSM:snps' -t 4 reference/ref.fa /vagrant/africanum_analysis/lab/SAMEA2340880_1.fastq.gz /vagrant/africanum_analysis/lab/SAMEA2340880_2.fastq.gz | samtools sort --reference reference/ref.fa > snps.bam) 2>> snps.log
[15:39:38] Running: samtools index snps.bam 2>> snps.log
[15:39:54] Running: samtools depth -q 20 snps.bam | bgzip > snps.depth.gz 2>> snps.log
[15:40:53] Running: tabix -s 1 -b 2 -e 2 snps.depth.gz 2>> snps.log
[15:40:56] Running: fasta_generate_regions.py reference/ref.fa.fai 280319 > reference/ref.txt 2>> snps.log
[15:40:56] Running: freebayes-parallel reference/ref.txt 4 -p 1 -q 20 -m 60 --min-coverage 10 -V -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[15:48:29] Running: /opt/snippy/bin/snippy-vcf_filter --minqual 10 --mincov 10 --minfrac 0.9  snps.raw.vcf > snps.filt.vcf 2>> snps.log
[15:48:30] Running: snpEff ann -no-downstream -no-upstream -no-intergenic -no-utr -c reference/snpeff.config -dataDir . -noStats ref snps.filt.vcf > snps.vcf 2>> snps.log
[15:48:39] Running: bgzip -c snps.vcf > snps.vcf.gz 2>> snps.log
[15:48:39] Running: tabix -p vcf snps.vcf.gz 2>> snps.log
[15:48:39] Running: /opt/snippy/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[15:48:58] Running: vcf-consensus snps.vcf.gz < reference/ref.fa > snps.consensus.fa 2>> snps.log
[15:49:01] Running: /opt/snippy/bin/snippy-vcf_filter --subs snps.filt.vcf > snps.filt.subs.vcf 2>> snps.log
[15:49:02] Running: bgzip -c snps.filt.subs.vcf > snps.filt.subs.vcf.gz 2>> snps.log
[15:49:02] Running: tabix -p vcf snps.filt.subs.vcf.gz 2>> snps.log
[15:49:02] Running: vcf-consensus snps.filt.subs.vcf.gz < reference/ref.fa > snps.consensus.subs.fa 2>> snps.log
[15:49:06] Generating aligned/masked FASTA relative to reference: snps.aligned.fa
[15:49:30] Creating extra output files: BED GFF CSV TXT HTML
[15:49:30] Identified 2242 variants.
[15:49:30] Result folder: SAMEA2340880
[15:49:30] Result files:
[15:49:30] * SAMEA2340880/snps.aligned.fa
[15:49:30] * SAMEA2340880/snps.bam
[15:49:30] * SAMEA2340880/snps.bam.bai
[15:49:30] * SAMEA2340880/snps.bed
[15:49:30] * SAMEA2340880/snps.consensus.fa
[15:49:30] * SAMEA2340880/snps.consensus.subs.fa
[15:49:30] * SAMEA2340880/snps.csv
[15:49:30] * SAMEA2340880/snps.depth.gz
[15:49:30] * SAMEA2340880/snps.depth.gz.tbi
[15:49:30] * SAMEA2340880/snps.filt.subs.vcf
[15:49:30] * SAMEA2340880/snps.filt.subs.vcf.gz
[15:49:30] * SAMEA2340880/snps.filt.subs.vcf.gz.tbi
[15:49:30] * SAMEA2340880/snps.filt.vcf
[15:49:30] * SAMEA2340880/snps.gff
[15:49:30] * SAMEA2340880/snps.html
[15:49:30] * SAMEA2340880/snps.log
[15:49:30] * SAMEA2340880/snps.raw.vcf
[15:49:30] * SAMEA2340880/snps.tab
[15:49:30] * SAMEA2340880/snps.txt
[15:49:30] * SAMEA2340880/snps.vcf
[15:49:30] * SAMEA2340880/snps.vcf.gz
[15:49:30] * SAMEA2340880/snps.vcf.gz.tbi
[15:49:30] Walltime used: 19 minutes, 38 seconds
[15:49:30] May the SNPs be with you.
[15:49:30] Done.
2019/05/30 19:49:30 DEBUG : rclone: Version "v1.36" starting with parameters ["rclone" "copy" "./SAMEA2340880" "onedrive-em:africanum_analysis/snippy/SAMEA2340880" "-vv"]
2019/05/30 19:49:31 DEBUG : onedrive-em: Saved new token in config file
2019/05/30 19:49:34 INFO  : One drive root 'africanum_analysis/snippy/SAMEA2340880': Modify window is 1s
2019/05/30 19:49:34 DEBUG : One drive root 'africanum_analysis/snippy/SAMEA2340880': Reading ""
2019/05/30 19:49:34 DEBUG : One drive root 'africanum_analysis/snippy/SAMEA2340880': Finished reading ""
2019/05/30 19:49:34 DEBUG : snps.bam: Starting multipart upload
2019/05/30 19:49:35 DEBUG : snps.bam: Uploading segment 0/374935889 size 10485760
2019/05/30 19:49:35 INFO  : snps.bam.bai: Copied (new)
2019/05/30 19:49:35 INFO  : snps.bed: Copied (new)
2019/05/30 19:49:35 DEBUG : snps.bam: Uploading segment 10485760/374935889 size 10485760
2019/05/30 19:49:36 DEBUG : snps.bam: Uploading segment 20971520/374935889 size 10485760
2019/05/30 19:49:36 INFO  : snps.aligned.fa: Copied (new)
2019/05/30 19:49:37 DEBUG : snps.bam: Uploading segment 31457280/374935889 size 10485760
2019/05/30 19:49:37 INFO  : snps.consensus.fa: Copied (new)
2019/05/30 19:49:37 DEBUG : snps.depth.gz: Starting multipart upload
2019/05/30 19:49:37 DEBUG : snps.depth.gz: Uploading segment 0/15757052 size 10485760
2019/05/30 19:49:37 INFO  : snps.csv: Copied (new)
2019/05/30 19:49:37 INFO  : snps.consensus.subs.fa: Copied (new)
2019/05/30 19:49:37 DEBUG : snps.bam: Uploading segment 41943040/374935889 size 10485760
2019/05/30 19:49:38 DEBUG : snps.depth.gz: Uploading segment 10485760/15757052 size 5271292
2019/05/30 19:49:38 INFO  : snps.depth.gz.tbi: Copied (new)
2019/05/30 19:49:38 INFO  : snps.filt.subs.vcf: Copied (new)
2019/05/30 19:49:39 INFO  : snps.depth.gz: Copied (new)
2019/05/30 19:49:39 DEBUG : snps.bam: Uploading segment 52428800/374935889 size 10485760
2019/05/30 19:49:39 INFO  : snps.filt.subs.vcf.gz.tbi: Copied (new)
2019/05/30 19:49:39 INFO  : snps.filt.subs.vcf.gz: Copied (new)
2019/05/30 19:49:40 DEBUG : snps.bam: Uploading segment 62914560/374935889 size 10485760
2019/05/30 19:49:40 INFO  : snps.filt.vcf: Copied (new)
2019/05/30 19:49:40 DEBUG : snps.bam: Uploading segment 73400320/374935889 size 10485760
2019/05/30 19:49:40 INFO  : snps.html: Copied (new)
2019/05/30 19:49:40 INFO  : snps.log: Copied (new)
2019/05/30 19:49:41 DEBUG : snps.bam: Uploading segment 83886080/374935889 size 10485760
2019/05/30 19:49:41 INFO  : snps.gff: Copied (new)
2019/05/30 19:49:41 INFO  : snps.tab: Copied (new)
2019/05/30 19:49:41 DEBUG : snps.bam: Uploading segment 94371840/374935889 size 10485760
2019/05/30 19:49:42 INFO  : snps.txt: Copied (new)
2019/05/30 19:49:42 DEBUG : snps.bam: Uploading segment 104857600/374935889 size 10485760
2019/05/30 19:49:42 INFO  : snps.raw.vcf: Copied (new)
2019/05/30 19:49:43 INFO  : snps.vcf.gz: Copied (new)
2019/05/30 19:49:43 INFO  : snps.vcf: Copied (new)
2019/05/30 19:49:43 INFO  : snps.vcf.gz.tbi: Copied (new)
2019/05/30 19:49:43 DEBUG : snps.bam: Uploading segment 115343360/374935889 size 10485760
2019/05/30 19:49:44 DEBUG : snps.bam: Uploading segment 125829120/374935889 size 10485760
2019/05/30 19:49:44 INFO  : reference/ref.fa.amb: Copied (new)
2019/05/30 19:49:44 DEBUG : snps.bam: Uploading segment 136314880/374935889 size 10485760
2019/05/30 19:49:45 INFO  : reference/ref.fa.ann: Copied (new)
2019/05/30 19:49:45 DEBUG : snps.bam: Uploading segment 146800640/374935889 size 10485760
2019/05/30 19:49:45 INFO  : reference/ref.fa: Copied (new)
2019/05/30 19:49:46 DEBUG : snps.bam: Uploading segment 157286400/374935889 size 10485760
2019/05/30 19:49:46 INFO  : reference/ref.fa.fai: Copied (new)
2019/05/30 19:49:46 INFO  : reference/ref.fa.bwt: Copied (new)
2019/05/30 19:49:46 DEBUG : snps.bam: Uploading segment 167772160/374935889 size 10485760
2019/05/30 19:49:46 INFO  : reference/ref.fa.pac: Copied (new)
2019/05/30 19:49:46 INFO  : One drive root 'africanum_analysis/snippy/SAMEA2340880': Waiting for checks to finish
2019/05/30 19:49:46 INFO  : One drive root 'africanum_analysis/snippy/SAMEA2340880': Waiting for transfers to finish
2019/05/30 19:49:47 DEBUG : snps.bam: Uploading segment 178257920/374935889 size 10485760
2019/05/30 19:49:47 INFO  : reference/ref.txt: Copied (new)
2019/05/30 19:49:47 DEBUG : snps.bam: Uploading segment 188743680/374935889 size 10485760
2019/05/30 19:49:47 INFO  : reference/ref.fa.sa: Copied (new)
2019/05/30 19:49:47 INFO  : reference/snpeff.config: Copied (new)
2019/05/30 19:49:48 INFO  : reference/ref.gff: Copied (new)
2019/05/30 19:49:48 DEBUG : snps.bam: Uploading segment 199229440/374935889 size 10485760
2019/05/30 19:49:49 DEBUG : snps.bam: Uploading segment 209715200/374935889 size 10485760
2019/05/30 19:49:49 INFO  : reference/ref/snpEffectPredictor.bin: Copied (new)
2019/05/30 19:49:50 DEBUG : snps.bam: Uploading segment 220200960/374935889 size 10485760
2019/05/30 19:49:50 INFO  : reference/genomes/ref.fa: Copied (new)
2019/05/30 19:49:50 INFO  : reference/ref/genes.gff.gz: Copied (new)
2019/05/30 19:49:50 DEBUG : snps.bam: Uploading segment 230686720/374935889 size 10485760
2019/05/30 19:49:51 DEBUG : snps.bam: Uploading segment 241172480/374935889 size 10485760
2019/05/30 19:49:51 DEBUG : snps.bam: Uploading segment 251658240/374935889 size 10485760
2019/05/30 19:49:52 DEBUG : snps.bam: Uploading segment 262144000/374935889 size 10485760
2019/05/30 19:49:53 DEBUG : snps.bam: Uploading segment 272629760/374935889 size 10485760
2019/05/30 19:49:53 DEBUG : snps.bam: Uploading segment 283115520/374935889 size 10485760
2019/05/30 19:49:54 DEBUG : snps.bam: Uploading segment 293601280/374935889 size 10485760
2019/05/30 19:49:54 DEBUG : snps.bam: Uploading segment 304087040/374935889 size 10485760
2019/05/30 19:49:55 DEBUG : snps.bam: Uploading segment 314572800/374935889 size 10485760
2019/05/30 19:49:56 DEBUG : snps.bam: Uploading segment 325058560/374935889 size 10485760
2019/05/30 19:49:56 DEBUG : snps.bam: Uploading segment 335544320/374935889 size 10485760
2019/05/30 19:49:57 DEBUG : snps.bam: Uploading segment 346030080/374935889 size 10485760
2019/05/30 19:49:57 DEBUG : snps.bam: Uploading segment 356515840/374935889 size 10485760
2019/05/30 19:49:59 DEBUG : snps.bam: Uploading segment 367001600/374935889 size 7934289
2019/05/30 19:50:00 INFO  : snps.bam: Copied (new)
2019/05/30 19:50:00 INFO  : 
Transferred:   414.506 MBytes (13.801 MBytes/s)
Errors:                 0
Checks:                 0
Transferred:           35
Elapsed time:         30s
2019/05/30 19:50:00 DEBUG : Go routines at exit 15
2019/05/30 19:50:00 DEBUG : rclone: Version "v1.36" finishing with parameters ["rclone" "copy" "./SAMEA2340880" "onedrive-em:africanum_analysis/snippy/SAMEA2340880" "-vv"]
[15:50:05] This is snippy 3.2-dev
[15:50:05] Written by Torsten Seemann <torsten.seemann@gmail.com>
[15:50:05] Obtained from https://github.com/tseemann/snippy
[15:50:05] Detected operating system: linux
[15:50:05] Enabling bundled linux tools.
[15:50:05] Found bwa - /opt/snippy/binaries/linux/bwa
[15:50:05] Found samtools - /opt/snippy/binaries/linux/samtools
[15:50:05] Found tabix - /opt/snippy/binaries/linux/tabix
[15:50:05] Found bgzip - /opt/snippy/binaries/linux/bgzip
[15:50:05] Found snpEff - /opt/snippy/binaries/noarch/snpEff
[15:50:05] Found java - /usr/bin/java
[15:50:05] Found gzip - /usr/bin/gzip
[15:50:05] Found parallel - /opt/snippy/binaries/noarch/parallel
[15:50:05] Found freebayes - /opt/snippy/binaries/linux/freebayes
[15:50:05] Found freebayes-parallel - /opt/snippy/binaries/noarch/freebayes-parallel
[15:50:05] Found fasta_generate_regions.py - /opt/snippy/binaries/noarch/fasta_generate_regions.py
[15:50:05] Found vcfstreamsort - /opt/snippy/binaries/linux/vcfstreamsort
[15:50:05] Found vcfuniq - /opt/snippy/binaries/linux/vcfuniq
[15:50:05] Found vcffirstheader - /opt/snippy/binaries/noarch/vcffirstheader
[15:50:05] Found vcf-consensus - /opt/snippy/binaries/noarch/vcf-consensus
[15:50:05] Found snippy-vcf_to_tab - /opt/snippy/bin/snippy-vcf_to_tab
[15:50:05] Found snippy-vcf_report - /opt/snippy/bin/snippy-vcf_report
[15:50:05] Found snippy-vcf_filter - /opt/snippy/bin/snippy-vcf_filter
[15:50:05] Checking version: samtools --version is >= 1.3 - ok, have 1.3
[15:50:05] Using reference: /vagrant/africanum_analysis/lab/NC000962_3.gbk
[15:50:06] Treating reference as 'genbank' format.
[15:50:06] Will use 4 CPU cores.
[15:50:06] Using read file: /vagrant/africanum_analysis/lab/SAMEA2340881_1.fastq.gz
[15:50:06] Using read file: /vagrant/africanum_analysis/lab/SAMEA2340881_2.fastq.gz
[15:50:06] Creating folder: SAMEA2340881
[15:50:06] Changing working directory: SAMEA2340881
[15:50:06] Creating reference folder: reference
[15:50:06] Extracting FASTA and GFF from reference.
[15:50:23] Wrote 1 sequences to ref.fa
[15:50:23] Wrote 4416 features to ref.gff
[15:50:23] Creating reference/snpeff.config
[15:50:23] Freebayes will process 16 chunks of 280319 bp, 4 chunks at a time.
[15:50:23] Using BAM RG (Read Group) ID: snps
[15:50:23] Running: samtools faidx reference/ref.fa 2>> snps.log
[15:50:23] Running: bwa index reference/ref.fa 2>> snps.log
[15:50:31] Running: mkdir reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[15:50:31] Running: mkdir reference/ref && bgzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[15:50:31] Running: snpEff build -c reference/snpeff.config -dataDir . -gff3 ref 2>> snps.log
[15:50:40] Running: (bwa mem  -v 2 -M -R '@RG\tID:snps\tSM:snps' -t 4 reference/ref.fa /vagrant/africanum_analysis/lab/SAMEA2340881_1.fastq.gz /vagrant/africanum_analysis/lab/SAMEA2340881_2.fastq.gz | samtools sort --reference reference/ref.fa > snps.bam) 2>> snps.log
[16:00:02] Running: samtools index snps.bam 2>> snps.log
[16:00:18] Running: samtools depth -q 20 snps.bam | bgzip > snps.depth.gz 2>> snps.log
[16:01:14] Running: tabix -s 1 -b 2 -e 2 snps.depth.gz 2>> snps.log
[16:01:16] Running: fasta_generate_regions.py reference/ref.fa.fai 280319 > reference/ref.txt 2>> snps.log
[16:01:16] Running: freebayes-parallel reference/ref.txt 4 -p 1 -q 20 -m 60 --min-coverage 10 -V -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[16:09:07] Running: /opt/snippy/bin/snippy-vcf_filter --minqual 10 --mincov 10 --minfrac 0.9  snps.raw.vcf > snps.filt.vcf 2>> snps.log
[16:09:08] Running: snpEff ann -no-downstream -no-upstream -no-intergenic -no-utr -c reference/snpeff.config -dataDir . -noStats ref snps.filt.vcf > snps.vcf 2>> snps.log
[16:09:17] Running: bgzip -c snps.vcf > snps.vcf.gz 2>> snps.log
[16:09:17] Running: tabix -p vcf snps.vcf.gz 2>> snps.log
[16:09:17] Running: /opt/snippy/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[16:09:35] Running: vcf-consensus snps.vcf.gz < reference/ref.fa > snps.consensus.fa 2>> snps.log
[16:09:39] Running: /opt/snippy/bin/snippy-vcf_filter --subs snps.filt.vcf > snps.filt.subs.vcf 2>> snps.log
[16:09:40] Running: bgzip -c snps.filt.subs.vcf > snps.filt.subs.vcf.gz 2>> snps.log
[16:09:40] Running: tabix -p vcf snps.filt.subs.vcf.gz 2>> snps.log
[16:09:40] Running: vcf-consensus snps.filt.subs.vcf.gz < reference/ref.fa > snps.consensus.subs.fa 2>> snps.log
[16:09:44] Generating aligned/masked FASTA relative to reference: snps.aligned.fa
[16:10:07] Creating extra output files: BED GFF CSV TXT HTML
[16:10:07] Identified 2241 variants.
[16:10:07] Result folder: SAMEA2340881
[16:10:07] Result files:
[16:10:07] * SAMEA2340881/snps.aligned.fa
[16:10:07] * SAMEA2340881/snps.bam
[16:10:07] * SAMEA2340881/snps.bam.bai
[16:10:07] * SAMEA2340881/snps.bed
[16:10:07] * SAMEA2340881/snps.consensus.fa
[16:10:07] * SAMEA2340881/snps.consensus.subs.fa
[16:10:07] * SAMEA2340881/snps.csv
[16:10:07] * SAMEA2340881/snps.depth.gz
[16:10:07] * SAMEA2340881/snps.depth.gz.tbi
[16:10:07] * SAMEA2340881/snps.filt.subs.vcf
[16:10:07] * SAMEA2340881/snps.filt.subs.vcf.gz
[16:10:07] * SAMEA2340881/snps.filt.subs.vcf.gz.tbi
[16:10:07] * SAMEA2340881/snps.filt.vcf
[16:10:07] * SAMEA2340881/snps.gff
[16:10:07] * SAMEA2340881/snps.html
[16:10:07] * SAMEA2340881/snps.log
[16:10:07] * SAMEA2340881/snps.raw.vcf
[16:10:07] * SAMEA2340881/snps.tab
[16:10:07] * SAMEA2340881/snps.txt
[16:10:07] * SAMEA2340881/snps.vcf
[16:10:07] * SAMEA2340881/snps.vcf.gz
[16:10:07] * SAMEA2340881/snps.vcf.gz.tbi
[16:10:07] Walltime used: 20 minutes, 2 seconds
[16:10:07] Wishing you a life free of homopolymer errors.
[16:10:07] Done.
2019/05/30 20:10:07 DEBUG : rclone: Version "v1.36" starting with parameters ["rclone" "copy" "./SAMEA2340881" "onedrive-em:africanum_analysis/snippy/SAMEA2340881" "-vv"]
2019/05/30 20:10:09 INFO  : One drive root 'africanum_analysis/snippy/SAMEA2340881': Modify window is 1s
2019/05/30 20:10:10 DEBUG : One drive root 'africanum_analysis/snippy/SAMEA2340881': Reading ""
2019/05/30 20:10:10 DEBUG : One drive root 'africanum_analysis/snippy/SAMEA2340881': Finished reading ""
2019/05/30 20:10:10 DEBUG : snps.bam: Starting multipart upload
2019/05/30 20:10:10 DEBUG : snps.bam: Uploading segment 0/387199432 size 10485760
2019/05/30 20:10:11 INFO  : snps.bam.bai: Copied (new)
2019/05/30 20:10:11 DEBUG : snps.bam: Uploading segment 10485760/387199432 size 10485760
2019/05/30 20:10:11 INFO  : snps.bed: Copied (new)
2019/05/30 20:10:12 DEBUG : snps.bam: Uploading segment 20971520/387199432 size 10485760
2019/05/30 20:10:12 DEBUG : snps.bam: Uploading segment 31457280/387199432 size 10485760
2019/05/30 20:10:13 INFO  : snps.consensus.fa: Copied (new)
2019/05/30 20:10:13 DEBUG : snps.bam: Uploading segment 41943040/387199432 size 10485760
2019/05/30 20:10:13 INFO  : snps.consensus.subs.fa: Copied (new)
2019/05/30 20:10:13 DEBUG : snps.depth.gz: Starting multipart upload
2019/05/30 20:10:14 INFO  : snps.csv: Copied (new)
2019/05/30 20:10:14 DEBUG : snps.bam: Uploading segment 52428800/387199432 size 10485760
2019/05/30 20:10:14 INFO  : snps.aligned.fa: Copied (new)
2019/05/30 20:10:15 INFO  : snps.depth.gz.tbi: Copied (new)
2019/05/30 20:10:15 DEBUG : snps.bam: Uploading segment 62914560/387199432 size 10485760
2019/05/30 20:10:15 DEBUG : snps.depth.gz: Uploading segment 0/15742797 size 10485760
2019/05/30 20:10:15 DEBUG : snps.bam: Uploading segment 73400320/387199432 size 10485760
2019/05/30 20:10:15 DEBUG : snps.depth.gz: Uploading segment 10485760/15742797 size 5257037
2019/05/30 20:10:16 INFO  : snps.filt.subs.vcf: Copied (new)
2019/05/30 20:10:16 INFO  : snps.filt.subs.vcf.gz: Copied (new)
2019/05/30 20:10:16 INFO  : snps.filt.subs.vcf.gz.tbi: Copied (new)
2019/05/30 20:10:16 INFO  : snps.depth.gz: Copied (new)
2019/05/30 20:10:17 DEBUG : snps.bam: Uploading segment 83886080/387199432 size 10485760
2019/05/30 20:10:17 INFO  : snps.html: Copied (new)
2019/05/30 20:10:17 INFO  : snps.filt.vcf: Copied (new)
2019/05/30 20:10:17 INFO  : snps.gff: Copied (new)
2019/05/30 20:10:18 DEBUG : snps.bam: Uploading segment 94371840/387199432 size 10485760
2019/05/30 20:10:18 INFO  : snps.log: Copied (new)
2019/05/30 20:10:18 DEBUG : snps.bam: Uploading segment 104857600/387199432 size 10485760
2019/05/30 20:10:19 INFO  : snps.tab: Copied (new)
2019/05/30 20:10:19 INFO  : snps.txt: Copied (new)
2019/05/30 20:10:19 INFO  : snps.raw.vcf: Copied (new)
2019/05/30 20:10:19 DEBUG : snps.bam: Uploading segment 115343360/387199432 size 10485760
2019/05/30 20:10:20 INFO  : snps.vcf.gz.tbi: Copied (new)
2019/05/30 20:10:20 INFO  : snps.vcf.gz: Copied (new)
2019/05/30 20:10:20 INFO  : snps.vcf: Copied (new)
2019/05/30 20:10:20 DEBUG : snps.bam: Uploading segment 125829120/387199432 size 10485760
2019/05/30 20:10:21 INFO  : reference/ref.fa.ann: Copied (new)
2019/05/30 20:10:21 DEBUG : snps.bam: Uploading segment 136314880/387199432 size 10485760
2019/05/30 20:10:21 INFO  : reference/ref.fa.amb: Copied (new)
2019/05/30 20:10:22 DEBUG : snps.bam: Uploading segment 146800640/387199432 size 10485760
2019/05/30 20:10:22 INFO  : reference/ref.fa.fai: Copied (new)
2019/05/30 20:10:22 INFO  : reference/ref.fa.bwt: Copied (new)
2019/05/30 20:10:22 DEBUG : snps.bam: Uploading segment 157286400/387199432 size 10485760
2019/05/30 20:10:23 INFO  : reference/ref.fa: Copied (new)
2019/05/30 20:10:23 INFO  : reference/ref.fa.pac: Copied (new)
2019/05/30 20:10:23 INFO  : One drive root 'africanum_analysis/snippy/SAMEA2340881': Waiting for checks to finish
2019/05/30 20:10:23 INFO  : One drive root 'africanum_analysis/snippy/SAMEA2340881': Waiting for transfers to finish
2019/05/30 20:10:24 INFO  : reference/ref.txt: Copied (new)
2019/05/30 20:10:24 INFO  : reference/ref.fa.sa: Copied (new)
2019/05/30 20:10:24 DEBUG : snps.bam: Uploading segment 167772160/387199432 size 10485760
2019/05/30 20:10:25 DEBUG : snps.bam: Uploading segment 178257920/387199432 size 10485760
2019/05/30 20:10:25 INFO  : reference/snpeff.config: Copied (new)
2019/05/30 20:10:25 DEBUG : snps.bam: Uploading segment 188743680/387199432 size 10485760
2019/05/30 20:10:26 INFO  : reference/ref/genes.gff.gz: Copied (new)
2019/05/30 20:10:26 INFO  : reference/ref.gff: Copied (new)
2019/05/30 20:10:27 DEBUG : snps.bam: Uploading segment 199229440/387199432 size 10485760
2019/05/30 20:10:27 INFO  : reference/ref/snpEffectPredictor.bin: Copied (new)
2019/05/30 20:10:27 DEBUG : snps.bam: Uploading segment 209715200/387199432 size 10485760
2019/05/30 20:10:27 INFO  : reference/genomes/ref.fa: Copied (new)
2019/05/30 20:10:28 DEBUG : snps.bam: Uploading segment 220200960/387199432 size 10485760
2019/05/30 20:10:29 DEBUG : snps.bam: Uploading segment 230686720/387199432 size 10485760
2019/05/30 20:10:30 DEBUG : snps.bam: Uploading segment 241172480/387199432 size 10485760
2019/05/30 20:10:30 DEBUG : snps.bam: Uploading segment 251658240/387199432 size 10485760
2019/05/30 20:10:37 DEBUG : snps.bam: Uploading segment 262144000/387199432 size 10485760
2019/05/30 20:10:37 DEBUG : snps.bam: Uploading segment 272629760/387199432 size 10485760
2019/05/30 20:10:38 DEBUG : snps.bam: Uploading segment 283115520/387199432 size 10485760
2019/05/30 20:10:39 DEBUG : snps.bam: Uploading segment 293601280/387199432 size 10485760
2019/05/30 20:10:40 DEBUG : snps.bam: Uploading segment 304087040/387199432 size 10485760
2019/05/30 20:10:41 DEBUG : snps.bam: Uploading segment 314572800/387199432 size 10485760
2019/05/30 20:10:41 DEBUG : snps.bam: Uploading segment 325058560/387199432 size 10485760
2019/05/30 20:10:42 DEBUG : snps.bam: Uploading segment 335544320/387199432 size 10485760
2019/05/30 20:10:42 DEBUG : snps.bam: Uploading segment 346030080/387199432 size 10485760
2019/05/30 20:10:43 DEBUG : snps.bam: Uploading segment 356515840/387199432 size 10485760
2019/05/30 20:10:44 DEBUG : snps.bam: Uploading segment 367001600/387199432 size 10485760
2019/05/30 20:10:44 DEBUG : snps.bam: Uploading segment 377487360/387199432 size 9712072
2019/05/30 20:10:45 INFO  : snps.bam: Copied (new)
2019/05/30 20:10:45 INFO  : 
Transferred:   426.047 MBytes (11.294 MBytes/s)
Errors:                 0
Checks:                 0
Transferred:           35
Elapsed time:       37.7s
2019/05/30 20:10:45 DEBUG : Go routines at exit 13
2019/05/30 20:10:45 DEBUG : rclone: Version "v1.36" finishing with parameters ["rclone" "copy" "./SAMEA2340881" "onedrive-em:africanum_analysis/snippy/SAMEA2340881" "-vv"]
[16:10:50] This is snippy 3.2-dev
[16:10:50] Written by Torsten Seemann <torsten.seemann@gmail.com>
[16:10:50] Obtained from https://github.com/tseemann/snippy
[16:10:50] Detected operating system: linux
[16:10:50] Enabling bundled linux tools.
[16:10:50] Found bwa - /opt/snippy/binaries/linux/bwa
[16:10:50] Found samtools - /opt/snippy/binaries/linux/samtools
[16:10:50] Found tabix - /opt/snippy/binaries/linux/tabix
[16:10:50] Found bgzip - /opt/snippy/binaries/linux/bgzip
[16:10:50] Found snpEff - /opt/snippy/binaries/noarch/snpEff
[16:10:50] Found java - /usr/bin/java
[16:10:51] Found gzip - /usr/bin/gzip
[16:10:51] Found parallel - /opt/snippy/binaries/noarch/parallel
[16:10:51] Found freebayes - /opt/snippy/binaries/linux/freebayes
[16:10:51] Found freebayes-parallel - /opt/snippy/binaries/noarch/freebayes-parallel
[16:10:51] Found fasta_generate_regions.py - /opt/snippy/binaries/noarch/fasta_generate_regions.py
[16:10:51] Found vcfstreamsort - /opt/snippy/binaries/linux/vcfstreamsort
[16:10:51] Found vcfuniq - /opt/snippy/binaries/linux/vcfuniq
[16:10:51] Found vcffirstheader - /opt/snippy/binaries/noarch/vcffirstheader
[16:10:51] Found vcf-consensus - /opt/snippy/binaries/noarch/vcf-consensus
[16:10:51] Found snippy-vcf_to_tab - /opt/snippy/bin/snippy-vcf_to_tab
[16:10:51] Found snippy-vcf_report - /opt/snippy/bin/snippy-vcf_report
[16:10:51] Found snippy-vcf_filter - /opt/snippy/bin/snippy-vcf_filter
[16:10:51] Checking version: samtools --version is >= 1.3 - ok, have 1.3
[16:10:51] Using reference: /vagrant/africanum_analysis/lab/NC000962_3.gbk
[16:10:51] Treating reference as 'genbank' format.
[16:10:51] Will use 4 CPU cores.
[16:10:51] Using read file: /vagrant/africanum_analysis/lab/SAMEA2340882_1.fastq.gz
[16:10:51] Using read file: /vagrant/africanum_analysis/lab/SAMEA2340882_2.fastq.gz
[16:10:51] Creating folder: SAMEA2340882
[16:10:51] Changing working directory: SAMEA2340882
[16:10:51] Creating reference folder: reference
[16:10:51] Extracting FASTA and GFF from reference.
[16:11:08] Wrote 1 sequences to ref.fa
[16:11:08] Wrote 4416 features to ref.gff
[16:11:08] Creating reference/snpeff.config
[16:11:08] Freebayes will process 16 chunks of 280319 bp, 4 chunks at a time.
[16:11:08] Using BAM RG (Read Group) ID: snps
[16:11:08] Running: samtools faidx reference/ref.fa 2>> snps.log
[16:11:08] Running: bwa index reference/ref.fa 2>> snps.log
[16:11:16] Running: mkdir reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[16:11:16] Running: mkdir reference/ref && bgzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[16:11:16] Running: snpEff build -c reference/snpeff.config -dataDir . -gff3 ref 2>> snps.log
[16:11:25] Running: (bwa mem  -v 2 -M -R '@RG\tID:snps\tSM:snps' -t 4 reference/ref.fa /vagrant/africanum_analysis/lab/SAMEA2340882_1.fastq.gz /vagrant/africanum_analysis/lab/SAMEA2340882_2.fastq.gz | samtools sort --reference reference/ref.fa > snps.bam) 2>> snps.log
[16:20:06] Running: samtools index snps.bam 2>> snps.log
[16:20:21] Running: samtools depth -q 20 snps.bam | bgzip > snps.depth.gz 2>> snps.log
[16:21:15] Running: tabix -s 1 -b 2 -e 2 snps.depth.gz 2>> snps.log
[16:21:18] Running: fasta_generate_regions.py reference/ref.fa.fai 280319 > reference/ref.txt 2>> snps.log
[16:21:18] Running: freebayes-parallel reference/ref.txt 4 -p 1 -q 20 -m 60 --min-coverage 10 -V -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[16:28:28] Running: /opt/snippy/bin/snippy-vcf_filter --minqual 10 --mincov 10 --minfrac 0.9  snps.raw.vcf > snps.filt.vcf 2>> snps.log
[16:28:29] Running: snpEff ann -no-downstream -no-upstream -no-intergenic -no-utr -c reference/snpeff.config -dataDir . -noStats ref snps.filt.vcf > snps.vcf 2>> snps.log
[16:28:38] Running: bgzip -c snps.vcf > snps.vcf.gz 2>> snps.log
[16:28:38] Running: tabix -p vcf snps.vcf.gz 2>> snps.log
[16:28:38] Running: /opt/snippy/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[16:28:57] Running: vcf-consensus snps.vcf.gz < reference/ref.fa > snps.consensus.fa 2>> snps.log
[16:29:00] Running: /opt/snippy/bin/snippy-vcf_filter --subs snps.filt.vcf > snps.filt.subs.vcf 2>> snps.log
[16:29:01] Running: bgzip -c snps.filt.subs.vcf > snps.filt.subs.vcf.gz 2>> snps.log
[16:29:01] Running: tabix -p vcf snps.filt.subs.vcf.gz 2>> snps.log
[16:29:01] Running: vcf-consensus snps.filt.subs.vcf.gz < reference/ref.fa > snps.consensus.subs.fa 2>> snps.log
[16:29:05] Generating aligned/masked FASTA relative to reference: snps.aligned.fa
[16:29:28] Creating extra output files: BED GFF CSV TXT HTML
[16:29:28] Identified 2232 variants.
[16:29:28] Result folder: SAMEA2340882
[16:29:28] Result files:
[16:29:28] * SAMEA2340882/snps.aligned.fa
[16:29:28] * SAMEA2340882/snps.bam
[16:29:28] * SAMEA2340882/snps.bam.bai
[16:29:28] * SAMEA2340882/snps.bed
[16:29:28] * SAMEA2340882/snps.consensus.fa
[16:29:28] * SAMEA2340882/snps.consensus.subs.fa
[16:29:28] * SAMEA2340882/snps.csv
[16:29:28] * SAMEA2340882/snps.depth.gz
[16:29:28] * SAMEA2340882/snps.depth.gz.tbi
[16:29:28] * SAMEA2340882/snps.filt.subs.vcf
[16:29:28] * SAMEA2340882/snps.filt.subs.vcf.gz
[16:29:28] * SAMEA2340882/snps.filt.subs.vcf.gz.tbi
[16:29:28] * SAMEA2340882/snps.filt.vcf
[16:29:28] * SAMEA2340882/snps.gff
[16:29:28] * SAMEA2340882/snps.html
[16:29:28] * SAMEA2340882/snps.log
[16:29:28] * SAMEA2340882/snps.raw.vcf
[16:29:28] * SAMEA2340882/snps.tab
[16:29:28] * SAMEA2340882/snps.txt
[16:29:28] * SAMEA2340882/snps.vcf
[16:29:28] * SAMEA2340882/snps.vcf.gz
[16:29:28] * SAMEA2340882/snps.vcf.gz.tbi
[16:29:28] Walltime used: 18 minutes, 38 seconds
[16:29:28] The Snippy manual is at https://github.com/tseemann/snippy/blob/master/README.md
[16:29:28] Done.
2019/05/30 20:29:28 DEBUG : rclone: Version "v1.36" starting with parameters ["rclone" "copy" "./SAMEA2340882" "onedrive-em:africanum_analysis/snippy/SAMEA2340882" "-vv"]
2019/05/30 20:29:31 INFO  : One drive root 'africanum_analysis/snippy/SAMEA2340882': Modify window is 1s
2019/05/30 20:29:31 DEBUG : One drive root 'africanum_analysis/snippy/SAMEA2340882': Reading ""
2019/05/30 20:29:32 DEBUG : One drive root 'africanum_analysis/snippy/SAMEA2340882': Finished reading ""
2019/05/30 20:29:32 DEBUG : snps.bam: Starting multipart upload
2019/05/30 20:29:32 DEBUG : snps.bam: Uploading segment 0/355942689 size 10485760
2019/05/30 20:29:32 INFO  : snps.bed: Copied (new)
2019/05/30 20:29:33 DEBUG : snps.bam: Uploading segment 10485760/355942689 size 10485760
2019/05/30 20:29:33 INFO  : snps.bam.bai: Copied (new)
2019/05/30 20:29:33 DEBUG : snps.bam: Uploading segment 20971520/355942689 size 10485760
2019/05/30 20:29:34 INFO  : snps.aligned.fa: Copied (new)
2019/05/30 20:29:34 DEBUG : snps.bam: Uploading segment 31457280/355942689 size 10485760
2019/05/30 20:29:34 INFO  : snps.consensus.fa: Copied (new)
2019/05/30 20:29:34 DEBUG : snps.depth.gz: Starting multipart upload
2019/05/30 20:29:35 DEBUG : snps.depth.gz: Uploading segment 0/15672190 size 10485760
2019/05/30 20:29:35 INFO  : snps.csv: Copied (new)
2019/05/30 20:29:35 DEBUG : snps.bam: Uploading segment 41943040/355942689 size 10485760
2019/05/30 20:29:35 DEBUG : snps.depth.gz: Uploading segment 10485760/15672190 size 5186430
2019/05/30 20:29:35 INFO  : snps.consensus.subs.fa: Copied (new)
2019/05/30 20:29:35 DEBUG : snps.bam: Uploading segment 52428800/355942689 size 10485760
2019/05/30 20:29:36 INFO  : snps.depth.gz.tbi: Copied (new)
2019/05/30 20:29:36 DEBUG : snps.bam: Uploading segment 62914560/355942689 size 10485760
2019/05/30 20:29:36 INFO  : snps.filt.subs.vcf: Copied (new)
2019/05/30 20:29:37 INFO  : snps.depth.gz: Copied (new)
2019/05/30 20:29:37 INFO  : snps.filt.subs.vcf.gz: Copied (new)
2019/05/30 20:29:38 INFO  : snps.filt.subs.vcf.gz.tbi: Copied (new)
2019/05/30 20:29:38 DEBUG : snps.bam: Uploading segment 73400320/355942689 size 10485760
2019/05/30 20:29:38 INFO  : snps.filt.vcf: Copied (new)
2019/05/30 20:29:38 INFO  : snps.gff: Copied (new)
2019/05/30 20:29:38 DEBUG : snps.bam: Uploading segment 83886080/355942689 size 10485760
2019/05/30 20:29:39 INFO  : snps.log: Copied (new)
2019/05/30 20:29:39 INFO  : snps.html: Copied (new)
2019/05/30 20:29:39 DEBUG : snps.bam: Uploading segment 94371840/355942689 size 10485760
2019/05/30 20:29:39 INFO  : snps.txt: Copied (new)
2019/05/30 20:29:39 INFO  : snps.raw.vcf: Copied (new)
2019/05/30 20:29:40 INFO  : snps.tab: Copied (new)
2019/05/30 20:29:40 DEBUG : snps.bam: Uploading segment 104857600/355942689 size 10485760
2019/05/30 20:29:40 INFO  : snps.vcf.gz: Copied (new)
2019/05/30 20:29:40 INFO  : snps.vcf.gz.tbi: Copied (new)
2019/05/30 20:29:41 DEBUG : snps.bam: Uploading segment 115343360/355942689 size 10485760
2019/05/30 20:29:41 INFO  : snps.vcf: Copied (new)
2019/05/30 20:29:41 INFO  : reference/ref.fa.amb: Copied (new)
2019/05/30 20:29:41 DEBUG : snps.bam: Uploading segment 125829120/355942689 size 10485760
2019/05/30 20:29:42 INFO  : reference/ref.fa.ann: Copied (new)
2019/05/30 20:29:42 DEBUG : snps.bam: Uploading segment 136314880/355942689 size 10485760
2019/05/30 20:29:42 INFO  : reference/ref.fa.fai: Copied (new)
2019/05/30 20:29:43 DEBUG : snps.bam: Uploading segment 146800640/355942689 size 10485760
2019/05/30 20:29:43 INFO  : reference/ref.fa: Copied (new)
2019/05/30 20:29:43 INFO  : reference/ref.fa.bwt: Copied (new)
2019/05/30 20:29:43 DEBUG : snps.bam: Uploading segment 157286400/355942689 size 10485760
2019/05/30 20:29:43 INFO  : reference/ref.fa.pac: Copied (new)
2019/05/30 20:29:43 INFO  : One drive root 'africanum_analysis/snippy/SAMEA2340882': Waiting for checks to finish
2019/05/30 20:29:43 INFO  : One drive root 'africanum_analysis/snippy/SAMEA2340882': Waiting for transfers to finish
2019/05/30 20:29:44 INFO  : reference/ref.txt: Copied (new)
2019/05/30 20:29:44 INFO  : reference/ref.fa.sa: Copied (new)
2019/05/30 20:29:45 INFO  : reference/snpeff.config: Copied (new)
2019/05/30 20:29:45 DEBUG : snps.bam: Uploading segment 167772160/355942689 size 10485760
2019/05/30 20:29:45 INFO  : reference/ref.gff: Copied (new)
2019/05/30 20:29:46 DEBUG : snps.bam: Uploading segment 178257920/355942689 size 10485760
2019/05/30 20:29:47 DEBUG : snps.bam: Uploading segment 188743680/355942689 size 10485760
2019/05/30 20:29:47 INFO  : reference/genomes/ref.fa: Copied (new)
2019/05/30 20:29:47 INFO  : reference/ref/snpEffectPredictor.bin: Copied (new)
2019/05/30 20:29:47 INFO  : reference/ref/genes.gff.gz: Copied (new)
2019/05/30 20:29:47 DEBUG : snps.bam: Uploading segment 199229440/355942689 size 10485760
2019/05/30 20:29:49 DEBUG : snps.bam: Uploading segment 209715200/355942689 size 10485760
2019/05/30 20:29:49 DEBUG : snps.bam: Uploading segment 220200960/355942689 size 10485760
2019/05/30 20:29:50 DEBUG : snps.bam: Uploading segment 230686720/355942689 size 10485760
2019/05/30 20:29:50 DEBUG : snps.bam: Uploading segment 241172480/355942689 size 10485760
2019/05/30 20:29:51 DEBUG : snps.bam: Uploading segment 251658240/355942689 size 10485760
2019/05/30 20:29:52 DEBUG : snps.bam: Uploading segment 262144000/355942689 size 10485760
2019/05/30 20:29:53 DEBUG : snps.bam: Uploading segment 272629760/355942689 size 10485760
2019/05/30 20:29:53 DEBUG : snps.bam: Uploading segment 283115520/355942689 size 10485760
2019/05/30 20:29:54 DEBUG : snps.bam: Uploading segment 293601280/355942689 size 10485760
2019/05/30 20:29:55 DEBUG : snps.bam: Uploading segment 304087040/355942689 size 10485760
2019/05/30 20:29:56 DEBUG : snps.bam: Uploading segment 314572800/355942689 size 10485760
2019/05/30 20:29:56 DEBUG : snps.bam: Uploading segment 325058560/355942689 size 10485760
2019/05/30 20:29:57 DEBUG : snps.bam: Uploading segment 335544320/355942689 size 10485760
2019/05/30 20:29:57 DEBUG : snps.bam: Uploading segment 346030080/355942689 size 9912609
2019/05/30 20:29:58 INFO  : snps.bam: Copied (new)
2019/05/30 20:29:58 INFO  : 
Transferred:   396.172 MBytes (13.231 MBytes/s)
Errors:                 0
Checks:                 0
Transferred:           35
Elapsed time:       29.9s
2019/05/30 20:29:58 DEBUG : Go routines at exit 13
2019/05/30 20:29:58 DEBUG : rclone: Version "v1.36" finishing with parameters ["rclone" "copy" "./SAMEA2340882" "onedrive-em:africanum_analysis/snippy/SAMEA2340882" "-vv"]
[16:30:04] This is snippy 3.2-dev
[16:30:04] Written by Torsten Seemann <torsten.seemann@gmail.com>
[16:30:04] Obtained from https://github.com/tseemann/snippy
[16:30:04] Detected operating system: linux
[16:30:04] Enabling bundled linux tools.
[16:30:04] Found bwa - /opt/snippy/binaries/linux/bwa
[16:30:04] Found samtools - /opt/snippy/binaries/linux/samtools
[16:30:04] Found tabix - /opt/snippy/binaries/linux/tabix
[16:30:04] Found bgzip - /opt/snippy/binaries/linux/bgzip
[16:30:04] Found snpEff - /opt/snippy/binaries/noarch/snpEff
[16:30:04] Found java - /usr/bin/java
[16:30:04] Found gzip - /usr/bin/gzip
[16:30:04] Found parallel - /opt/snippy/binaries/noarch/parallel
[16:30:04] Found freebayes - /opt/snippy/binaries/linux/freebayes
[16:30:04] Found freebayes-parallel - /opt/snippy/binaries/noarch/freebayes-parallel
[16:30:04] Found fasta_generate_regions.py - /opt/snippy/binaries/noarch/fasta_generate_regions.py
[16:30:04] Found vcfstreamsort - /opt/snippy/binaries/linux/vcfstreamsort
[16:30:04] Found vcfuniq - /opt/snippy/binaries/linux/vcfuniq
[16:30:04] Found vcffirstheader - /opt/snippy/binaries/noarch/vcffirstheader
[16:30:04] Found vcf-consensus - /opt/snippy/binaries/noarch/vcf-consensus
[16:30:04] Found snippy-vcf_to_tab - /opt/snippy/bin/snippy-vcf_to_tab
[16:30:04] Found snippy-vcf_report - /opt/snippy/bin/snippy-vcf_report
[16:30:04] Found snippy-vcf_filter - /opt/snippy/bin/snippy-vcf_filter
[16:30:04] Checking version: samtools --version is >= 1.3 - ok, have 1.3
[16:30:04] Using reference: /vagrant/africanum_analysis/lab/NC000962_3.gbk
[16:30:04] Treating reference as 'genbank' format.
[16:30:04] Will use 4 CPU cores.
[16:30:04] Using read file: /vagrant/africanum_analysis/lab/SAMEA2340888_1.fastq.gz
[16:30:04] Using read file: /vagrant/africanum_analysis/lab/SAMEA2340888_2.fastq.gz
[16:30:04] Creating folder: SAMEA2340888
[16:30:04] Changing working directory: SAMEA2340888
[16:30:04] Creating reference folder: reference
[16:30:04] Extracting FASTA and GFF from reference.
[16:30:21] Wrote 1 sequences to ref.fa
[16:30:21] Wrote 4416 features to ref.gff
[16:30:21] Creating reference/snpeff.config
[16:30:21] Freebayes will process 16 chunks of 280319 bp, 4 chunks at a time.
[16:30:21] Using BAM RG (Read Group) ID: snps
[16:30:21] Running: samtools faidx reference/ref.fa 2>> snps.log
[16:30:21] Running: bwa index reference/ref.fa 2>> snps.log
[16:30:29] Running: mkdir reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[16:30:29] Running: mkdir reference/ref && bgzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[16:30:29] Running: snpEff build -c reference/snpeff.config -dataDir . -gff3 ref 2>> snps.log
[16:30:39] Running: (bwa mem  -v 2 -M -R '@RG\tID:snps\tSM:snps' -t 4 reference/ref.fa /vagrant/africanum_analysis/lab/SAMEA2340888_1.fastq.gz /vagrant/africanum_analysis/lab/SAMEA2340888_2.fastq.gz | samtools sort --reference reference/ref.fa > snps.bam) 2>> snps.log
[16:46:21] Running: samtools index snps.bam 2>> snps.log
[16:46:46] Running: samtools depth -q 20 snps.bam | bgzip > snps.depth.gz 2>> snps.log
[16:47:13] Running: tabix -s 1 -b 2 -e 2 snps.depth.gz 2>> snps.log
[16:47:13] Running: fasta_generate_regions.py reference/ref.fa.fai 280319 > reference/ref.txt 2>> snps.log
[16:47:13] Running: freebayes-parallel reference/ref.txt 4 -p 1 -q 20 -m 60 --min-coverage 10 -V -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[16:47:32] Running: /opt/snippy/bin/snippy-vcf_filter --minqual 10 --mincov 10 --minfrac 0.9  snps.raw.vcf > snps.filt.vcf 2>> snps.log
[16:47:33] Running: snpEff ann -no-downstream -no-upstream -no-intergenic -no-utr -c reference/snpeff.config -dataDir . -noStats ref snps.filt.vcf > snps.vcf 2>> snps.log
[16:47:42] Running: bgzip -c snps.vcf > snps.vcf.gz 2>> snps.log
[16:47:42] Running: tabix -p vcf snps.vcf.gz 2>> snps.log
[16:47:42] Running: /opt/snippy/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[16:48:01] Running: vcf-consensus snps.vcf.gz < reference/ref.fa > snps.consensus.fa 2>> snps.log
[16:48:04] Running: /opt/snippy/bin/snippy-vcf_filter --subs snps.filt.vcf > snps.filt.subs.vcf 2>> snps.log
[16:48:05] Running: bgzip -c snps.filt.subs.vcf > snps.filt.subs.vcf.gz 2>> snps.log
[16:48:06] Running: tabix -p vcf snps.filt.subs.vcf.gz 2>> snps.log
[16:48:06] Running: vcf-consensus snps.filt.subs.vcf.gz < reference/ref.fa > snps.consensus.subs.fa 2>> snps.log
[16:48:09] Generating aligned/masked FASTA relative to reference: snps.aligned.fa
[16:48:14] Creating extra output files: BED GFF CSV TXT HTML
[16:48:14] Identified 2002 variants.
[16:48:14] Result folder: SAMEA2340888
[16:48:14] Result files:
[16:48:14] * SAMEA2340888/snps.aligned.fa
[16:48:14] * SAMEA2340888/snps.bam
[16:48:14] * SAMEA2340888/snps.bam.bai
[16:48:14] * SAMEA2340888/snps.bed
[16:48:14] * SAMEA2340888/snps.consensus.fa
[16:48:14] * SAMEA2340888/snps.consensus.subs.fa
[16:48:14] * SAMEA2340888/snps.csv
[16:48:14] * SAMEA2340888/snps.depth.gz
[16:48:14] * SAMEA2340888/snps.depth.gz.tbi
[16:48:14] * SAMEA2340888/snps.filt.subs.vcf
[16:48:14] * SAMEA2340888/snps.filt.subs.vcf.gz
[16:48:14] * SAMEA2340888/snps.filt.subs.vcf.gz.tbi
[16:48:14] * SAMEA2340888/snps.filt.vcf
[16:48:14] * SAMEA2340888/snps.gff
[16:48:14] * SAMEA2340888/snps.html
[16:48:14] * SAMEA2340888/snps.log
[16:48:14] * SAMEA2340888/snps.raw.vcf
[16:48:14] * SAMEA2340888/snps.tab
[16:48:14] * SAMEA2340888/snps.txt
[16:48:14] * SAMEA2340888/snps.vcf
[16:48:14] * SAMEA2340888/snps.vcf.gz
[16:48:14] * SAMEA2340888/snps.vcf.gz.tbi
[16:48:14] Walltime used: 18 minutes, 10 seconds
[16:48:14] Did you know? Snippy is a combination of SNP, Skippy, and snappy.
[16:48:14] Done.
2019/05/30 20:48:14 DEBUG : rclone: Version "v1.36" starting with parameters ["rclone" "copy" "./SAMEA2340888" "onedrive-em:africanum_analysis/snippy/SAMEA2340888" "-vv"]
2019/05/30 20:48:16 INFO  : One drive root 'africanum_analysis/snippy/SAMEA2340888': Modify window is 1s
2019/05/30 20:48:16 DEBUG : One drive root 'africanum_analysis/snippy/SAMEA2340888': Reading ""
2019/05/30 20:48:16 DEBUG : One drive root 'africanum_analysis/snippy/SAMEA2340888': Finished reading ""
2019/05/30 20:48:16 DEBUG : snps.bam: Starting multipart upload
2019/05/30 20:48:17 DEBUG : snps.bam: Uploading segment 0/587375714 size 10485760
2019/05/30 20:48:17 INFO  : snps.bam.bai: Copied (new)
2019/05/30 20:48:17 INFO  : snps.bed: Copied (new)
2019/05/30 20:48:18 DEBUG : snps.bam: Uploading segment 10485760/587375714 size 10485760
2019/05/30 20:48:18 INFO  : snps.aligned.fa: Copied (new)
2019/05/30 20:48:19 DEBUG : snps.bam: Uploading segment 20971520/587375714 size 10485760
2019/05/30 20:48:19 INFO  : snps.csv: Copied (new)
2019/05/30 20:48:19 DEBUG : snps.bam: Uploading segment 31457280/587375714 size 10485760
2019/05/30 20:48:19 INFO  : snps.consensus.subs.fa: Copied (new)
2019/05/30 20:48:19 INFO  : snps.consensus.fa: Copied (new)
2019/05/30 20:48:20 INFO  : snps.depth.gz.tbi: Copied (new)
2019/05/30 20:48:20 DEBUG : snps.bam: Uploading segment 41943040/587375714 size 10485760
2019/05/30 20:48:21 INFO  : snps.depth.gz: Copied (new)
2019/05/30 20:48:21 INFO  : snps.filt.subs.vcf.gz: Copied (new)
2019/05/30 20:48:21 INFO  : snps.filt.subs.vcf: Copied (new)
2019/05/30 20:48:21 INFO  : snps.filt.subs.vcf.gz.tbi: Copied (new)
2019/05/30 20:48:21 DEBUG : snps.bam: Uploading segment 52428800/587375714 size 10485760
2019/05/30 20:48:22 INFO  : snps.filt.vcf: Copied (new)
2019/05/30 20:48:22 INFO  : snps.gff: Copied (new)
2019/05/30 20:48:22 DEBUG : snps.bam: Uploading segment 62914560/587375714 size 10485760
2019/05/30 20:48:22 INFO  : snps.html: Copied (new)
2019/05/30 20:48:23 INFO  : snps.log: Copied (new)
2019/05/30 20:48:23 DEBUG : snps.bam: Uploading segment 73400320/587375714 size 10485760
2019/05/30 20:48:23 INFO  : snps.txt: Copied (new)
2019/05/30 20:48:23 INFO  : snps.tab: Copied (new)
2019/05/30 20:48:23 INFO  : snps.raw.vcf: Copied (new)
2019/05/30 20:48:24 DEBUG : snps.bam: Uploading segment 83886080/587375714 size 10485760
2019/05/30 20:48:24 INFO  : snps.vcf.gz.tbi: Copied (new)
2019/05/30 20:48:24 INFO  : snps.vcf.gz: Copied (new)
2019/05/30 20:48:24 DEBUG : snps.bam: Uploading segment 94371840/587375714 size 10485760
2019/05/30 20:48:25 INFO  : snps.vcf: Copied (new)
2019/05/30 20:48:25 DEBUG : snps.bam: Uploading segment 104857600/587375714 size 10485760
2019/05/30 20:48:25 INFO  : reference/ref.fa.ann: Copied (new)
2019/05/30 20:48:25 INFO  : reference/ref.fa.amb: Copied (new)
2019/05/30 20:48:26 INFO  : reference/ref.fa.fai: Copied (new)
2019/05/30 20:48:26 DEBUG : snps.bam: Uploading segment 115343360/587375714 size 10485760
2019/05/30 20:48:26 INFO  : reference/ref.fa: Copied (new)
2019/05/30 20:48:26 DEBUG : snps.bam: Uploading segment 125829120/587375714 size 10485760
2019/05/30 20:48:27 INFO  : reference/ref.fa.pac: Copied (new)
2019/05/30 20:48:27 INFO  : reference/ref.fa.bwt: Copied (new)
2019/05/30 20:48:27 INFO  : One drive root 'africanum_analysis/snippy/SAMEA2340888': Waiting for checks to finish
2019/05/30 20:48:27 INFO  : One drive root 'africanum_analysis/snippy/SAMEA2340888': Waiting for transfers to finish
2019/05/30 20:48:27 DEBUG : snps.bam: Uploading segment 136314880/587375714 size 10485760
2019/05/30 20:48:28 DEBUG : snps.bam: Uploading segment 146800640/587375714 size 10485760
2019/05/30 20:48:28 INFO  : reference/ref.txt: Copied (new)
2019/05/30 20:48:28 INFO  : reference/ref.fa.sa: Copied (new)
2019/05/30 20:48:28 DEBUG : snps.bam: Uploading segment 157286400/587375714 size 10485760
2019/05/30 20:48:29 DEBUG : snps.bam: Uploading segment 167772160/587375714 size 10485760
2019/05/30 20:48:29 INFO  : reference/snpeff.config: Copied (new)
2019/05/30 20:48:30 DEBUG : snps.bam: Uploading segment 178257920/587375714 size 10485760
2019/05/30 20:48:30 INFO  : reference/ref.gff: Copied (new)
2019/05/30 20:48:30 INFO  : reference/ref/genes.gff.gz: Copied (new)
2019/05/30 20:48:30 DEBUG : snps.bam: Uploading segment 188743680/587375714 size 10485760
2019/05/30 20:48:31 INFO  : reference/genomes/ref.fa: Copied (new)
2019/05/30 20:48:31 DEBUG : snps.bam: Uploading segment 199229440/587375714 size 10485760
2019/05/30 20:48:31 INFO  : reference/ref/snpEffectPredictor.bin: Copied (new)
2019/05/30 20:48:32 DEBUG : snps.bam: Uploading segment 209715200/587375714 size 10485760
2019/05/30 20:48:33 DEBUG : snps.bam: Uploading segment 220200960/587375714 size 10485760
2019/05/30 20:48:33 DEBUG : snps.bam: Uploading segment 230686720/587375714 size 10485760
2019/05/30 20:48:34 DEBUG : snps.bam: Uploading segment 241172480/587375714 size 10485760
2019/05/30 20:48:34 DEBUG : snps.bam: Uploading segment 251658240/587375714 size 10485760
2019/05/30 20:48:35 DEBUG : snps.bam: Uploading segment 262144000/587375714 size 10485760
2019/05/30 20:48:36 DEBUG : snps.bam: Uploading segment 272629760/587375714 size 10485760
2019/05/30 20:48:36 DEBUG : snps.bam: Uploading segment 283115520/587375714 size 10485760
2019/05/30 20:48:38 DEBUG : snps.bam: Uploading segment 293601280/587375714 size 10485760
2019/05/30 20:48:39 DEBUG : snps.bam: Uploading segment 304087040/587375714 size 10485760
2019/05/30 20:48:39 DEBUG : snps.bam: Uploading segment 314572800/587375714 size 10485760
2019/05/30 20:48:40 DEBUG : snps.bam: Uploading segment 325058560/587375714 size 10485760
2019/05/30 20:48:41 DEBUG : snps.bam: Uploading segment 335544320/587375714 size 10485760
2019/05/30 20:48:42 DEBUG : snps.bam: Uploading segment 346030080/587375714 size 10485760
2019/05/30 20:48:43 DEBUG : snps.bam: Uploading segment 356515840/587375714 size 10485760
2019/05/30 20:48:43 DEBUG : snps.bam: Uploading segment 367001600/587375714 size 10485760
2019/05/30 20:48:44 DEBUG : snps.bam: Uploading segment 377487360/587375714 size 10485760
2019/05/30 20:48:45 DEBUG : snps.bam: Uploading segment 387973120/587375714 size 10485760
2019/05/30 20:48:46 DEBUG : snps.bam: Uploading segment 398458880/587375714 size 10485760
2019/05/30 20:48:47 DEBUG : snps.bam: Uploading segment 408944640/587375714 size 10485760
2019/05/30 20:48:48 DEBUG : snps.bam: Uploading segment 419430400/587375714 size 10485760
2019/05/30 20:48:48 DEBUG : snps.bam: Uploading segment 429916160/587375714 size 10485760
2019/05/30 20:48:49 DEBUG : snps.bam: Uploading segment 440401920/587375714 size 10485760
2019/05/30 20:48:50 DEBUG : snps.bam: Uploading segment 450887680/587375714 size 10485760
2019/05/30 20:48:50 DEBUG : snps.bam: Uploading segment 461373440/587375714 size 10485760
2019/05/30 20:48:52 DEBUG : snps.bam: Uploading segment 471859200/587375714 size 10485760
2019/05/30 20:48:52 DEBUG : snps.bam: Uploading segment 482344960/587375714 size 10485760
2019/05/30 20:48:53 DEBUG : snps.bam: Uploading segment 492830720/587375714 size 10485760
2019/05/30 20:48:53 DEBUG : snps.bam: Uploading segment 503316480/587375714 size 10485760
2019/05/30 20:48:54 DEBUG : snps.bam: Uploading segment 513802240/587375714 size 10485760
2019/05/30 20:48:55 DEBUG : snps.bam: Uploading segment 524288000/587375714 size 10485760
2019/05/30 20:48:55 DEBUG : snps.bam: Uploading segment 534773760/587375714 size 10485760
2019/05/30 20:48:56 DEBUG : snps.bam: Uploading segment 545259520/587375714 size 10485760
2019/05/30 20:48:57 DEBUG : snps.bam: Uploading segment 555745280/587375714 size 10485760
2019/05/30 20:48:57 DEBUG : snps.bam: Uploading segment 566231040/587375714 size 10485760
2019/05/30 20:48:58 DEBUG : snps.bam: Uploading segment 576716800/587375714 size 10485760
2019/05/30 20:48:59 DEBUG : snps.bam: Uploading segment 587202560/587375714 size 173154
2019/05/30 20:48:59 INFO  : snps.bam: Copied (new)
2019/05/30 20:48:59 INFO  : 
Transferred:   603.554 MBytes (13.306 MBytes/s)
Errors:                 0
Checks:                 0
Transferred:           35
Elapsed time:       45.3s
2019/05/30 20:48:59 DEBUG : Go routines at exit 13
2019/05/30 20:48:59 DEBUG : rclone: Version "v1.36" finishing with parameters ["rclone" "copy" "./SAMEA2340888" "onedrive-em:africanum_analysis/snippy/SAMEA2340888" "-vv"]
[16:49:05] This is snippy 3.2-dev
[16:49:05] Written by Torsten Seemann <torsten.seemann@gmail.com>
[16:49:05] Obtained from https://github.com/tseemann/snippy
[16:49:05] Detected operating system: linux
[16:49:05] Enabling bundled linux tools.
[16:49:05] Found bwa - /opt/snippy/binaries/linux/bwa
[16:49:05] Found samtools - /opt/snippy/binaries/linux/samtools
[16:49:05] Found tabix - /opt/snippy/binaries/linux/tabix
[16:49:05] Found bgzip - /opt/snippy/binaries/linux/bgzip
[16:49:05] Found snpEff - /opt/snippy/binaries/noarch/snpEff
[16:49:05] Found java - /usr/bin/java
[16:49:05] Found gzip - /usr/bin/gzip
[16:49:05] Found parallel - /opt/snippy/binaries/noarch/parallel
[16:49:05] Found freebayes - /opt/snippy/binaries/linux/freebayes
[16:49:05] Found freebayes-parallel - /opt/snippy/binaries/noarch/freebayes-parallel
[16:49:05] Found fasta_generate_regions.py - /opt/snippy/binaries/noarch/fasta_generate_regions.py
[16:49:05] Found vcfstreamsort - /opt/snippy/binaries/linux/vcfstreamsort
[16:49:05] Found vcfuniq - /opt/snippy/binaries/linux/vcfuniq
[16:49:05] Found vcffirstheader - /opt/snippy/binaries/noarch/vcffirstheader
[16:49:05] Found vcf-consensus - /opt/snippy/binaries/noarch/vcf-consensus
[16:49:05] Found snippy-vcf_to_tab - /opt/snippy/bin/snippy-vcf_to_tab
[16:49:05] Found snippy-vcf_report - /opt/snippy/bin/snippy-vcf_report
[16:49:05] Found snippy-vcf_filter - /opt/snippy/bin/snippy-vcf_filter
[16:49:05] Checking version: samtools --version is >= 1.3 - ok, have 1.3
[16:49:05] Using reference: /vagrant/africanum_analysis/lab/NC000962_3.gbk
[16:49:05] Treating reference as 'genbank' format.
[16:49:05] Will use 4 CPU cores.
[16:49:05] Using read file: /vagrant/africanum_analysis/lab/SAMEA2340889_1.fastq.gz
[16:49:05] Using read file: /vagrant/africanum_analysis/lab/SAMEA2340889_2.fastq.gz
[16:49:05] Creating folder: SAMEA2340889
[16:49:05] Changing working directory: SAMEA2340889
[16:49:05] Creating reference folder: reference
[16:49:05] Extracting FASTA and GFF from reference.
[16:49:22] Wrote 1 sequences to ref.fa
[16:49:22] Wrote 4416 features to ref.gff
[16:49:22] Creating reference/snpeff.config
[16:49:22] Freebayes will process 16 chunks of 280319 bp, 4 chunks at a time.
[16:49:22] Using BAM RG (Read Group) ID: snps
[16:49:22] Running: samtools faidx reference/ref.fa 2>> snps.log
[16:49:22] Running: bwa index reference/ref.fa 2>> snps.log
[16:49:30] Running: mkdir reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[16:49:30] Running: mkdir reference/ref && bgzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[16:49:30] Running: snpEff build -c reference/snpeff.config -dataDir . -gff3 ref 2>> snps.log
[16:49:39] Running: (bwa mem  -v 2 -M -R '@RG\tID:snps\tSM:snps' -t 4 reference/ref.fa /vagrant/africanum_analysis/lab/SAMEA2340889_1.fastq.gz /vagrant/africanum_analysis/lab/SAMEA2340889_2.fastq.gz | samtools sort --reference reference/ref.fa > snps.bam) 2>> snps.log
[17:04:19] Running: samtools index snps.bam 2>> snps.log
[17:04:47] Running: samtools depth -q 20 snps.bam | bgzip > snps.depth.gz 2>> snps.log
[17:05:15] Running: tabix -s 1 -b 2 -e 2 snps.depth.gz 2>> snps.log
[17:05:16] Running: fasta_generate_regions.py reference/ref.fa.fai 280319 > reference/ref.txt 2>> snps.log
[17:05:16] Running: freebayes-parallel reference/ref.txt 4 -p 1 -q 20 -m 60 --min-coverage 10 -V -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[17:05:32] Running: /opt/snippy/bin/snippy-vcf_filter --minqual 10 --mincov 10 --minfrac 0.9  snps.raw.vcf > snps.filt.vcf 2>> snps.log
[17:05:33] Running: snpEff ann -no-downstream -no-upstream -no-intergenic -no-utr -c reference/snpeff.config -dataDir . -noStats ref snps.filt.vcf > snps.vcf 2>> snps.log
[17:05:39] Running: bgzip -c snps.vcf > snps.vcf.gz 2>> snps.log
[17:05:39] Running: tabix -p vcf snps.vcf.gz 2>> snps.log
[17:05:39] Running: /opt/snippy/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[17:05:57] Running: vcf-consensus snps.vcf.gz < reference/ref.fa > snps.consensus.fa 2>> snps.log
[17:06:00] Running: /opt/snippy/bin/snippy-vcf_filter --subs snps.filt.vcf > snps.filt.subs.vcf 2>> snps.log
[17:06:00] Running: bgzip -c snps.filt.subs.vcf > snps.filt.subs.vcf.gz 2>> snps.log
[17:06:00] Running: tabix -p vcf snps.filt.subs.vcf.gz 2>> snps.log
[17:06:00] Running: vcf-consensus snps.filt.subs.vcf.gz < reference/ref.fa > snps.consensus.subs.fa 2>> snps.log
[17:06:03] Generating aligned/masked FASTA relative to reference: snps.aligned.fa
[17:06:09] Creating extra output files: BED GFF CSV TXT HTML
[17:06:09] Identified 148 variants.
[17:06:09] Result folder: SAMEA2340889
[17:06:09] Result files:
[17:06:09] * SAMEA2340889/snps.aligned.fa
[17:06:09] * SAMEA2340889/snps.bam
[17:06:09] * SAMEA2340889/snps.bam.bai
[17:06:09] * SAMEA2340889/snps.bed
[17:06:09] * SAMEA2340889/snps.consensus.fa
[17:06:09] * SAMEA2340889/snps.consensus.subs.fa
[17:06:09] * SAMEA2340889/snps.csv
[17:06:09] * SAMEA2340889/snps.depth.gz
[17:06:09] * SAMEA2340889/snps.depth.gz.tbi
[17:06:09] * SAMEA2340889/snps.filt.subs.vcf
[17:06:09] * SAMEA2340889/snps.filt.subs.vcf.gz
[17:06:09] * SAMEA2340889/snps.filt.subs.vcf.gz.tbi
[17:06:09] * SAMEA2340889/snps.filt.vcf
[17:06:09] * SAMEA2340889/snps.gff
[17:06:09] * SAMEA2340889/snps.html
[17:06:09] * SAMEA2340889/snps.log
[17:06:09] * SAMEA2340889/snps.raw.vcf
[17:06:09] * SAMEA2340889/snps.tab
[17:06:09] * SAMEA2340889/snps.txt
[17:06:09] * SAMEA2340889/snps.vcf
[17:06:09] * SAMEA2340889/snps.vcf.gz
[17:06:09] * SAMEA2340889/snps.vcf.gz.tbi
[17:06:09] Walltime used: 17 minutes, 4 seconds
[17:06:09] The Snippy manual is at https://github.com/tseemann/snippy/blob/master/README.md
[17:06:09] Done.
2019/05/30 21:06:09 DEBUG : rclone: Version "v1.36" starting with parameters ["rclone" "copy" "./SAMEA2340889" "onedrive-em:africanum_analysis/snippy/SAMEA2340889" "-vv"]
2019/05/30 21:06:10 DEBUG : onedrive-em: Saved new token in config file
2019/05/30 21:06:12 INFO  : One drive root 'africanum_analysis/snippy/SAMEA2340889': Modify window is 1s
2019/05/30 21:06:13 DEBUG : One drive root 'africanum_analysis/snippy/SAMEA2340889': Reading ""
2019/05/30 21:06:13 DEBUG : One drive root 'africanum_analysis/snippy/SAMEA2340889': Finished reading ""
2019/05/30 21:06:13 DEBUG : snps.bam: Starting multipart upload
2019/05/30 21:06:14 DEBUG : snps.bam: Uploading segment 0/629620210 size 10485760
2019/05/30 21:06:14 INFO  : snps.bam.bai: Copied (new)
2019/05/30 21:06:14 INFO  : snps.bed: Copied (new)
2019/05/30 21:06:15 DEBUG : snps.bam: Uploading segment 10485760/629620210 size 10485760
2019/05/30 21:06:15 DEBUG : snps.bam: Uploading segment 20971520/629620210 size 10485760
2019/05/30 21:06:15 INFO  : snps.aligned.fa: Copied (new)
2019/05/30 21:06:16 INFO  : snps.csv: Copied (new)
2019/05/30 21:06:16 DEBUG : snps.bam: Uploading segment 31457280/629620210 size 10485760
2019/05/30 21:06:16 INFO  : snps.consensus.fa: Copied (new)
2019/05/30 21:06:16 INFO  : snps.consensus.subs.fa: Copied (new)
2019/05/30 21:06:17 DEBUG : snps.bam: Uploading segment 41943040/629620210 size 10485760
2019/05/30 21:06:17 INFO  : snps.depth.gz.tbi: Copied (new)
2019/05/30 21:06:17 INFO  : snps.filt.subs.vcf: Copied (new)
2019/05/30 21:06:17 DEBUG : snps.bam: Uploading segment 52428800/629620210 size 10485760
2019/05/30 21:06:17 INFO  : snps.filt.subs.vcf.gz: Copied (new)
2019/05/30 21:06:18 INFO  : snps.filt.subs.vcf.gz.tbi: Copied (new)
2019/05/30 21:06:18 INFO  : snps.depth.gz: Copied (new)
2019/05/30 21:06:18 INFO  : snps.filt.vcf: Copied (new)
2019/05/30 21:06:19 INFO  : snps.html: Copied (new)
2019/05/30 21:06:19 DEBUG : snps.bam: Uploading segment 62914560/629620210 size 10485760
2019/05/30 21:06:19 INFO  : snps.log: Copied (new)
2019/05/30 21:06:19 INFO  : snps.gff: Copied (new)
2019/05/30 21:06:19 INFO  : snps.raw.vcf: Copied (new)
2019/05/30 21:06:19 DEBUG : snps.bam: Uploading segment 73400320/629620210 size 10485760
2019/05/30 21:06:20 INFO  : snps.tab: Copied (new)
2019/05/30 21:06:20 INFO  : snps.txt: Copied (new)
2019/05/30 21:06:20 INFO  : snps.vcf: Copied (new)
2019/05/30 21:06:20 INFO  : snps.vcf.gz: Copied (new)
2019/05/30 21:06:20 INFO  : snps.vcf.gz.tbi: Copied (new)
2019/05/30 21:06:20 DEBUG : snps.bam: Uploading segment 83886080/629620210 size 10485760
2019/05/30 21:06:21 INFO  : reference/ref.fa.ann: Copied (new)
2019/05/30 21:06:21 INFO  : reference/ref.fa.amb: Copied (new)
2019/05/30 21:06:22 DEBUG : snps.bam: Uploading segment 94371840/629620210 size 10485760
2019/05/30 21:06:22 INFO  : reference/ref.fa.fai: Copied (new)
2019/05/30 21:06:23 DEBUG : snps.bam: Uploading segment 104857600/629620210 size 10485760
2019/05/30 21:06:23 INFO  : reference/ref.fa: Copied (new)
2019/05/30 21:06:23 INFO  : reference/ref.fa.pac: Copied (new)
2019/05/30 21:06:23 INFO  : reference/ref.fa.bwt: Copied (new)
2019/05/30 21:06:23 INFO  : One drive root 'africanum_analysis/snippy/SAMEA2340889': Waiting for checks to finish
2019/05/30 21:06:23 INFO  : One drive root 'africanum_analysis/snippy/SAMEA2340889': Waiting for transfers to finish
2019/05/30 21:06:24 INFO  : reference/ref.txt: Copied (new)
2019/05/30 21:06:24 DEBUG : snps.bam: Uploading segment 115343360/629620210 size 10485760
2019/05/30 21:06:24 INFO  : reference/ref.fa.sa: Copied (new)
2019/05/30 21:06:25 DEBUG : snps.bam: Uploading segment 125829120/629620210 size 10485760
2019/05/30 21:06:25 INFO  : reference/snpeff.config: Copied (new)
2019/05/30 21:06:26 DEBUG : snps.bam: Uploading segment 136314880/629620210 size 10485760
2019/05/30 21:06:27 INFO  : reference/genomes/ref.fa: Copied (new)
2019/05/30 21:06:27 DEBUG : snps.bam: Uploading segment 146800640/629620210 size 10485760
2019/05/30 21:06:27 INFO  : reference/ref.gff: Copied (new)
2019/05/30 21:06:27 DEBUG : snps.bam: Uploading segment 157286400/629620210 size 10485760
2019/05/30 21:06:27 INFO  : reference/ref/genes.gff.gz: Copied (new)
2019/05/30 21:06:28 INFO  : reference/ref/snpEffectPredictor.bin: Copied (new)
2019/05/30 21:06:28 DEBUG : snps.bam: Uploading segment 167772160/629620210 size 10485760
2019/05/30 21:06:28 DEBUG : snps.bam: Uploading segment 178257920/629620210 size 10485760
2019/05/30 21:06:29 DEBUG : snps.bam: Uploading segment 188743680/629620210 size 10485760
2019/05/30 21:06:30 DEBUG : snps.bam: Uploading segment 199229440/629620210 size 10485760
2019/05/30 21:06:30 DEBUG : snps.bam: Uploading segment 209715200/629620210 size 10485760
2019/05/30 21:06:31 DEBUG : snps.bam: Uploading segment 220200960/629620210 size 10485760
2019/05/30 21:06:32 DEBUG : snps.bam: Uploading segment 230686720/629620210 size 10485760
2019/05/30 21:06:32 DEBUG : snps.bam: Uploading segment 241172480/629620210 size 10485760
2019/05/30 21:06:33 DEBUG : snps.bam: Uploading segment 251658240/629620210 size 10485760
2019/05/30 21:06:34 DEBUG : snps.bam: Uploading segment 262144000/629620210 size 10485760
2019/05/30 21:06:34 DEBUG : snps.bam: Uploading segment 272629760/629620210 size 10485760
2019/05/30 21:06:35 DEBUG : snps.bam: Uploading segment 283115520/629620210 size 10485760
2019/05/30 21:06:36 DEBUG : snps.bam: Uploading segment 293601280/629620210 size 10485760
2019/05/30 21:06:36 DEBUG : snps.bam: Uploading segment 304087040/629620210 size 10485760
2019/05/30 21:06:38 DEBUG : snps.bam: Uploading segment 314572800/629620210 size 10485760
2019/05/30 21:06:38 DEBUG : snps.bam: Uploading segment 325058560/629620210 size 10485760
2019/05/30 21:06:39 DEBUG : snps.bam: Uploading segment 335544320/629620210 size 10485760
2019/05/30 21:06:40 DEBUG : snps.bam: Uploading segment 346030080/629620210 size 10485760
2019/05/30 21:06:40 DEBUG : snps.bam: Uploading segment 356515840/629620210 size 10485760
2019/05/30 21:06:41 DEBUG : snps.bam: Uploading segment 367001600/629620210 size 10485760
2019/05/30 21:06:42 DEBUG : snps.bam: Uploading segment 377487360/629620210 size 10485760
2019/05/30 21:06:42 DEBUG : snps.bam: Uploading segment 387973120/629620210 size 10485760
2019/05/30 21:06:43 DEBUG : snps.bam: Uploading segment 398458880/629620210 size 10485760
2019/05/30 21:06:44 DEBUG : snps.bam: Uploading segment 408944640/629620210 size 10485760
2019/05/30 21:06:45 DEBUG : snps.bam: Uploading segment 419430400/629620210 size 10485760
2019/05/30 21:06:45 DEBUG : snps.bam: Uploading segment 429916160/629620210 size 10485760
2019/05/30 21:06:46 DEBUG : snps.bam: Uploading segment 440401920/629620210 size 10485760
2019/05/30 21:06:46 DEBUG : snps.bam: Uploading segment 450887680/629620210 size 10485760
2019/05/30 21:06:47 DEBUG : snps.bam: Uploading segment 461373440/629620210 size 10485760
2019/05/30 21:06:48 DEBUG : snps.bam: Uploading segment 471859200/629620210 size 10485760
2019/05/30 21:06:48 DEBUG : snps.bam: Uploading segment 482344960/629620210 size 10485760
2019/05/30 21:06:49 DEBUG : snps.bam: Uploading segment 492830720/629620210 size 10485760
2019/05/30 21:06:49 DEBUG : snps.bam: Uploading segment 503316480/629620210 size 10485760
2019/05/30 21:06:50 DEBUG : snps.bam: Uploading segment 513802240/629620210 size 10485760
2019/05/30 21:06:51 DEBUG : snps.bam: Uploading segment 524288000/629620210 size 10485760
2019/05/30 21:06:51 DEBUG : snps.bam: Uploading segment 534773760/629620210 size 10485760
2019/05/30 21:06:52 DEBUG : snps.bam: Uploading segment 545259520/629620210 size 10485760
2019/05/30 21:06:52 DEBUG : snps.bam: Uploading segment 555745280/629620210 size 10485760
2019/05/30 21:06:53 DEBUG : snps.bam: Uploading segment 566231040/629620210 size 10485760
2019/05/30 21:06:54 DEBUG : snps.bam: Uploading segment 576716800/629620210 size 10485760
2019/05/30 21:06:54 DEBUG : snps.bam: Uploading segment 587202560/629620210 size 10485760
2019/05/30 21:06:55 DEBUG : snps.bam: Uploading segment 597688320/629620210 size 10485760
2019/05/30 21:06:56 DEBUG : snps.bam: Uploading segment 608174080/629620210 size 10485760
2019/05/30 21:06:56 DEBUG : snps.bam: Uploading segment 618659840/629620210 size 10485760
2019/05/30 21:06:57 DEBUG : snps.bam: Uploading segment 629145600/629620210 size 474610
2019/05/30 21:06:58 INFO  : snps.bam: Copied (new)
2019/05/30 21:06:58 INFO  : 
Transferred:   638.792 MBytes (13.003 MBytes/s)
Errors:                 0
Checks:                 0
Transferred:           35
Elapsed time:       49.1s
2019/05/30 21:06:58 DEBUG : Go routines at exit 14
2019/05/30 21:06:58 DEBUG : rclone: Version "v1.36" finishing with parameters ["rclone" "copy" "./SAMEA2340889" "onedrive-em:africanum_analysis/snippy/SAMEA2340889" "-vv"]
[17:07:04] This is snippy 3.2-dev
[17:07:04] Written by Torsten Seemann <torsten.seemann@gmail.com>
[17:07:04] Obtained from https://github.com/tseemann/snippy
[17:07:04] Detected operating system: linux
[17:07:04] Enabling bundled linux tools.
[17:07:04] Found bwa - /opt/snippy/binaries/linux/bwa
[17:07:04] Found samtools - /opt/snippy/binaries/linux/samtools
[17:07:04] Found tabix - /opt/snippy/binaries/linux/tabix
[17:07:04] Found bgzip - /opt/snippy/binaries/linux/bgzip
[17:07:04] Found snpEff - /opt/snippy/binaries/noarch/snpEff
[17:07:04] Found java - /usr/bin/java
[17:07:04] Found gzip - /usr/bin/gzip
[17:07:04] Found parallel - /opt/snippy/binaries/noarch/parallel
[17:07:04] Found freebayes - /opt/snippy/binaries/linux/freebayes
[17:07:04] Found freebayes-parallel - /opt/snippy/binaries/noarch/freebayes-parallel
[17:07:04] Found fasta_generate_regions.py - /opt/snippy/binaries/noarch/fasta_generate_regions.py
[17:07:04] Found vcfstreamsort - /opt/snippy/binaries/linux/vcfstreamsort
[17:07:04] Found vcfuniq - /opt/snippy/binaries/linux/vcfuniq
[17:07:04] Found vcffirstheader - /opt/snippy/binaries/noarch/vcffirstheader
[17:07:04] Found vcf-consensus - /opt/snippy/binaries/noarch/vcf-consensus
[17:07:04] Found snippy-vcf_to_tab - /opt/snippy/bin/snippy-vcf_to_tab
[17:07:04] Found snippy-vcf_report - /opt/snippy/bin/snippy-vcf_report
[17:07:04] Found snippy-vcf_filter - /opt/snippy/bin/snippy-vcf_filter
[17:07:04] Checking version: samtools --version is >= 1.3 - ok, have 1.3
[17:07:04] Using reference: /vagrant/africanum_analysis/lab/NC000962_3.gbk
[17:07:04] Treating reference as 'genbank' format.
[17:07:04] Will use 4 CPU cores.
[17:07:04] Using read file: /vagrant/africanum_analysis/lab/SAMEA2340890_1.fastq.gz
[17:07:04] Using read file: /vagrant/africanum_analysis/lab/SAMEA2340890_2.fastq.gz
[17:07:04] Creating folder: SAMEA2340890
[17:07:04] Changing working directory: SAMEA2340890
[17:07:04] Creating reference folder: reference
[17:07:04] Extracting FASTA and GFF from reference.
[17:07:21] Wrote 1 sequences to ref.fa
[17:07:21] Wrote 4416 features to ref.gff
[17:07:21] Creating reference/snpeff.config
[17:07:21] Freebayes will process 16 chunks of 280319 bp, 4 chunks at a time.
[17:07:21] Using BAM RG (Read Group) ID: snps
[17:07:21] Running: samtools faidx reference/ref.fa 2>> snps.log
[17:07:21] Running: bwa index reference/ref.fa 2>> snps.log
[17:07:29] Running: mkdir reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[17:07:29] Running: mkdir reference/ref && bgzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[17:07:30] Running: snpEff build -c reference/snpeff.config -dataDir . -gff3 ref 2>> snps.log
[17:07:38] Running: (bwa mem  -v 2 -M -R '@RG\tID:snps\tSM:snps' -t 4 reference/ref.fa /vagrant/africanum_analysis/lab/SAMEA2340890_1.fastq.gz /vagrant/africanum_analysis/lab/SAMEA2340890_2.fastq.gz | samtools sort --reference reference/ref.fa > snps.bam) 2>> snps.log
[17:21:56] Running: samtools index snps.bam 2>> snps.log
[17:22:23] Running: samtools depth -q 20 snps.bam | bgzip > snps.depth.gz 2>> snps.log
[17:22:50] Running: tabix -s 1 -b 2 -e 2 snps.depth.gz 2>> snps.log
[17:22:51] Running: fasta_generate_regions.py reference/ref.fa.fai 280319 > reference/ref.txt 2>> snps.log
[17:22:51] Running: freebayes-parallel reference/ref.txt 4 -p 1 -q 20 -m 60 --min-coverage 10 -V -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[17:23:04] Running: /opt/snippy/bin/snippy-vcf_filter --minqual 10 --mincov 10 --minfrac 0.9  snps.raw.vcf > snps.filt.vcf 2>> snps.log
[17:23:04] Running: snpEff ann -no-downstream -no-upstream -no-intergenic -no-utr -c reference/snpeff.config -dataDir . -noStats ref snps.filt.vcf > snps.vcf 2>> snps.log
[17:23:10] Running: bgzip -c snps.vcf > snps.vcf.gz 2>> snps.log
[17:23:10] Running: tabix -p vcf snps.vcf.gz 2>> snps.log
[17:23:10] Running: /opt/snippy/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[17:23:28] Running: vcf-consensus snps.vcf.gz < reference/ref.fa > snps.consensus.fa 2>> snps.log
[17:23:31] Running: /opt/snippy/bin/snippy-vcf_filter --subs snps.filt.vcf > snps.filt.subs.vcf 2>> snps.log
[17:23:32] Running: bgzip -c snps.filt.subs.vcf > snps.filt.subs.vcf.gz 2>> snps.log
[17:23:32] Running: tabix -p vcf snps.filt.subs.vcf.gz 2>> snps.log
[17:23:32] Running: vcf-consensus snps.filt.subs.vcf.gz < reference/ref.fa > snps.consensus.subs.fa 2>> snps.log
[17:23:35] Generating aligned/masked FASTA relative to reference: snps.aligned.fa
[17:23:39] Creating extra output files: BED GFF CSV TXT HTML
[17:23:39] Identified 141 variants.
[17:23:39] Result folder: SAMEA2340890
[17:23:39] Result files:
[17:23:39] * SAMEA2340890/snps.aligned.fa
[17:23:39] * SAMEA2340890/snps.bam
[17:23:39] * SAMEA2340890/snps.bam.bai
[17:23:39] * SAMEA2340890/snps.bed
[17:23:39] * SAMEA2340890/snps.consensus.fa
[17:23:39] * SAMEA2340890/snps.consensus.subs.fa
[17:23:39] * SAMEA2340890/snps.csv
[17:23:39] * SAMEA2340890/snps.depth.gz
[17:23:39] * SAMEA2340890/snps.depth.gz.tbi
[17:23:39] * SAMEA2340890/snps.filt.subs.vcf
[17:23:39] * SAMEA2340890/snps.filt.subs.vcf.gz
[17:23:39] * SAMEA2340890/snps.filt.subs.vcf.gz.tbi
[17:23:39] * SAMEA2340890/snps.filt.vcf
[17:23:39] * SAMEA2340890/snps.gff
[17:23:39] * SAMEA2340890/snps.html
[17:23:39] * SAMEA2340890/snps.log
[17:23:39] * SAMEA2340890/snps.raw.vcf
[17:23:39] * SAMEA2340890/snps.tab
[17:23:39] * SAMEA2340890/snps.txt
[17:23:39] * SAMEA2340890/snps.vcf
[17:23:39] * SAMEA2340890/snps.vcf.gz
[17:23:39] * SAMEA2340890/snps.vcf.gz.tbi
[17:23:39] Walltime used: 16 minutes, 35 seconds
[17:23:39] The Snippy manual is at https://github.com/tseemann/snippy/blob/master/README.md
[17:23:39] Done.
2019/05/30 21:23:39 DEBUG : rclone: Version "v1.36" starting with parameters ["rclone" "copy" "./SAMEA2340890" "onedrive-em:africanum_analysis/snippy/SAMEA2340890" "-vv"]
2019/05/30 21:23:41 INFO  : One drive root 'africanum_analysis/snippy/SAMEA2340890': Modify window is 1s
2019/05/30 21:23:42 DEBUG : One drive root 'africanum_analysis/snippy/SAMEA2340890': Reading ""
2019/05/30 21:23:42 DEBUG : One drive root 'africanum_analysis/snippy/SAMEA2340890': Finished reading ""
2019/05/30 21:23:42 DEBUG : snps.bam: Starting multipart upload
2019/05/30 21:23:42 DEBUG : snps.bam: Uploading segment 0/615384000 size 10485760
2019/05/30 21:23:42 INFO  : snps.bed: Copied (new)
2019/05/30 21:23:42 INFO  : snps.bam.bai: Copied (new)
2019/05/30 21:23:43 DEBUG : snps.bam: Uploading segment 10485760/615384000 size 10485760
2019/05/30 21:23:43 DEBUG : snps.bam: Uploading segment 20971520/615384000 size 10485760
2019/05/30 21:23:44 INFO  : snps.aligned.fa: Copied (new)
2019/05/30 21:23:44 DEBUG : snps.bam: Uploading segment 31457280/615384000 size 10485760
2019/05/30 21:23:44 INFO  : snps.csv: Copied (new)
2019/05/30 21:23:44 INFO  : snps.consensus.subs.fa: Copied (new)
2019/05/30 21:23:45 INFO  : snps.consensus.fa: Copied (new)
2019/05/30 21:23:45 INFO  : snps.depth.gz.tbi: Copied (new)
2019/05/30 21:23:45 DEBUG : snps.bam: Uploading segment 41943040/615384000 size 10485760
2019/05/30 21:23:45 INFO  : snps.filt.subs.vcf: Copied (new)
2019/05/30 21:23:45 INFO  : snps.filt.subs.vcf.gz: Copied (new)
2019/05/30 21:23:46 INFO  : snps.depth.gz: Copied (new)
2019/05/30 21:23:46 INFO  : snps.filt.subs.vcf.gz.tbi: Copied (new)
2019/05/30 21:23:46 INFO  : snps.filt.vcf: Copied (new)
2019/05/30 21:23:46 DEBUG : snps.bam: Uploading segment 52428800/615384000 size 10485760
2019/05/30 21:23:46 INFO  : snps.gff: Copied (new)
2019/05/30 21:23:46 INFO  : snps.html: Copied (new)
2019/05/30 21:23:47 DEBUG : snps.bam: Uploading segment 62914560/615384000 size 10485760
2019/05/30 21:23:47 INFO  : snps.log: Copied (new)
2019/05/30 21:23:47 INFO  : snps.raw.vcf: Copied (new)
2019/05/30 21:23:47 INFO  : snps.tab: Copied (new)
2019/05/30 21:23:48 INFO  : snps.txt: Copied (new)
2019/05/30 21:23:48 INFO  : snps.vcf.gz: Copied (new)
2019/05/30 21:23:48 INFO  : snps.vcf: Copied (new)
2019/05/30 21:23:48 INFO  : snps.vcf.gz.tbi: Copied (new)
2019/05/30 21:23:49 DEBUG : snps.bam: Uploading segment 73400320/615384000 size 10485760
2019/05/30 21:23:49 INFO  : reference/ref.fa.ann: Copied (new)
2019/05/30 21:23:49 INFO  : reference/ref.fa.amb: Copied (new)
2019/05/30 21:23:49 DEBUG : snps.bam: Uploading segment 83886080/615384000 size 10485760
2019/05/30 21:23:50 DEBUG : snps.bam: Uploading segment 94371840/615384000 size 10485760
2019/05/30 21:23:50 INFO  : reference/ref.fa.fai: Copied (new)
2019/05/30 21:23:50 INFO  : reference/ref.fa: Copied (new)
2019/05/30 21:23:51 INFO  : reference/ref.fa.bwt: Copied (new)
2019/05/30 21:23:51 DEBUG : snps.bam: Uploading segment 104857600/615384000 size 10485760
2019/05/30 21:23:51 INFO  : reference/ref.fa.pac: Copied (new)
2019/05/30 21:23:51 INFO  : One drive root 'africanum_analysis/snippy/SAMEA2340890': Waiting for checks to finish
2019/05/30 21:23:51 INFO  : One drive root 'africanum_analysis/snippy/SAMEA2340890': Waiting for transfers to finish
2019/05/30 21:23:52 DEBUG : snps.bam: Uploading segment 115343360/615384000 size 10485760
2019/05/30 21:23:52 INFO  : reference/ref.txt: Copied (new)
2019/05/30 21:23:52 INFO  : reference/ref.fa.sa: Copied (new)
2019/05/30 21:23:52 INFO  : reference/ref.gff: Copied (new)
2019/05/30 21:23:53 INFO  : reference/snpeff.config: Copied (new)
2019/05/30 21:23:53 DEBUG : snps.bam: Uploading segment 125829120/615384000 size 10485760
2019/05/30 21:23:54 DEBUG : snps.bam: Uploading segment 136314880/615384000 size 10485760
2019/05/30 21:23:54 INFO  : reference/genomes/ref.fa: Copied (new)
2019/05/30 21:23:55 DEBUG : snps.bam: Uploading segment 146800640/615384000 size 10485760
2019/05/30 21:23:55 INFO  : reference/ref/snpEffectPredictor.bin: Copied (new)
2019/05/30 21:23:55 INFO  : reference/ref/genes.gff.gz: Copied (new)
2019/05/30 21:23:55 DEBUG : snps.bam: Uploading segment 157286400/615384000 size 10485760
2019/05/30 21:23:56 DEBUG : snps.bam: Uploading segment 167772160/615384000 size 10485760
2019/05/30 21:23:57 DEBUG : snps.bam: Uploading segment 178257920/615384000 size 10485760
2019/05/30 21:23:57 DEBUG : snps.bam: Uploading segment 188743680/615384000 size 10485760
2019/05/30 21:23:59 DEBUG : snps.bam: Uploading segment 199229440/615384000 size 10485760
2019/05/30 21:23:59 DEBUG : snps.bam: Uploading segment 209715200/615384000 size 10485760
2019/05/30 21:24:01 DEBUG : snps.bam: Uploading segment 220200960/615384000 size 10485760
2019/05/30 21:24:01 DEBUG : snps.bam: Uploading segment 230686720/615384000 size 10485760
2019/05/30 21:24:02 DEBUG : snps.bam: Uploading segment 241172480/615384000 size 10485760
2019/05/30 21:24:03 DEBUG : snps.bam: Uploading segment 251658240/615384000 size 10485760
2019/05/30 21:24:03 DEBUG : snps.bam: Uploading segment 262144000/615384000 size 10485760
2019/05/30 21:24:04 DEBUG : snps.bam: Uploading segment 272629760/615384000 size 10485760
2019/05/30 21:24:04 DEBUG : snps.bam: Uploading segment 283115520/615384000 size 10485760
2019/05/30 21:24:05 DEBUG : snps.bam: Uploading segment 293601280/615384000 size 10485760
2019/05/30 21:24:06 DEBUG : snps.bam: Uploading segment 304087040/615384000 size 10485760
2019/05/30 21:24:07 DEBUG : snps.bam: Uploading segment 314572800/615384000 size 10485760
2019/05/30 21:24:07 DEBUG : snps.bam: Uploading segment 325058560/615384000 size 10485760
2019/05/30 21:24:08 DEBUG : snps.bam: Uploading segment 335544320/615384000 size 10485760
2019/05/30 21:24:09 DEBUG : snps.bam: Uploading segment 346030080/615384000 size 10485760
2019/05/30 21:24:10 DEBUG : snps.bam: Uploading segment 356515840/615384000 size 10485760
2019/05/30 21:24:12 DEBUG : snps.bam: Uploading segment 367001600/615384000 size 10485760
2019/05/30 21:24:12 DEBUG : snps.bam: Uploading segment 377487360/615384000 size 10485760
2019/05/30 21:24:13 DEBUG : snps.bam: Uploading segment 387973120/615384000 size 10485760
2019/05/30 21:24:14 DEBUG : snps.bam: Uploading segment 398458880/615384000 size 10485760
2019/05/30 21:24:14 DEBUG : snps.bam: Uploading segment 408944640/615384000 size 10485760
2019/05/30 21:24:15 DEBUG : snps.bam: Uploading segment 419430400/615384000 size 10485760
2019/05/30 21:24:16 DEBUG : snps.bam: Uploading segment 429916160/615384000 size 10485760
2019/05/30 21:24:16 DEBUG : snps.bam: Uploading segment 440401920/615384000 size 10485760
2019/05/30 21:24:17 DEBUG : snps.bam: Uploading segment 450887680/615384000 size 10485760
2019/05/30 21:24:18 DEBUG : snps.bam: Uploading segment 461373440/615384000 size 10485760
2019/05/30 21:24:18 DEBUG : snps.bam: Uploading segment 471859200/615384000 size 10485760
2019/05/30 21:24:19 DEBUG : snps.bam: Uploading segment 482344960/615384000 size 10485760
2019/05/30 21:24:20 DEBUG : snps.bam: Uploading segment 492830720/615384000 size 10485760
2019/05/30 21:24:21 DEBUG : snps.bam: Uploading segment 503316480/615384000 size 10485760
2019/05/30 21:24:21 DEBUG : snps.bam: Uploading segment 513802240/615384000 size 10485760
2019/05/30 21:24:22 DEBUG : snps.bam: Uploading segment 524288000/615384000 size 10485760
2019/05/30 21:24:23 DEBUG : snps.bam: Uploading segment 534773760/615384000 size 10485760
2019/05/30 21:24:23 DEBUG : snps.bam: Uploading segment 545259520/615384000 size 10485760
2019/05/30 21:24:24 DEBUG : snps.bam: Uploading segment 555745280/615384000 size 10485760
2019/05/30 21:24:25 DEBUG : snps.bam: Uploading segment 566231040/615384000 size 10485760
2019/05/30 21:24:25 DEBUG : snps.bam: Uploading segment 576716800/615384000 size 10485760
2019/05/30 21:24:26 DEBUG : snps.bam: Uploading segment 587202560/615384000 size 10485760
2019/05/30 21:24:27 DEBUG : snps.bam: Uploading segment 597688320/615384000 size 10485760
2019/05/30 21:24:28 DEBUG : snps.bam: Uploading segment 608174080/615384000 size 7209920
2019/05/30 21:24:29 INFO  : snps.bam: Copied (new)
2019/05/30 21:24:29 INFO  : 
Transferred:   625.123 MBytes (12.632 MBytes/s)
Errors:                 0
Checks:                 0
Transferred:           35
Elapsed time:       49.4s
2019/05/30 21:24:29 DEBUG : Go routines at exit 13
2019/05/30 21:24:29 DEBUG : rclone: Version "v1.36" finishing with parameters ["rclone" "copy" "./SAMEA2340890" "onedrive-em:africanum_analysis/snippy/SAMEA2340890" "-vv"]
[17:24:34] This is snippy 3.2-dev
[17:24:34] Written by Torsten Seemann <torsten.seemann@gmail.com>
[17:24:34] Obtained from https://github.com/tseemann/snippy
[17:24:34] Detected operating system: linux
[17:24:34] Enabling bundled linux tools.
[17:24:34] Found bwa - /opt/snippy/binaries/linux/bwa
[17:24:34] Found samtools - /opt/snippy/binaries/linux/samtools
[17:24:34] Found tabix - /opt/snippy/binaries/linux/tabix
[17:24:34] Found bgzip - /opt/snippy/binaries/linux/bgzip
[17:24:34] Found snpEff - /opt/snippy/binaries/noarch/snpEff
[17:24:34] Found java - /usr/bin/java
[17:24:34] Found gzip - /usr/bin/gzip
[17:24:34] Found parallel - /opt/snippy/binaries/noarch/parallel
[17:24:34] Found freebayes - /opt/snippy/binaries/linux/freebayes
[17:24:34] Found freebayes-parallel - /opt/snippy/binaries/noarch/freebayes-parallel
[17:24:34] Found fasta_generate_regions.py - /opt/snippy/binaries/noarch/fasta_generate_regions.py
[17:24:34] Found vcfstreamsort - /opt/snippy/binaries/linux/vcfstreamsort
[17:24:34] Found vcfuniq - /opt/snippy/binaries/linux/vcfuniq
[17:24:34] Found vcffirstheader - /opt/snippy/binaries/noarch/vcffirstheader
[17:24:34] Found vcf-consensus - /opt/snippy/binaries/noarch/vcf-consensus
[17:24:34] Found snippy-vcf_to_tab - /opt/snippy/bin/snippy-vcf_to_tab
[17:24:34] Found snippy-vcf_report - /opt/snippy/bin/snippy-vcf_report
[17:24:34] Found snippy-vcf_filter - /opt/snippy/bin/snippy-vcf_filter
[17:24:34] Checking version: samtools --version is >= 1.3 - ok, have 1.3
[17:24:34] Using reference: /vagrant/africanum_analysis/lab/NC000962_3.gbk
[17:24:35] Treating reference as 'genbank' format.
[17:24:35] Will use 4 CPU cores.
[17:24:35] Using read file: /vagrant/africanum_analysis/lab/SAMEA2340891_1.fastq.gz
[17:24:35] Using read file: /vagrant/africanum_analysis/lab/SAMEA2340891_2.fastq.gz
[17:24:35] Creating folder: SAMEA2340891
[17:24:35] Changing working directory: SAMEA2340891
[17:24:35] Creating reference folder: reference
[17:24:35] Extracting FASTA and GFF from reference.
[17:24:51] Wrote 1 sequences to ref.fa
[17:24:51] Wrote 4416 features to ref.gff
[17:24:51] Creating reference/snpeff.config
[17:24:51] Freebayes will process 16 chunks of 280319 bp, 4 chunks at a time.
[17:24:51] Using BAM RG (Read Group) ID: snps
[17:24:51] Running: samtools faidx reference/ref.fa 2>> snps.log
[17:24:51] Running: bwa index reference/ref.fa 2>> snps.log
[17:24:59] Running: mkdir reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[17:24:59] Running: mkdir reference/ref && bgzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[17:25:00] Running: snpEff build -c reference/snpeff.config -dataDir . -gff3 ref 2>> snps.log
[17:25:09] Running: (bwa mem  -v 2 -M -R '@RG\tID:snps\tSM:snps' -t 4 reference/ref.fa /vagrant/africanum_analysis/lab/SAMEA2340891_1.fastq.gz /vagrant/africanum_analysis/lab/SAMEA2340891_2.fastq.gz | samtools sort --reference reference/ref.fa > snps.bam) 2>> snps.log
[17:36:12] Running: samtools index snps.bam 2>> snps.log
[17:36:33] Running: samtools depth -q 20 snps.bam | bgzip > snps.depth.gz 2>> snps.log
[17:36:54] Running: tabix -s 1 -b 2 -e 2 snps.depth.gz 2>> snps.log
[17:36:54] Running: fasta_generate_regions.py reference/ref.fa.fai 280319 > reference/ref.txt 2>> snps.log
[17:36:54] Running: freebayes-parallel reference/ref.txt 4 -p 1 -q 20 -m 60 --min-coverage 10 -V -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[17:37:07] Running: /opt/snippy/bin/snippy-vcf_filter --minqual 10 --mincov 10 --minfrac 0.9  snps.raw.vcf > snps.filt.vcf 2>> snps.log
[17:37:07] Running: snpEff ann -no-downstream -no-upstream -no-intergenic -no-utr -c reference/snpeff.config -dataDir . -noStats ref snps.filt.vcf > snps.vcf 2>> snps.log
[17:37:13] Running: bgzip -c snps.vcf > snps.vcf.gz 2>> snps.log
[17:37:13] Running: tabix -p vcf snps.vcf.gz 2>> snps.log
[17:37:13] Running: /opt/snippy/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[17:37:31] Running: vcf-consensus snps.vcf.gz < reference/ref.fa > snps.consensus.fa 2>> snps.log
[17:37:34] Running: /opt/snippy/bin/snippy-vcf_filter --subs snps.filt.vcf > snps.filt.subs.vcf 2>> snps.log
[17:37:34] Running: bgzip -c snps.filt.subs.vcf > snps.filt.subs.vcf.gz 2>> snps.log
[17:37:34] Running: tabix -p vcf snps.filt.subs.vcf.gz 2>> snps.log
[17:37:34] Running: vcf-consensus snps.filt.subs.vcf.gz < reference/ref.fa > snps.consensus.subs.fa 2>> snps.log
[17:37:37] Generating aligned/masked FASTA relative to reference: snps.aligned.fa
[17:37:42] Creating extra output files: BED GFF CSV TXT HTML
[17:37:42] Identified 133 variants.
[17:37:42] Result folder: SAMEA2340891
[17:37:42] Result files:
[17:37:42] * SAMEA2340891/snps.aligned.fa
[17:37:42] * SAMEA2340891/snps.bam
[17:37:42] * SAMEA2340891/snps.bam.bai
[17:37:42] * SAMEA2340891/snps.bed
[17:37:42] * SAMEA2340891/snps.consensus.fa
[17:37:42] * SAMEA2340891/snps.consensus.subs.fa
[17:37:42] * SAMEA2340891/snps.csv
[17:37:42] * SAMEA2340891/snps.depth.gz
[17:37:42] * SAMEA2340891/snps.depth.gz.tbi
[17:37:42] * SAMEA2340891/snps.filt.subs.vcf
[17:37:42] * SAMEA2340891/snps.filt.subs.vcf.gz
[17:37:42] * SAMEA2340891/snps.filt.subs.vcf.gz.tbi
[17:37:42] * SAMEA2340891/snps.filt.vcf
[17:37:42] * SAMEA2340891/snps.gff
[17:37:42] * SAMEA2340891/snps.html
[17:37:42] * SAMEA2340891/snps.log
[17:37:42] * SAMEA2340891/snps.raw.vcf
[17:37:42] * SAMEA2340891/snps.tab
[17:37:42] * SAMEA2340891/snps.txt
[17:37:42] * SAMEA2340891/snps.vcf
[17:37:42] * SAMEA2340891/snps.vcf.gz
[17:37:42] * SAMEA2340891/snps.vcf.gz.tbi
[17:37:42] Walltime used: 13 minutes, 8 seconds
[17:37:42] Wishing you a life free of homopolymer errors.
[17:37:42] Done.
2019/05/30 21:37:42 DEBUG : rclone: Version "v1.36" starting with parameters ["rclone" "copy" "./SAMEA2340891" "onedrive-em:africanum_analysis/snippy/SAMEA2340891" "-vv"]
2019/05/30 21:37:43 INFO  : One drive root 'africanum_analysis/snippy/SAMEA2340891': Modify window is 1s
2019/05/30 21:37:43 DEBUG : One drive root 'africanum_analysis/snippy/SAMEA2340891': Reading ""
2019/05/30 21:37:44 DEBUG : One drive root 'africanum_analysis/snippy/SAMEA2340891': Finished reading ""
2019/05/30 21:37:44 DEBUG : snps.bam: Starting multipart upload
2019/05/30 21:37:44 DEBUG : snps.bam: Uploading segment 0/480113386 size 10485760
2019/05/30 21:37:45 DEBUG : snps.bam: Uploading segment 10485760/480113386 size 10485760
2019/05/30 21:37:45 INFO  : snps.bed: Copied (new)
2019/05/30 21:37:45 INFO  : snps.bam.bai: Copied (new)
2019/05/30 21:37:45 DEBUG : snps.bam: Uploading segment 20971520/480113386 size 10485760
2019/05/30 21:37:46 DEBUG : snps.bam: Uploading segment 31457280/480113386 size 10485760
2019/05/30 21:37:47 INFO  : snps.aligned.fa: Copied (new)
2019/05/30 21:37:47 INFO  : snps.consensus.fa: Copied (new)
2019/05/30 21:37:47 DEBUG : snps.bam: Uploading segment 41943040/480113386 size 10485760
2019/05/30 21:37:47 INFO  : snps.consensus.subs.fa: Copied (new)
2019/05/30 21:37:47 INFO  : snps.csv: Copied (new)
2019/05/30 21:37:47 DEBUG : snps.bam: Uploading segment 52428800/480113386 size 10485760
2019/05/30 21:37:48 DEBUG : snps.bam: Uploading segment 62914560/480113386 size 10485760
2019/05/30 21:37:48 INFO  : snps.depth.gz.tbi: Copied (new)
2019/05/30 21:37:48 INFO  : snps.filt.subs.vcf: Copied (new)
2019/05/30 21:37:48 INFO  : snps.depth.gz: Copied (new)
2019/05/30 21:37:48 INFO  : snps.filt.subs.vcf.gz.tbi: Copied (new)
2019/05/30 21:37:49 INFO  : snps.filt.subs.vcf.gz: Copied (new)
2019/05/30 21:37:49 INFO  : snps.filt.vcf: Copied (new)
2019/05/30 21:37:49 INFO  : snps.gff: Copied (new)
2019/05/30 21:37:49 INFO  : snps.html: Copied (new)
2019/05/30 21:37:49 INFO  : snps.log: Copied (new)
2019/05/30 21:37:49 DEBUG : snps.bam: Uploading segment 73400320/480113386 size 10485760
2019/05/30 21:37:50 INFO  : snps.raw.vcf: Copied (new)
2019/05/30 21:37:50 DEBUG : snps.bam: Uploading segment 83886080/480113386 size 10485760
2019/05/30 21:37:50 INFO  : snps.tab: Copied (new)
2019/05/30 21:37:50 INFO  : snps.txt: Copied (new)
2019/05/30 21:37:51 INFO  : snps.vcf: Copied (new)
2019/05/30 21:37:51 DEBUG : snps.bam: Uploading segment 94371840/480113386 size 10485760
2019/05/30 21:37:51 INFO  : snps.vcf.gz.tbi: Copied (new)
2019/05/30 21:37:51 INFO  : snps.vcf.gz: Copied (new)
2019/05/30 21:37:51 DEBUG : snps.bam: Uploading segment 104857600/480113386 size 10485760
2019/05/30 21:37:52 DEBUG : snps.bam: Uploading segment 115343360/480113386 size 10485760
2019/05/30 21:37:52 INFO  : reference/ref.fa.amb: Copied (new)
2019/05/30 21:37:52 INFO  : reference/ref.fa.ann: Copied (new)
2019/05/30 21:37:52 DEBUG : snps.bam: Uploading segment 125829120/480113386 size 10485760
2019/05/30 21:37:53 INFO  : reference/ref.fa.fai: Copied (new)
2019/05/30 21:37:53 DEBUG : snps.bam: Uploading segment 136314880/480113386 size 10485760
2019/05/30 21:37:53 INFO  : reference/ref.fa: Copied (new)
2019/05/30 21:37:54 INFO  : reference/ref.fa.bwt: Copied (new)
2019/05/30 21:37:54 DEBUG : snps.bam: Uploading segment 146800640/480113386 size 10485760
2019/05/30 21:37:55 INFO  : reference/ref.fa.pac: Copied (new)
2019/05/30 21:37:55 INFO  : One drive root 'africanum_analysis/snippy/SAMEA2340891': Waiting for checks to finish
2019/05/30 21:37:55 INFO  : One drive root 'africanum_analysis/snippy/SAMEA2340891': Waiting for transfers to finish
2019/05/30 21:37:55 INFO  : reference/ref.fa.sa: Copied (new)
2019/05/30 21:37:55 INFO  : reference/ref.txt: Copied (new)
2019/05/30 21:37:56 INFO  : reference/snpeff.config: Copied (new)
2019/05/30 21:37:56 INFO  : reference/ref.gff: Copied (new)
2019/05/30 21:37:56 DEBUG : snps.bam: Uploading segment 157286400/480113386 size 10485760
2019/05/30 21:37:57 DEBUG : snps.bam: Uploading segment 167772160/480113386 size 10485760
2019/05/30 21:37:57 INFO  : reference/ref/genes.gff.gz: Copied (new)
2019/05/30 21:37:57 INFO  : reference/ref/snpEffectPredictor.bin: Copied (new)
2019/05/30 21:37:57 DEBUG : snps.bam: Uploading segment 178257920/480113386 size 10485760
2019/05/30 21:37:58 INFO  : reference/genomes/ref.fa: Copied (new)
2019/05/30 21:37:58 DEBUG : snps.bam: Uploading segment 188743680/480113386 size 10485760
2019/05/30 21:37:59 DEBUG : snps.bam: Uploading segment 199229440/480113386 size 10485760
2019/05/30 21:37:59 DEBUG : snps.bam: Uploading segment 209715200/480113386 size 10485760
2019/05/30 21:38:00 DEBUG : snps.bam: Uploading segment 220200960/480113386 size 10485760
2019/05/30 21:38:00 DEBUG : snps.bam: Uploading segment 230686720/480113386 size 10485760
2019/05/30 21:38:01 DEBUG : snps.bam: Uploading segment 241172480/480113386 size 10485760
2019/05/30 21:38:02 DEBUG : snps.bam: Uploading segment 251658240/480113386 size 10485760
2019/05/30 21:38:02 DEBUG : snps.bam: Uploading segment 262144000/480113386 size 10485760
2019/05/30 21:38:03 DEBUG : snps.bam: Uploading segment 272629760/480113386 size 10485760
2019/05/30 21:38:03 DEBUG : snps.bam: Uploading segment 283115520/480113386 size 10485760
2019/05/30 21:38:04 DEBUG : snps.bam: Uploading segment 293601280/480113386 size 10485760
2019/05/30 21:38:05 DEBUG : snps.bam: Uploading segment 304087040/480113386 size 10485760
2019/05/30 21:38:05 DEBUG : snps.bam: Uploading segment 314572800/480113386 size 10485760
2019/05/30 21:38:06 DEBUG : snps.bam: Uploading segment 325058560/480113386 size 10485760
2019/05/30 21:38:06 DEBUG : snps.bam: Uploading segment 335544320/480113386 size 10485760
2019/05/30 21:38:07 DEBUG : snps.bam: Uploading segment 346030080/480113386 size 10485760
2019/05/30 21:38:07 DEBUG : snps.bam: Uploading segment 356515840/480113386 size 10485760
2019/05/30 21:38:08 DEBUG : snps.bam: Uploading segment 367001600/480113386 size 10485760
2019/05/30 21:38:09 DEBUG : snps.bam: Uploading segment 377487360/480113386 size 10485760
2019/05/30 21:38:09 DEBUG : snps.bam: Uploading segment 387973120/480113386 size 10485760
2019/05/30 21:38:10 DEBUG : snps.bam: Uploading segment 398458880/480113386 size 10485760
2019/05/30 21:38:10 DEBUG : snps.bam: Uploading segment 408944640/480113386 size 10485760
2019/05/30 21:38:11 DEBUG : snps.bam: Uploading segment 419430400/480113386 size 10485760
2019/05/30 21:38:12 DEBUG : snps.bam: Uploading segment 429916160/480113386 size 10485760
2019/05/30 21:38:12 DEBUG : snps.bam: Uploading segment 440401920/480113386 size 10485760
2019/05/30 21:38:13 DEBUG : snps.bam: Uploading segment 450887680/480113386 size 10485760
2019/05/30 21:38:13 DEBUG : snps.bam: Uploading segment 461373440/480113386 size 10485760
2019/05/30 21:38:14 DEBUG : snps.bam: Uploading segment 471859200/480113386 size 8254186
2019/05/30 21:38:15 INFO  : snps.bam: Copied (new)
2019/05/30 21:38:15 INFO  : 
Transferred:   496.143 MBytes (14.781 MBytes/s)
Errors:                 0
Checks:                 0
Transferred:           35
Elapsed time:       33.5s
2019/05/30 21:38:15 DEBUG : Go routines at exit 13
2019/05/30 21:38:15 DEBUG : rclone: Version "v1.36" finishing with parameters ["rclone" "copy" "./SAMEA2340891" "onedrive-em:africanum_analysis/snippy/SAMEA2340891" "-vv"]
[17:38:21] This is snippy 3.2-dev
[17:38:21] Written by Torsten Seemann <torsten.seemann@gmail.com>
[17:38:21] Obtained from https://github.com/tseemann/snippy
[17:38:21] Detected operating system: linux
[17:38:21] Enabling bundled linux tools.
[17:38:21] Found bwa - /opt/snippy/binaries/linux/bwa
[17:38:21] Found samtools - /opt/snippy/binaries/linux/samtools
[17:38:21] Found tabix - /opt/snippy/binaries/linux/tabix
[17:38:21] Found bgzip - /opt/snippy/binaries/linux/bgzip
[17:38:21] Found snpEff - /opt/snippy/binaries/noarch/snpEff
[17:38:21] Found java - /usr/bin/java
[17:38:21] Found gzip - /usr/bin/gzip
[17:38:21] Found parallel - /opt/snippy/binaries/noarch/parallel
[17:38:21] Found freebayes - /opt/snippy/binaries/linux/freebayes
[17:38:21] Found freebayes-parallel - /opt/snippy/binaries/noarch/freebayes-parallel
[17:38:21] Found fasta_generate_regions.py - /opt/snippy/binaries/noarch/fasta_generate_regions.py
[17:38:21] Found vcfstreamsort - /opt/snippy/binaries/linux/vcfstreamsort
[17:38:21] Found vcfuniq - /opt/snippy/binaries/linux/vcfuniq
[17:38:21] Found vcffirstheader - /opt/snippy/binaries/noarch/vcffirstheader
[17:38:21] Found vcf-consensus - /opt/snippy/binaries/noarch/vcf-consensus
[17:38:21] Found snippy-vcf_to_tab - /opt/snippy/bin/snippy-vcf_to_tab
[17:38:21] Found snippy-vcf_report - /opt/snippy/bin/snippy-vcf_report
[17:38:21] Found snippy-vcf_filter - /opt/snippy/bin/snippy-vcf_filter
[17:38:21] Checking version: samtools --version is >= 1.3 - ok, have 1.3
[17:38:21] Using reference: /vagrant/africanum_analysis/lab/NC000962_3.gbk
[17:38:21] Treating reference as 'genbank' format.
[17:38:21] Will use 4 CPU cores.
[17:38:21] Using read file: /vagrant/africanum_analysis/lab/SAMEA2340892_1.fastq.gz
[17:38:21] Using read file: /vagrant/africanum_analysis/lab/SAMEA2340892_2.fastq.gz
[17:38:21] Creating folder: SAMEA2340892
[17:38:21] Changing working directory: SAMEA2340892
[17:38:21] Creating reference folder: reference
[17:38:21] Extracting FASTA and GFF from reference.
[17:38:38] Wrote 1 sequences to ref.fa
[17:38:38] Wrote 4416 features to ref.gff
[17:38:38] Creating reference/snpeff.config
[17:38:38] Freebayes will process 16 chunks of 280319 bp, 4 chunks at a time.
[17:38:38] Using BAM RG (Read Group) ID: snps
[17:38:38] Running: samtools faidx reference/ref.fa 2>> snps.log
[17:38:38] Running: bwa index reference/ref.fa 2>> snps.log
[17:38:46] Running: mkdir reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[17:38:46] Running: mkdir reference/ref && bgzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[17:38:46] Running: snpEff build -c reference/snpeff.config -dataDir . -gff3 ref 2>> snps.log
[17:38:55] Running: (bwa mem  -v 2 -M -R '@RG\tID:snps\tSM:snps' -t 4 reference/ref.fa /vagrant/africanum_analysis/lab/SAMEA2340892_1.fastq.gz /vagrant/africanum_analysis/lab/SAMEA2340892_2.fastq.gz | samtools sort --reference reference/ref.fa > snps.bam) 2>> snps.log
[17:49:07] Running: samtools index snps.bam 2>> snps.log
[17:49:26] Running: samtools depth -q 20 snps.bam | bgzip > snps.depth.gz 2>> snps.log
[17:49:45] Running: tabix -s 1 -b 2 -e 2 snps.depth.gz 2>> snps.log
[17:49:46] Running: fasta_generate_regions.py reference/ref.fa.fai 280319 > reference/ref.txt 2>> snps.log
[17:49:46] Running: freebayes-parallel reference/ref.txt 4 -p 1 -q 20 -m 60 --min-coverage 10 -V -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[17:49:56] Running: /opt/snippy/bin/snippy-vcf_filter --minqual 10 --mincov 10 --minfrac 0.9  snps.raw.vcf > snps.filt.vcf 2>> snps.log
[17:49:56] Running: snpEff ann -no-downstream -no-upstream -no-intergenic -no-utr -c reference/snpeff.config -dataDir . -noStats ref snps.filt.vcf > snps.vcf 2>> snps.log
[17:50:02] Running: bgzip -c snps.vcf > snps.vcf.gz 2>> snps.log
[17:50:02] Running: tabix -p vcf snps.vcf.gz 2>> snps.log
[17:50:02] Running: /opt/snippy/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[17:50:21] Running: vcf-consensus snps.vcf.gz < reference/ref.fa > snps.consensus.fa 2>> snps.log
[17:50:24] Running: /opt/snippy/bin/snippy-vcf_filter --subs snps.filt.vcf > snps.filt.subs.vcf 2>> snps.log
[17:50:25] Running: bgzip -c snps.filt.subs.vcf > snps.filt.subs.vcf.gz 2>> snps.log
[17:50:25] Running: tabix -p vcf snps.filt.subs.vcf.gz 2>> snps.log
[17:50:25] Running: vcf-consensus snps.filt.subs.vcf.gz < reference/ref.fa > snps.consensus.subs.fa 2>> snps.log
[17:50:28] Generating aligned/masked FASTA relative to reference: snps.aligned.fa
[17:50:32] Creating extra output files: BED GFF CSV TXT HTML
[17:50:32] Identified 129 variants.
[17:50:32] Result folder: SAMEA2340892
[17:50:32] Result files:
[17:50:32] * SAMEA2340892/snps.aligned.fa
[17:50:32] * SAMEA2340892/snps.bam
[17:50:32] * SAMEA2340892/snps.bam.bai
[17:50:32] * SAMEA2340892/snps.bed
[17:50:32] * SAMEA2340892/snps.consensus.fa
[17:50:32] * SAMEA2340892/snps.consensus.subs.fa
[17:50:32] * SAMEA2340892/snps.csv
[17:50:32] * SAMEA2340892/snps.depth.gz
[17:50:32] * SAMEA2340892/snps.depth.gz.tbi
[17:50:32] * SAMEA2340892/snps.filt.subs.vcf
[17:50:32] * SAMEA2340892/snps.filt.subs.vcf.gz
[17:50:32] * SAMEA2340892/snps.filt.subs.vcf.gz.tbi
[17:50:32] * SAMEA2340892/snps.filt.vcf
[17:50:32] * SAMEA2340892/snps.gff
[17:50:32] * SAMEA2340892/snps.html
[17:50:32] * SAMEA2340892/snps.log
[17:50:32] * SAMEA2340892/snps.raw.vcf
[17:50:32] * SAMEA2340892/snps.tab
[17:50:32] * SAMEA2340892/snps.txt
[17:50:32] * SAMEA2340892/snps.vcf
[17:50:32] * SAMEA2340892/snps.vcf.gz
[17:50:32] * SAMEA2340892/snps.vcf.gz.tbi
[17:50:32] Walltime used: 12 minutes, 11 seconds
[17:50:32] The Snippy manual is at https://github.com/tseemann/snippy/blob/master/README.md
[17:50:32] Done.
2019/05/30 21:50:32 DEBUG : rclone: Version "v1.36" starting with parameters ["rclone" "copy" "./SAMEA2340892" "onedrive-em:africanum_analysis/snippy/SAMEA2340892" "-vv"]
2019/05/30 21:50:34 INFO  : One drive root 'africanum_analysis/snippy/SAMEA2340892': Modify window is 1s
2019/05/30 21:50:34 DEBUG : One drive root 'africanum_analysis/snippy/SAMEA2340892': Reading ""
2019/05/30 21:50:34 DEBUG : One drive root 'africanum_analysis/snippy/SAMEA2340892': Finished reading ""
2019/05/30 21:50:34 DEBUG : snps.bam: Starting multipart upload
2019/05/30 21:50:34 DEBUG : snps.bam: Uploading segment 0/432244512 size 10485760
2019/05/30 21:50:35 INFO  : snps.bam.bai: Copied (new)
2019/05/30 21:50:35 INFO  : snps.bed: Copied (new)
2019/05/30 21:50:35 DEBUG : snps.bam: Uploading segment 10485760/432244512 size 10485760
2019/05/30 21:50:37 DEBUG : snps.bam: Uploading segment 20971520/432244512 size 10485760
2019/05/30 21:50:37 INFO  : snps.aligned.fa: Copied (new)
2019/05/30 21:50:37 INFO  : snps.consensus.fa: Copied (new)
2019/05/30 21:50:37 INFO  : snps.consensus.subs.fa: Copied (new)
2019/05/30 21:50:37 DEBUG : snps.bam: Uploading segment 31457280/432244512 size 10485760
2019/05/30 21:50:37 INFO  : snps.csv: Copied (new)
2019/05/30 21:50:38 INFO  : snps.depth.gz.tbi: Copied (new)
2019/05/30 21:50:38 DEBUG : snps.bam: Uploading segment 41943040/432244512 size 10485760
2019/05/30 21:50:38 INFO  : snps.filt.subs.vcf: Copied (new)
2019/05/30 21:50:38 INFO  : snps.filt.subs.vcf.gz: Copied (new)
2019/05/30 21:50:39 INFO  : snps.depth.gz: Copied (new)
2019/05/30 21:50:39 DEBUG : snps.bam: Uploading segment 52428800/432244512 size 10485760
2019/05/30 21:50:39 INFO  : snps.filt.subs.vcf.gz.tbi: Copied (new)
2019/05/30 21:50:39 INFO  : snps.filt.vcf: Copied (new)
2019/05/30 21:50:39 INFO  : snps.gff: Copied (new)
2019/05/30 21:50:40 INFO  : snps.raw.vcf: Copied (new)
2019/05/30 21:50:40 INFO  : snps.log: Copied (new)
2019/05/30 21:50:40 INFO  : snps.html: Copied (new)
2019/05/30 21:50:40 INFO  : snps.tab: Copied (new)
2019/05/30 21:50:40 INFO  : snps.txt: Copied (new)
2019/05/30 21:50:40 DEBUG : snps.bam: Uploading segment 62914560/432244512 size 10485760
2019/05/30 21:50:41 INFO  : snps.vcf: Copied (new)
2019/05/30 21:50:41 INFO  : snps.vcf.gz: Copied (new)
2019/05/30 21:50:41 INFO  : snps.vcf.gz.tbi: Copied (new)
2019/05/30 21:50:42 DEBUG : snps.bam: Uploading segment 73400320/432244512 size 10485760
2019/05/30 21:50:42 INFO  : reference/ref.fa.ann: Copied (new)
2019/05/30 21:50:42 INFO  : reference/ref.fa.amb: Copied (new)
2019/05/30 21:50:42 DEBUG : snps.bam: Uploading segment 83886080/432244512 size 10485760
2019/05/30 21:50:43 INFO  : reference/ref.fa.fai: Copied (new)
2019/05/30 21:50:43 DEBUG : snps.bam: Uploading segment 94371840/432244512 size 10485760
2019/05/30 21:50:43 INFO  : reference/ref.fa: Copied (new)
2019/05/30 21:50:44 DEBUG : snps.bam: Uploading segment 104857600/432244512 size 10485760
2019/05/30 21:50:44 INFO  : reference/ref.fa.pac: Copied (new)
2019/05/30 21:50:44 INFO  : reference/ref.fa.bwt: Copied (new)
2019/05/30 21:50:44 INFO  : One drive root 'africanum_analysis/snippy/SAMEA2340892': Waiting for checks to finish
2019/05/30 21:50:44 INFO  : One drive root 'africanum_analysis/snippy/SAMEA2340892': Waiting for transfers to finish
2019/05/30 21:50:44 DEBUG : snps.bam: Uploading segment 115343360/432244512 size 10485760
2019/05/30 21:50:44 INFO  : reference/ref.txt: Copied (new)
2019/05/30 21:50:45 INFO  : reference/ref.fa.sa: Copied (new)
2019/05/30 21:50:45 DEBUG : snps.bam: Uploading segment 125829120/432244512 size 10485760
2019/05/30 21:50:45 INFO  : reference/snpeff.config: Copied (new)
2019/05/30 21:50:47 INFO  : reference/ref.gff: Copied (new)
2019/05/30 21:50:47 INFO  : reference/ref/genes.gff.gz: Copied (new)
2019/05/30 21:50:47 DEBUG : snps.bam: Uploading segment 136314880/432244512 size 10485760
2019/05/30 21:50:48 DEBUG : snps.bam: Uploading segment 146800640/432244512 size 10485760
2019/05/30 21:50:48 INFO  : reference/ref/snpEffectPredictor.bin: Copied (new)
2019/05/30 21:50:48 DEBUG : snps.bam: Uploading segment 157286400/432244512 size 10485760
2019/05/30 21:50:48 INFO  : reference/genomes/ref.fa: Copied (new)
2019/05/30 21:50:49 DEBUG : snps.bam: Uploading segment 167772160/432244512 size 10485760
2019/05/30 21:50:50 DEBUG : snps.bam: Uploading segment 178257920/432244512 size 10485760
2019/05/30 21:50:50 DEBUG : snps.bam: Uploading segment 188743680/432244512 size 10485760
2019/05/30 21:50:51 DEBUG : snps.bam: Uploading segment 199229440/432244512 size 10485760
2019/05/30 21:50:52 DEBUG : snps.bam: Uploading segment 209715200/432244512 size 10485760
2019/05/30 21:50:52 DEBUG : snps.bam: Uploading segment 220200960/432244512 size 10485760
2019/05/30 21:50:53 DEBUG : snps.bam: Uploading segment 230686720/432244512 size 10485760
2019/05/30 21:50:54 DEBUG : snps.bam: Uploading segment 241172480/432244512 size 10485760
2019/05/30 21:50:54 DEBUG : snps.bam: Uploading segment 251658240/432244512 size 10485760
2019/05/30 21:50:55 DEBUG : snps.bam: Uploading segment 262144000/432244512 size 10485760
2019/05/30 21:50:56 DEBUG : snps.bam: Uploading segment 272629760/432244512 size 10485760
2019/05/30 21:50:56 DEBUG : snps.bam: Uploading segment 283115520/432244512 size 10485760
2019/05/30 21:50:57 DEBUG : snps.bam: Uploading segment 293601280/432244512 size 10485760
2019/05/30 21:50:58 DEBUG : snps.bam: Uploading segment 304087040/432244512 size 10485760
2019/05/30 21:50:59 DEBUG : snps.bam: Uploading segment 314572800/432244512 size 10485760
2019/05/30 21:51:00 DEBUG : snps.bam: Uploading segment 325058560/432244512 size 10485760
2019/05/30 21:51:01 DEBUG : snps.bam: Uploading segment 335544320/432244512 size 10485760
2019/05/30 21:51:01 DEBUG : snps.bam: Uploading segment 346030080/432244512 size 10485760
2019/05/30 21:51:02 DEBUG : snps.bam: Uploading segment 356515840/432244512 size 10485760
2019/05/30 21:51:02 DEBUG : snps.bam: Uploading segment 367001600/432244512 size 10485760
2019/05/30 21:51:03 DEBUG : snps.bam: Uploading segment 377487360/432244512 size 10485760
2019/05/30 21:51:04 DEBUG : snps.bam: Uploading segment 387973120/432244512 size 10485760
2019/05/30 21:51:05 DEBUG : snps.bam: Uploading segment 398458880/432244512 size 10485760
2019/05/30 21:51:06 DEBUG : snps.bam: Uploading segment 408944640/432244512 size 10485760
2019/05/30 21:51:06 DEBUG : snps.bam: Uploading segment 419430400/432244512 size 10485760
2019/05/30 21:51:08 DEBUG : snps.bam: Uploading segment 429916160/432244512 size 2328352
2019/05/30 21:51:09 INFO  : snps.bam: Copied (new)
2019/05/30 21:51:09 INFO  : 
Transferred:   450.081 MBytes (12.319 MBytes/s)
Errors:                 0
Checks:                 0
Transferred:           35
Elapsed time:       36.5s
2019/05/30 21:51:09 DEBUG : Go routines at exit 13
2019/05/30 21:51:09 DEBUG : rclone: Version "v1.36" finishing with parameters ["rclone" "copy" "./SAMEA2340892" "onedrive-em:africanum_analysis/snippy/SAMEA2340892" "-vv"]
[17:51:14] This is snippy 3.2-dev
[17:51:14] Written by Torsten Seemann <torsten.seemann@gmail.com>
[17:51:14] Obtained from https://github.com/tseemann/snippy
[17:51:14] Detected operating system: linux
[17:51:14] Enabling bundled linux tools.
[17:51:14] Found bwa - /opt/snippy/binaries/linux/bwa
[17:51:14] Found samtools - /opt/snippy/binaries/linux/samtools
[17:51:14] Found tabix - /opt/snippy/binaries/linux/tabix
[17:51:14] Found bgzip - /opt/snippy/binaries/linux/bgzip
[17:51:14] Found snpEff - /opt/snippy/binaries/noarch/snpEff
[17:51:14] Found java - /usr/bin/java
[17:51:14] Found gzip - /usr/bin/gzip
[17:51:14] Found parallel - /opt/snippy/binaries/noarch/parallel
[17:51:14] Found freebayes - /opt/snippy/binaries/linux/freebayes
[17:51:14] Found freebayes-parallel - /opt/snippy/binaries/noarch/freebayes-parallel
[17:51:14] Found fasta_generate_regions.py - /opt/snippy/binaries/noarch/fasta_generate_regions.py
[17:51:14] Found vcfstreamsort - /opt/snippy/binaries/linux/vcfstreamsort
[17:51:14] Found vcfuniq - /opt/snippy/binaries/linux/vcfuniq
[17:51:14] Found vcffirstheader - /opt/snippy/binaries/noarch/vcffirstheader
[17:51:14] Found vcf-consensus - /opt/snippy/binaries/noarch/vcf-consensus
[17:51:14] Found snippy-vcf_to_tab - /opt/snippy/bin/snippy-vcf_to_tab
[17:51:14] Found snippy-vcf_report - /opt/snippy/bin/snippy-vcf_report
[17:51:14] Found snippy-vcf_filter - /opt/snippy/bin/snippy-vcf_filter
[17:51:14] Checking version: samtools --version is >= 1.3 - ok, have 1.3
[17:51:14] Using reference: /vagrant/africanum_analysis/lab/NC000962_3.gbk
[17:51:14] Treating reference as 'genbank' format.
[17:51:14] Will use 4 CPU cores.
[17:51:14] Using read file: /vagrant/africanum_analysis/lab/SAMEA2340893_1.fastq.gz
[17:51:14] Using read file: /vagrant/africanum_analysis/lab/SAMEA2340893_2.fastq.gz
[17:51:14] Creating folder: SAMEA2340893
[17:51:14] Changing working directory: SAMEA2340893
[17:51:14] Creating reference folder: reference
[17:51:15] Extracting FASTA and GFF from reference.
[17:51:31] Wrote 1 sequences to ref.fa
[17:51:31] Wrote 4416 features to ref.gff
[17:51:31] Creating reference/snpeff.config
[17:51:31] Freebayes will process 16 chunks of 280319 bp, 4 chunks at a time.
[17:51:31] Using BAM RG (Read Group) ID: snps
[17:51:31] Running: samtools faidx reference/ref.fa 2>> snps.log
[17:51:31] Running: bwa index reference/ref.fa 2>> snps.log
[17:51:39] Running: mkdir reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[17:51:39] Running: mkdir reference/ref && bgzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[17:51:40] Running: snpEff build -c reference/snpeff.config -dataDir . -gff3 ref 2>> snps.log
[17:51:49] Running: (bwa mem  -v 2 -M -R '@RG\tID:snps\tSM:snps' -t 4 reference/ref.fa /vagrant/africanum_analysis/lab/SAMEA2340893_1.fastq.gz /vagrant/africanum_analysis/lab/SAMEA2340893_2.fastq.gz | samtools sort --reference reference/ref.fa > snps.bam) 2>> snps.log
[18:02:14] Running: samtools index snps.bam 2>> snps.log
[18:02:33] Running: samtools depth -q 20 snps.bam | bgzip > snps.depth.gz 2>> snps.log
[18:02:53] Running: tabix -s 1 -b 2 -e 2 snps.depth.gz 2>> snps.log
[18:02:53] Running: fasta_generate_regions.py reference/ref.fa.fai 280319 > reference/ref.txt 2>> snps.log
[18:02:53] Running: freebayes-parallel reference/ref.txt 4 -p 1 -q 20 -m 60 --min-coverage 10 -V -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[18:03:04] Running: /opt/snippy/bin/snippy-vcf_filter --minqual 10 --mincov 10 --minfrac 0.9  snps.raw.vcf > snps.filt.vcf 2>> snps.log
[18:03:04] Running: snpEff ann -no-downstream -no-upstream -no-intergenic -no-utr -c reference/snpeff.config -dataDir . -noStats ref snps.filt.vcf > snps.vcf 2>> snps.log
[18:03:10] Running: bgzip -c snps.vcf > snps.vcf.gz 2>> snps.log
[18:03:10] Running: tabix -p vcf snps.vcf.gz 2>> snps.log
[18:03:10] Running: /opt/snippy/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[18:03:28] Running: vcf-consensus snps.vcf.gz < reference/ref.fa > snps.consensus.fa 2>> snps.log
[18:03:31] Running: /opt/snippy/bin/snippy-vcf_filter --subs snps.filt.vcf > snps.filt.subs.vcf 2>> snps.log
[18:03:31] Running: bgzip -c snps.filt.subs.vcf > snps.filt.subs.vcf.gz 2>> snps.log
[18:03:31] Running: tabix -p vcf snps.filt.subs.vcf.gz 2>> snps.log
[18:03:31] Running: vcf-consensus snps.filt.subs.vcf.gz < reference/ref.fa > snps.consensus.subs.fa 2>> snps.log
[18:03:34] Generating aligned/masked FASTA relative to reference: snps.aligned.fa
[18:03:38] Creating extra output files: BED GFF CSV TXT HTML
[18:03:38] Identified 139 variants.
[18:03:38] Result folder: SAMEA2340893
[18:03:38] Result files:
[18:03:38] * SAMEA2340893/snps.aligned.fa
[18:03:38] * SAMEA2340893/snps.bam
[18:03:38] * SAMEA2340893/snps.bam.bai
[18:03:38] * SAMEA2340893/snps.bed
[18:03:38] * SAMEA2340893/snps.consensus.fa
[18:03:38] * SAMEA2340893/snps.consensus.subs.fa
[18:03:38] * SAMEA2340893/snps.csv
[18:03:38] * SAMEA2340893/snps.depth.gz
[18:03:38] * SAMEA2340893/snps.depth.gz.tbi
[18:03:38] * SAMEA2340893/snps.filt.subs.vcf
[18:03:38] * SAMEA2340893/snps.filt.subs.vcf.gz
[18:03:38] * SAMEA2340893/snps.filt.subs.vcf.gz.tbi
[18:03:38] * SAMEA2340893/snps.filt.vcf
[18:03:38] * SAMEA2340893/snps.gff
[18:03:38] * SAMEA2340893/snps.html
[18:03:38] * SAMEA2340893/snps.log
[18:03:38] * SAMEA2340893/snps.raw.vcf
[18:03:38] * SAMEA2340893/snps.tab
[18:03:38] * SAMEA2340893/snps.txt
[18:03:38] * SAMEA2340893/snps.vcf
[18:03:38] * SAMEA2340893/snps.vcf.gz
[18:03:38] * SAMEA2340893/snps.vcf.gz.tbi
[18:03:38] Walltime used: 12 minutes, 24 seconds
[18:03:38] Found a bug? Post it at https://github.com/tseemann/snippy/issues
[18:03:38] Done.
2019/05/30 22:03:38 DEBUG : rclone: Version "v1.36" starting with parameters ["rclone" "copy" "./SAMEA2340893" "onedrive-em:africanum_analysis/snippy/SAMEA2340893" "-vv"]
2019/05/30 22:03:41 INFO  : One drive root 'africanum_analysis/snippy/SAMEA2340893': Modify window is 1s
2019/05/30 22:03:42 DEBUG : One drive root 'africanum_analysis/snippy/SAMEA2340893': Reading ""
2019/05/30 22:03:42 DEBUG : One drive root 'africanum_analysis/snippy/SAMEA2340893': Finished reading ""
2019/05/30 22:03:42 DEBUG : snps.bam: Starting multipart upload
2019/05/30 22:03:42 DEBUG : snps.bam: Uploading segment 0/440234617 size 10485760
2019/05/30 22:03:42 INFO  : snps.bam.bai: Copied (new)
2019/05/30 22:03:42 INFO  : snps.bed: Copied (new)
2019/05/30 22:03:43 DEBUG : snps.bam: Uploading segment 10485760/440234617 size 10485760
2019/05/30 22:03:43 DEBUG : snps.bam: Uploading segment 20971520/440234617 size 10485760
2019/05/30 22:03:44 INFO  : snps.aligned.fa: Copied (new)
2019/05/30 22:03:44 DEBUG : snps.bam: Uploading segment 31457280/440234617 size 10485760
2019/05/30 22:03:44 INFO  : snps.consensus.subs.fa: Copied (new)
2019/05/30 22:03:44 INFO  : snps.consensus.fa: Copied (new)
2019/05/30 22:03:45 DEBUG : snps.bam: Uploading segment 41943040/440234617 size 10485760
2019/05/30 22:03:45 DEBUG : snps.bam: Uploading segment 52428800/440234617 size 10485760
2019/05/30 22:03:45 INFO  : snps.depth.gz.tbi: Copied (new)
2019/05/30 22:03:46 INFO  : snps.csv: Copied (new)
2019/05/30 22:03:46 DEBUG : snps.bam: Uploading segment 62914560/440234617 size 10485760
2019/05/30 22:03:46 INFO  : snps.filt.subs.vcf: Copied (new)
2019/05/30 22:03:46 INFO  : snps.filt.subs.vcf.gz: Copied (new)
2019/05/30 22:03:46 INFO  : snps.depth.gz: Copied (new)
2019/05/30 22:03:47 INFO  : snps.filt.subs.vcf.gz.tbi: Copied (new)
2019/05/30 22:03:47 DEBUG : snps.bam: Uploading segment 73400320/440234617 size 10485760
2019/05/30 22:03:47 INFO  : snps.filt.vcf: Copied (new)
2019/05/30 22:03:47 INFO  : snps.gff: Copied (new)
2019/05/30 22:03:47 DEBUG : snps.bam: Uploading segment 83886080/440234617 size 10485760
2019/05/30 22:03:48 INFO  : snps.html: Copied (new)
2019/05/30 22:03:48 INFO  : snps.raw.vcf: Copied (new)
2019/05/30 22:03:48 INFO  : snps.log: Copied (new)
2019/05/30 22:03:48 DEBUG : snps.bam: Uploading segment 94371840/440234617 size 10485760
2019/05/30 22:03:48 INFO  : snps.tab: Copied (new)
2019/05/30 22:03:49 INFO  : snps.txt: Copied (new)
2019/05/30 22:03:49 INFO  : snps.vcf: Copied (new)
2019/05/30 22:03:49 INFO  : snps.vcf.gz.tbi: Copied (new)
2019/05/30 22:03:49 DEBUG : snps.bam: Uploading segment 104857600/440234617 size 10485760
2019/05/30 22:03:50 INFO  : snps.vcf.gz: Copied (new)
2019/05/30 22:03:50 INFO  : reference/ref.fa.amb: Copied (new)
2019/05/30 22:03:50 DEBUG : snps.bam: Uploading segment 115343360/440234617 size 10485760
2019/05/30 22:03:50 INFO  : reference/ref.fa.ann: Copied (new)
2019/05/30 22:03:51 DEBUG : snps.bam: Uploading segment 125829120/440234617 size 10485760
2019/05/30 22:03:51 INFO  : reference/ref.fa.fai: Copied (new)
2019/05/30 22:03:51 DEBUG : snps.bam: Uploading segment 136314880/440234617 size 10485760
2019/05/30 22:03:52 DEBUG : snps.bam: Uploading segment 146800640/440234617 size 10485760
2019/05/30 22:03:52 INFO  : reference/ref.fa: Copied (new)
2019/05/30 22:03:52 INFO  : reference/ref.fa.bwt: Copied (new)
2019/05/30 22:03:52 DEBUG : snps.bam: Uploading segment 157286400/440234617 size 10485760
2019/05/30 22:03:52 INFO  : reference/ref.fa.pac: Copied (new)
2019/05/30 22:03:52 INFO  : One drive root 'africanum_analysis/snippy/SAMEA2340893': Waiting for checks to finish
2019/05/30 22:03:52 INFO  : One drive root 'africanum_analysis/snippy/SAMEA2340893': Waiting for transfers to finish
2019/05/30 22:03:53 DEBUG : snps.bam: Uploading segment 167772160/440234617 size 10485760
2019/05/30 22:03:53 INFO  : reference/ref.txt: Copied (new)
2019/05/30 22:03:54 DEBUG : snps.bam: Uploading segment 178257920/440234617 size 10485760
2019/05/30 22:03:54 INFO  : reference/snpeff.config: Copied (new)
2019/05/30 22:03:54 INFO  : reference/ref.fa.sa: Copied (new)
2019/05/30 22:03:54 DEBUG : snps.bam: Uploading segment 188743680/440234617 size 10485760
2019/05/30 22:03:54 INFO  : reference/ref.gff: Copied (new)
2019/05/30 22:03:55 DEBUG : snps.bam: Uploading segment 199229440/440234617 size 10485760
2019/05/30 22:03:55 DEBUG : snps.bam: Uploading segment 209715200/440234617 size 10485760
2019/05/30 22:03:56 DEBUG : snps.bam: Uploading segment 220200960/440234617 size 10485760
2019/05/30 22:03:56 INFO  : reference/ref/snpEffectPredictor.bin: Copied (new)
2019/05/30 22:03:57 INFO  : reference/ref/genes.gff.gz: Copied (new)
2019/05/30 22:03:57 DEBUG : snps.bam: Uploading segment 230686720/440234617 size 10485760
2019/05/30 22:03:57 INFO  : reference/genomes/ref.fa: Copied (new)
2019/05/30 22:03:57 DEBUG : snps.bam: Uploading segment 241172480/440234617 size 10485760
2019/05/30 22:03:58 DEBUG : snps.bam: Uploading segment 251658240/440234617 size 10485760
2019/05/30 22:03:58 DEBUG : snps.bam: Uploading segment 262144000/440234617 size 10485760
2019/05/30 22:03:59 DEBUG : snps.bam: Uploading segment 272629760/440234617 size 10485760
2019/05/30 22:04:00 DEBUG : snps.bam: Uploading segment 283115520/440234617 size 10485760
2019/05/30 22:04:00 DEBUG : snps.bam: Uploading segment 293601280/440234617 size 10485760
2019/05/30 22:04:01 DEBUG : snps.bam: Uploading segment 304087040/440234617 size 10485760
2019/05/30 22:04:02 DEBUG : snps.bam: Uploading segment 314572800/440234617 size 10485760
2019/05/30 22:04:03 DEBUG : snps.bam: Uploading segment 325058560/440234617 size 10485760
2019/05/30 22:04:04 DEBUG : snps.bam: Uploading segment 335544320/440234617 size 10485760
2019/05/30 22:04:04 DEBUG : snps.bam: Uploading segment 346030080/440234617 size 10485760
2019/05/30 22:04:05 DEBUG : snps.bam: Uploading segment 356515840/440234617 size 10485760
2019/05/30 22:04:06 DEBUG : snps.bam: Uploading segment 367001600/440234617 size 10485760
2019/05/30 22:04:06 DEBUG : snps.bam: Uploading segment 377487360/440234617 size 10485760
2019/05/30 22:04:08 DEBUG : snps.bam: Uploading segment 387973120/440234617 size 10485760
2019/05/30 22:04:08 DEBUG : snps.bam: Uploading segment 398458880/440234617 size 10485760
2019/05/30 22:04:10 DEBUG : snps.bam: Uploading segment 408944640/440234617 size 10485760
2019/05/30 22:04:11 DEBUG : snps.bam: Uploading segment 419430400/440234617 size 10485760
2019/05/30 22:04:12 DEBUG : snps.bam: Uploading segment 429916160/440234617 size 10318457
2019/05/30 22:04:13 INFO  : snps.bam: Copied (new)
2019/05/30 22:04:13 INFO  : 
Transferred:   457.469 MBytes (13.277 MBytes/s)
Errors:                 0
Checks:                 0
Transferred:           35
Elapsed time:       34.4s
2019/05/30 22:04:13 DEBUG : Go routines at exit 13
2019/05/30 22:04:13 DEBUG : rclone: Version "v1.36" finishing with parameters ["rclone" "copy" "./SAMEA2340893" "onedrive-em:africanum_analysis/snippy/SAMEA2340893" "-vv"]
[18:04:18] This is snippy 3.2-dev
[18:04:18] Written by Torsten Seemann <torsten.seemann@gmail.com>
[18:04:18] Obtained from https://github.com/tseemann/snippy
[18:04:18] Detected operating system: linux
[18:04:18] Enabling bundled linux tools.
[18:04:18] Found bwa - /opt/snippy/binaries/linux/bwa
[18:04:18] Found samtools - /opt/snippy/binaries/linux/samtools
[18:04:18] Found tabix - /opt/snippy/binaries/linux/tabix
[18:04:18] Found bgzip - /opt/snippy/binaries/linux/bgzip
[18:04:18] Found snpEff - /opt/snippy/binaries/noarch/snpEff
[18:04:18] Found java - /usr/bin/java
[18:04:18] Found gzip - /usr/bin/gzip
[18:04:18] Found parallel - /opt/snippy/binaries/noarch/parallel
[18:04:18] Found freebayes - /opt/snippy/binaries/linux/freebayes
[18:04:18] Found freebayes-parallel - /opt/snippy/binaries/noarch/freebayes-parallel
[18:04:18] Found fasta_generate_regions.py - /opt/snippy/binaries/noarch/fasta_generate_regions.py
[18:04:18] Found vcfstreamsort - /opt/snippy/binaries/linux/vcfstreamsort
[18:04:18] Found vcfuniq - /opt/snippy/binaries/linux/vcfuniq
[18:04:18] Found vcffirstheader - /opt/snippy/binaries/noarch/vcffirstheader
[18:04:18] Found vcf-consensus - /opt/snippy/binaries/noarch/vcf-consensus
[18:04:18] Found snippy-vcf_to_tab - /opt/snippy/bin/snippy-vcf_to_tab
[18:04:18] Found snippy-vcf_report - /opt/snippy/bin/snippy-vcf_report
[18:04:18] Found snippy-vcf_filter - /opt/snippy/bin/snippy-vcf_filter
[18:04:18] Checking version: samtools --version is >= 1.3 - ok, have 1.3
[18:04:18] Using reference: /vagrant/africanum_analysis/lab/NC000962_3.gbk
[18:04:19] Treating reference as 'genbank' format.
[18:04:19] Will use 4 CPU cores.
[18:04:19] Using read file: /vagrant/africanum_analysis/lab/SAMEA2340894_1.fastq.gz
[18:04:19] Using read file: /vagrant/africanum_analysis/lab/SAMEA2340894_2.fastq.gz
[18:04:19] Creating folder: SAMEA2340894
[18:04:19] Changing working directory: SAMEA2340894
[18:04:19] Creating reference folder: reference
[18:04:19] Extracting FASTA and GFF from reference.
[18:04:35] Wrote 1 sequences to ref.fa
[18:04:35] Wrote 4416 features to ref.gff
[18:04:35] Creating reference/snpeff.config
[18:04:35] Freebayes will process 16 chunks of 280319 bp, 4 chunks at a time.
[18:04:35] Using BAM RG (Read Group) ID: snps
[18:04:35] Running: samtools faidx reference/ref.fa 2>> snps.log
[18:04:35] Running: bwa index reference/ref.fa 2>> snps.log
[18:04:43] Running: mkdir reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[18:04:43] Running: mkdir reference/ref && bgzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[18:04:44] Running: snpEff build -c reference/snpeff.config -dataDir . -gff3 ref 2>> snps.log
[18:04:53] Running: (bwa mem  -v 2 -M -R '@RG\tID:snps\tSM:snps' -t 4 reference/ref.fa /vagrant/africanum_analysis/lab/SAMEA2340894_1.fastq.gz /vagrant/africanum_analysis/lab/SAMEA2340894_2.fastq.gz | samtools sort --reference reference/ref.fa > snps.bam) 2>> snps.log
[18:12:09] Running: samtools index snps.bam 2>> snps.log
[18:12:22] Running: samtools depth -q 20 snps.bam | bgzip > snps.depth.gz 2>> snps.log
[18:13:04] Running: tabix -s 1 -b 2 -e 2 snps.depth.gz 2>> snps.log
[18:13:07] Running: fasta_generate_regions.py reference/ref.fa.fai 280319 > reference/ref.txt 2>> snps.log
[18:13:07] Running: freebayes-parallel reference/ref.txt 4 -p 1 -q 20 -m 60 --min-coverage 10 -V -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[18:19:14] Running: /opt/snippy/bin/snippy-vcf_filter --minqual 10 --mincov 10 --minfrac 0.9  snps.raw.vcf > snps.filt.vcf 2>> snps.log
[18:19:16] Running: snpEff ann -no-downstream -no-upstream -no-intergenic -no-utr -c reference/snpeff.config -dataDir . -noStats ref snps.filt.vcf > snps.vcf 2>> snps.log
[18:19:25] Running: bgzip -c snps.vcf > snps.vcf.gz 2>> snps.log
[18:19:25] Running: tabix -p vcf snps.vcf.gz 2>> snps.log
[18:19:25] Running: /opt/snippy/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[18:19:44] Running: vcf-consensus snps.vcf.gz < reference/ref.fa > snps.consensus.fa 2>> snps.log
[18:19:47] Running: /opt/snippy/bin/snippy-vcf_filter --subs snps.filt.vcf > snps.filt.subs.vcf 2>> snps.log
[18:19:49] Running: bgzip -c snps.filt.subs.vcf > snps.filt.subs.vcf.gz 2>> snps.log
[18:19:49] Running: tabix -p vcf snps.filt.subs.vcf.gz 2>> snps.log
[18:19:49] Running: vcf-consensus snps.filt.subs.vcf.gz < reference/ref.fa > snps.consensus.subs.fa 2>> snps.log
[18:19:52] Generating aligned/masked FASTA relative to reference: snps.aligned.fa
[18:20:16] Creating extra output files: BED GFF CSV TXT HTML
[18:20:17] Identified 2199 variants.
[18:20:17] Result folder: SAMEA2340894
[18:20:17] Result files:
[18:20:17] * SAMEA2340894/snps.aligned.fa
[18:20:17] * SAMEA2340894/snps.bam
[18:20:17] * SAMEA2340894/snps.bam.bai
[18:20:17] * SAMEA2340894/snps.bed
[18:20:17] * SAMEA2340894/snps.consensus.fa
[18:20:17] * SAMEA2340894/snps.consensus.subs.fa
[18:20:17] * SAMEA2340894/snps.csv
[18:20:17] * SAMEA2340894/snps.depth.gz
[18:20:17] * SAMEA2340894/snps.depth.gz.tbi
[18:20:17] * SAMEA2340894/snps.filt.subs.vcf
[18:20:17] * SAMEA2340894/snps.filt.subs.vcf.gz
[18:20:17] * SAMEA2340894/snps.filt.subs.vcf.gz.tbi
[18:20:17] * SAMEA2340894/snps.filt.vcf
[18:20:17] * SAMEA2340894/snps.gff
[18:20:17] * SAMEA2340894/snps.html
[18:20:17] * SAMEA2340894/snps.log
[18:20:17] * SAMEA2340894/snps.raw.vcf
[18:20:17] * SAMEA2340894/snps.tab
[18:20:17] * SAMEA2340894/snps.txt
[18:20:17] * SAMEA2340894/snps.vcf
[18:20:17] * SAMEA2340894/snps.vcf.gz
[18:20:17] * SAMEA2340894/snps.vcf.gz.tbi
[18:20:17] Walltime used: 15 minutes, 59 seconds
[18:20:17] Did you know? Snippy is a combination of SNP, Skippy, and snappy.
[18:20:17] Done.
2019/05/30 22:20:17 DEBUG : rclone: Version "v1.36" starting with parameters ["rclone" "copy" "./SAMEA2340894" "onedrive-em:africanum_analysis/snippy/SAMEA2340894" "-vv"]
2019/05/30 22:20:18 DEBUG : onedrive-em: Saved new token in config file
2019/05/30 22:20:25 INFO  : One drive root 'africanum_analysis/snippy/SAMEA2340894': Modify window is 1s
2019/05/30 22:20:25 DEBUG : One drive root 'africanum_analysis/snippy/SAMEA2340894': Reading ""
2019/05/30 22:20:26 DEBUG : One drive root 'africanum_analysis/snippy/SAMEA2340894': Finished reading ""
2019/05/30 22:20:26 DEBUG : snps.bam: Starting multipart upload
2019/05/30 22:20:26 DEBUG : snps.bam: Uploading segment 0/298315441 size 10485760
2019/05/30 22:20:26 INFO  : snps.bed: Copied (new)
2019/05/30 22:20:27 INFO  : snps.bam.bai: Copied (new)
2019/05/30 22:20:27 DEBUG : snps.bam: Uploading segment 10485760/298315441 size 10485760
2019/05/30 22:20:28 DEBUG : snps.bam: Uploading segment 20971520/298315441 size 10485760
2019/05/30 22:20:28 DEBUG : snps.bam: Uploading segment 31457280/298315441 size 10485760
2019/05/30 22:20:29 INFO  : snps.consensus.fa: Copied (new)
2019/05/30 22:20:29 INFO  : snps.consensus.subs.fa: Copied (new)
2019/05/30 22:20:29 DEBUG : snps.depth.gz: Starting multipart upload
2019/05/30 22:20:29 DEBUG : snps.bam: Uploading segment 41943040/298315441 size 10485760
2019/05/30 22:20:29 INFO  : snps.csv: Copied (new)
2019/05/30 22:20:30 DEBUG : snps.depth.gz: Uploading segment 0/15446932 size 10485760
2019/05/30 22:20:30 INFO  : snps.depth.gz.tbi: Copied (new)
2019/05/30 22:20:30 DEBUG : snps.bam: Uploading segment 52428800/298315441 size 10485760
2019/05/30 22:20:30 INFO  : snps.aligned.fa: Copied (new)
2019/05/30 22:20:30 DEBUG : snps.depth.gz: Uploading segment 10485760/15446932 size 4961172
2019/05/30 22:20:31 INFO  : snps.filt.subs.vcf.gz: Copied (new)
2019/05/30 22:20:31 INFO  : snps.filt.subs.vcf: Copied (new)
2019/05/30 22:20:31 DEBUG : snps.bam: Uploading segment 62914560/298315441 size 10485760
2019/05/30 22:20:31 INFO  : snps.filt.subs.vcf.gz.tbi: Copied (new)
2019/05/30 22:20:32 DEBUG : snps.bam: Uploading segment 73400320/298315441 size 10485760
2019/05/30 22:20:32 INFO  : snps.filt.vcf: Copied (new)
2019/05/30 22:20:32 INFO  : snps.gff: Copied (new)
2019/05/30 22:20:32 INFO  : snps.depth.gz: Copied (new)
2019/05/30 22:20:32 DEBUG : snps.bam: Uploading segment 83886080/298315441 size 10485760
2019/05/30 22:20:33 INFO  : snps.html: Copied (new)
2019/05/30 22:20:33 DEBUG : snps.bam: Uploading segment 94371840/298315441 size 10485760
2019/05/30 22:20:33 INFO  : snps.log: Copied (new)
2019/05/30 22:20:34 INFO  : snps.raw.vcf: Copied (new)
2019/05/30 22:20:34 DEBUG : snps.bam: Uploading segment 104857600/298315441 size 10485760
2019/05/30 22:20:34 INFO  : snps.txt: Copied (new)
2019/05/30 22:20:34 DEBUG : snps.bam: Uploading segment 115343360/298315441 size 10485760
2019/05/30 22:20:34 INFO  : snps.tab: Copied (new)
2019/05/30 22:20:35 INFO  : snps.vcf: Copied (new)
2019/05/30 22:20:35 INFO  : snps.vcf.gz.tbi: Copied (new)
2019/05/30 22:20:35 DEBUG : snps.bam: Uploading segment 125829120/298315441 size 10485760
2019/05/30 22:20:35 INFO  : snps.vcf.gz: Copied (new)
2019/05/30 22:20:36 DEBUG : snps.bam: Uploading segment 136314880/298315441 size 10485760
2019/05/30 22:20:36 INFO  : reference/ref.fa.amb: Copied (new)
2019/05/30 22:20:36 INFO  : reference/ref.fa.ann: Copied (new)
2019/05/30 22:20:36 DEBUG : snps.bam: Uploading segment 146800640/298315441 size 10485760
2019/05/30 22:20:36 INFO  : reference/ref.fa.fai: Copied (new)
2019/05/30 22:20:37 INFO  : reference/ref.fa: Copied (new)
2019/05/30 22:20:38 INFO  : reference/ref.fa.bwt: Copied (new)
2019/05/30 22:20:38 DEBUG : snps.bam: Uploading segment 157286400/298315441 size 10485760
2019/05/30 22:20:38 INFO  : reference/ref.fa.sa: Copied (new)
2019/05/30 22:20:38 INFO  : One drive root 'africanum_analysis/snippy/SAMEA2340894': Waiting for checks to finish
2019/05/30 22:20:38 INFO  : One drive root 'africanum_analysis/snippy/SAMEA2340894': Waiting for transfers to finish
2019/05/30 22:20:38 DEBUG : snps.bam: Uploading segment 167772160/298315441 size 10485760
2019/05/30 22:20:39 INFO  : reference/ref.fa.pac: Copied (new)
2019/05/30 22:20:39 INFO  : reference/ref.txt: Copied (new)
2019/05/30 22:20:39 DEBUG : snps.bam: Uploading segment 178257920/298315441 size 10485760
2019/05/30 22:20:39 INFO  : reference/snpeff.config: Copied (new)
2019/05/30 22:20:39 INFO  : reference/ref.gff: Copied (new)
2019/05/30 22:20:40 DEBUG : snps.bam: Uploading segment 188743680/298315441 size 10485760
2019/05/30 22:20:40 DEBUG : snps.bam: Uploading segment 199229440/298315441 size 10485760
2019/05/30 22:20:41 INFO  : reference/ref/genes.gff.gz: Copied (new)
2019/05/30 22:20:41 INFO  : reference/ref/snpEffectPredictor.bin: Copied (new)
2019/05/30 22:20:41 DEBUG : snps.bam: Uploading segment 209715200/298315441 size 10485760
2019/05/30 22:20:41 DEBUG : snps.bam: Uploading segment 220200960/298315441 size 10485760
2019/05/30 22:20:42 DEBUG : snps.bam: Uploading segment 230686720/298315441 size 10485760
2019/05/30 22:20:42 INFO  : reference/genomes/ref.fa: Copied (new)
2019/05/30 22:20:43 DEBUG : snps.bam: Uploading segment 241172480/298315441 size 10485760
2019/05/30 22:20:44 DEBUG : snps.bam: Uploading segment 251658240/298315441 size 10485760
2019/05/30 22:20:44 DEBUG : snps.bam: Uploading segment 262144000/298315441 size 10485760
2019/05/30 22:20:45 DEBUG : snps.bam: Uploading segment 272629760/298315441 size 10485760
2019/05/30 22:20:46 DEBUG : snps.bam: Uploading segment 283115520/298315441 size 10485760
2019/05/30 22:20:47 DEBUG : snps.bam: Uploading segment 293601280/298315441 size 4714161
2019/05/30 22:20:48 INFO  : snps.bam: Copied (new)
2019/05/30 22:20:48 INFO  : 
Transferred:   340.831 MBytes (10.959 MBytes/s)
Errors:                 0
Checks:                 0
Transferred:           35
Elapsed time:       31.1s
2019/05/30 22:20:48 DEBUG : Go routines at exit 15
2019/05/30 22:20:48 DEBUG : rclone: Version "v1.36" finishing with parameters ["rclone" "copy" "./SAMEA2340894" "onedrive-em:africanum_analysis/snippy/SAMEA2340894" "-vv"]
[18:20:53] This is snippy 3.2-dev
[18:20:53] Written by Torsten Seemann <torsten.seemann@gmail.com>
[18:20:53] Obtained from https://github.com/tseemann/snippy
[18:20:53] Detected operating system: linux
[18:20:53] Enabling bundled linux tools.
[18:20:53] Found bwa - /opt/snippy/binaries/linux/bwa
[18:20:53] Found samtools - /opt/snippy/binaries/linux/samtools
[18:20:53] Found tabix - /opt/snippy/binaries/linux/tabix
[18:20:53] Found bgzip - /opt/snippy/binaries/linux/bgzip
[18:20:53] Found snpEff - /opt/snippy/binaries/noarch/snpEff
[18:20:53] Found java - /usr/bin/java
[18:20:53] Found gzip - /usr/bin/gzip
[18:20:53] Found parallel - /opt/snippy/binaries/noarch/parallel
[18:20:53] Found freebayes - /opt/snippy/binaries/linux/freebayes
[18:20:53] Found freebayes-parallel - /opt/snippy/binaries/noarch/freebayes-parallel
[18:20:53] Found fasta_generate_regions.py - /opt/snippy/binaries/noarch/fasta_generate_regions.py
[18:20:53] Found vcfstreamsort - /opt/snippy/binaries/linux/vcfstreamsort
[18:20:53] Found vcfuniq - /opt/snippy/binaries/linux/vcfuniq
[18:20:53] Found vcffirstheader - /opt/snippy/binaries/noarch/vcffirstheader
[18:20:53] Found vcf-consensus - /opt/snippy/binaries/noarch/vcf-consensus
[18:20:53] Found snippy-vcf_to_tab - /opt/snippy/bin/snippy-vcf_to_tab
[18:20:53] Found snippy-vcf_report - /opt/snippy/bin/snippy-vcf_report
[18:20:53] Found snippy-vcf_filter - /opt/snippy/bin/snippy-vcf_filter
[18:20:53] Checking version: samtools --version is >= 1.3 - ok, have 1.3
[18:20:53] Using reference: /vagrant/africanum_analysis/lab/NC000962_3.gbk
[18:20:54] Treating reference as 'genbank' format.
[18:20:54] Will use 4 CPU cores.
[18:20:54] Using read file: /vagrant/africanum_analysis/lab/SAMEA2340896_1.fastq.gz
[18:20:54] Using read file: /vagrant/africanum_analysis/lab/SAMEA2340896_2.fastq.gz
[18:20:54] Creating folder: SAMEA2340896
[18:20:54] Changing working directory: SAMEA2340896
[18:20:54] Creating reference folder: reference
[18:20:54] Extracting FASTA and GFF from reference.
[18:21:10] Wrote 1 sequences to ref.fa
[18:21:10] Wrote 4416 features to ref.gff
[18:21:10] Creating reference/snpeff.config
[18:21:10] Freebayes will process 16 chunks of 280319 bp, 4 chunks at a time.
[18:21:10] Using BAM RG (Read Group) ID: snps
[18:21:10] Running: samtools faidx reference/ref.fa 2>> snps.log
[18:21:11] Running: bwa index reference/ref.fa 2>> snps.log
[18:21:18] Running: mkdir reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[18:21:19] Running: mkdir reference/ref && bgzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[18:21:19] Running: snpEff build -c reference/snpeff.config -dataDir . -gff3 ref 2>> snps.log
[18:21:28] Running: (bwa mem  -v 2 -M -R '@RG\tID:snps\tSM:snps' -t 4 reference/ref.fa /vagrant/africanum_analysis/lab/SAMEA2340896_1.fastq.gz /vagrant/africanum_analysis/lab/SAMEA2340896_2.fastq.gz | samtools sort --reference reference/ref.fa > snps.bam) 2>> snps.log
[18:33:09] Running: samtools index snps.bam 2>> snps.log
[18:33:31] Running: samtools depth -q 20 snps.bam | bgzip > snps.depth.gz 2>> snps.log
[18:33:53] Running: tabix -s 1 -b 2 -e 2 snps.depth.gz 2>> snps.log
[18:33:53] Running: fasta_generate_regions.py reference/ref.fa.fai 280319 > reference/ref.txt 2>> snps.log
[18:33:53] Running: freebayes-parallel reference/ref.txt 4 -p 1 -q 20 -m 60 --min-coverage 10 -V -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[18:34:07] Running: /opt/snippy/bin/snippy-vcf_filter --minqual 10 --mincov 10 --minfrac 0.9  snps.raw.vcf > snps.filt.vcf 2>> snps.log
[18:34:07] Running: snpEff ann -no-downstream -no-upstream -no-intergenic -no-utr -c reference/snpeff.config -dataDir . -noStats ref snps.filt.vcf > snps.vcf 2>> snps.log
[18:34:13] Running: bgzip -c snps.vcf > snps.vcf.gz 2>> snps.log
[18:34:13] Running: tabix -p vcf snps.vcf.gz 2>> snps.log
[18:34:13] Running: /opt/snippy/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[18:34:32] Running: vcf-consensus snps.vcf.gz < reference/ref.fa > snps.consensus.fa 2>> snps.log
[18:34:35] Running: /opt/snippy/bin/snippy-vcf_filter --subs snps.filt.vcf > snps.filt.subs.vcf 2>> snps.log
[18:34:35] Running: bgzip -c snps.filt.subs.vcf > snps.filt.subs.vcf.gz 2>> snps.log
[18:34:35] Running: tabix -p vcf snps.filt.subs.vcf.gz 2>> snps.log
[18:34:35] Running: vcf-consensus snps.filt.subs.vcf.gz < reference/ref.fa > snps.consensus.subs.fa 2>> snps.log
[18:34:38] Generating aligned/masked FASTA relative to reference: snps.aligned.fa
[18:34:43] Creating extra output files: BED GFF CSV TXT HTML
[18:34:43] Identified 135 variants.
[18:34:43] Result folder: SAMEA2340896
[18:34:43] Result files:
[18:34:43] * SAMEA2340896/snps.aligned.fa
[18:34:43] * SAMEA2340896/snps.bam
[18:34:43] * SAMEA2340896/snps.bam.bai
[18:34:43] * SAMEA2340896/snps.bed
[18:34:43] * SAMEA2340896/snps.consensus.fa
[18:34:43] * SAMEA2340896/snps.consensus.subs.fa
[18:34:43] * SAMEA2340896/snps.csv
[18:34:43] * SAMEA2340896/snps.depth.gz
[18:34:43] * SAMEA2340896/snps.depth.gz.tbi
[18:34:43] * SAMEA2340896/snps.filt.subs.vcf
[18:34:43] * SAMEA2340896/snps.filt.subs.vcf.gz
[18:34:43] * SAMEA2340896/snps.filt.subs.vcf.gz.tbi
[18:34:43] * SAMEA2340896/snps.filt.vcf
[18:34:43] * SAMEA2340896/snps.gff
[18:34:43] * SAMEA2340896/snps.html
[18:34:43] * SAMEA2340896/snps.log
[18:34:43] * SAMEA2340896/snps.raw.vcf
[18:34:43] * SAMEA2340896/snps.tab
[18:34:43] * SAMEA2340896/snps.txt
[18:34:43] * SAMEA2340896/snps.vcf
[18:34:43] * SAMEA2340896/snps.vcf.gz
[18:34:43] * SAMEA2340896/snps.vcf.gz.tbi
[18:34:43] Walltime used: 13 minutes, 50 seconds
[18:34:43] May the SNPs be with you.
[18:34:43] Done.
2019/05/30 22:34:43 DEBUG : rclone: Version "v1.36" starting with parameters ["rclone" "copy" "./SAMEA2340896" "onedrive-em:africanum_analysis/snippy/SAMEA2340896" "-vv"]
2019/05/30 22:34:45 INFO  : One drive root 'africanum_analysis/snippy/SAMEA2340896': Modify window is 1s
2019/05/30 22:34:45 DEBUG : One drive root 'africanum_analysis/snippy/SAMEA2340896': Reading ""
2019/05/30 22:34:46 DEBUG : One drive root 'africanum_analysis/snippy/SAMEA2340896': Finished reading ""
2019/05/30 22:34:46 DEBUG : snps.bam: Starting multipart upload
2019/05/30 22:34:46 DEBUG : snps.bam: Uploading segment 0/494841584 size 10485760
2019/05/30 22:34:46 INFO  : snps.bam.bai: Copied (new)
2019/05/30 22:34:46 DEBUG : snps.bam: Uploading segment 10485760/494841584 size 10485760
2019/05/30 22:34:47 DEBUG : snps.bam: Uploading segment 20971520/494841584 size 10485760
2019/05/30 22:34:47 INFO  : snps.aligned.fa: Copied (new)
2019/05/30 22:34:48 DEBUG : snps.bam: Uploading segment 31457280/494841584 size 10485760
2019/05/30 22:34:48 INFO  : snps.bed: Copied (new)
2019/05/30 22:34:48 INFO  : snps.consensus.fa: Copied (new)
2019/05/30 22:34:49 INFO  : snps.csv: Copied (new)
2019/05/30 22:34:49 INFO  : snps.depth.gz.tbi: Copied (new)
2019/05/30 22:34:49 INFO  : snps.consensus.subs.fa: Copied (new)
2019/05/30 22:34:49 DEBUG : snps.bam: Uploading segment 41943040/494841584 size 10485760
2019/05/30 22:34:49 INFO  : snps.depth.gz: Copied (new)
2019/05/30 22:34:50 INFO  : snps.filt.subs.vcf.gz: Copied (new)
2019/05/30 22:34:50 DEBUG : snps.bam: Uploading segment 52428800/494841584 size 10485760
2019/05/30 22:34:50 INFO  : snps.filt.subs.vcf.gz.tbi: Copied (new)
2019/05/30 22:34:50 INFO  : snps.filt.subs.vcf: Copied (new)
2019/05/30 22:34:50 DEBUG : snps.bam: Uploading segment 62914560/494841584 size 10485760
2019/05/30 22:34:51 INFO  : snps.gff: Copied (new)
2019/05/30 22:34:51 INFO  : snps.html: Copied (new)
2019/05/30 22:34:51 INFO  : snps.filt.vcf: Copied (new)
2019/05/30 22:34:51 DEBUG : snps.bam: Uploading segment 73400320/494841584 size 10485760
2019/05/30 22:34:51 INFO  : snps.raw.vcf: Copied (new)
2019/05/30 22:34:52 DEBUG : snps.bam: Uploading segment 83886080/494841584 size 10485760
2019/05/30 22:34:52 INFO  : snps.txt: Copied (new)
2019/05/30 22:34:52 INFO  : snps.tab: Copied (new)
2019/05/30 22:34:52 INFO  : snps.log: Copied (new)
2019/05/30 22:34:52 DEBUG : snps.bam: Uploading segment 94371840/494841584 size 10485760
2019/05/30 22:34:53 DEBUG : snps.bam: Uploading segment 104857600/494841584 size 10485760
2019/05/30 22:34:53 INFO  : snps.vcf.gz: Copied (new)
2019/05/30 22:34:53 INFO  : snps.vcf: Copied (new)
2019/05/30 22:34:53 INFO  : snps.vcf.gz.tbi: Copied (new)
2019/05/30 22:34:53 DEBUG : snps.bam: Uploading segment 115343360/494841584 size 10485760
2019/05/30 22:34:54 INFO  : reference/ref.fa.ann: Copied (new)
2019/05/30 22:34:54 INFO  : reference/ref.fa.amb: Copied (new)
2019/05/30 22:34:54 DEBUG : snps.bam: Uploading segment 125829120/494841584 size 10485760
2019/05/30 22:34:54 INFO  : reference/ref.fa.fai: Copied (new)
2019/05/30 22:34:54 DEBUG : snps.bam: Uploading segment 136314880/494841584 size 10485760
2019/05/30 22:34:55 DEBUG : snps.bam: Uploading segment 146800640/494841584 size 10485760
2019/05/30 22:34:55 INFO  : reference/ref.fa.bwt: Copied (new)
2019/05/30 22:34:56 DEBUG : snps.bam: Uploading segment 157286400/494841584 size 10485760
2019/05/30 22:34:56 INFO  : reference/ref.fa: Copied (new)
2019/05/30 22:34:56 INFO  : reference/ref.fa.pac: Copied (new)
2019/05/30 22:34:56 INFO  : One drive root 'africanum_analysis/snippy/SAMEA2340896': Waiting for checks to finish
2019/05/30 22:34:56 INFO  : One drive root 'africanum_analysis/snippy/SAMEA2340896': Waiting for transfers to finish
2019/05/30 22:34:56 DEBUG : snps.bam: Uploading segment 167772160/494841584 size 10485760
2019/05/30 22:34:57 INFO  : reference/ref.fa.sa: Copied (new)
2019/05/30 22:34:57 INFO  : reference/ref.txt: Copied (new)
2019/05/30 22:34:57 DEBUG : snps.bam: Uploading segment 178257920/494841584 size 10485760
2019/05/30 22:34:57 INFO  : reference/snpeff.config: Copied (new)
2019/05/30 22:34:57 DEBUG : snps.bam: Uploading segment 188743680/494841584 size 10485760
2019/05/30 22:34:57 INFO  : reference/ref.gff: Copied (new)
2019/05/30 22:34:58 DEBUG : snps.bam: Uploading segment 199229440/494841584 size 10485760
2019/05/30 22:34:58 DEBUG : snps.bam: Uploading segment 209715200/494841584 size 10485760
2019/05/30 22:34:59 INFO  : reference/ref/genes.gff.gz: Copied (new)
2019/05/30 22:34:59 INFO  : reference/ref/snpEffectPredictor.bin: Copied (new)
2019/05/30 22:34:59 DEBUG : snps.bam: Uploading segment 220200960/494841584 size 10485760
2019/05/30 22:34:59 INFO  : reference/genomes/ref.fa: Copied (new)
2019/05/30 22:35:01 DEBUG : snps.bam: Uploading segment 230686720/494841584 size 10485760
2019/05/30 22:35:02 DEBUG : snps.bam: Uploading segment 241172480/494841584 size 10485760
2019/05/30 22:35:03 DEBUG : snps.bam: Uploading segment 251658240/494841584 size 10485760
2019/05/30 22:35:03 DEBUG : snps.bam: Uploading segment 262144000/494841584 size 10485760
2019/05/30 22:35:04 DEBUG : snps.bam: Uploading segment 272629760/494841584 size 10485760
2019/05/30 22:35:06 DEBUG : snps.bam: Uploading segment 283115520/494841584 size 10485760
2019/05/30 22:35:06 DEBUG : snps.bam: Uploading segment 293601280/494841584 size 10485760
2019/05/30 22:35:07 DEBUG : snps.bam: Uploading segment 304087040/494841584 size 10485760
2019/05/30 22:35:08 DEBUG : snps.bam: Uploading segment 314572800/494841584 size 10485760
2019/05/30 22:35:08 DEBUG : snps.bam: Uploading segment 325058560/494841584 size 10485760
2019/05/30 22:35:09 DEBUG : snps.bam: Uploading segment 335544320/494841584 size 10485760
2019/05/30 22:35:10 DEBUG : snps.bam: Uploading segment 346030080/494841584 size 10485760
2019/05/30 22:35:10 DEBUG : snps.bam: Uploading segment 356515840/494841584 size 10485760
2019/05/30 22:35:11 DEBUG : snps.bam: Uploading segment 367001600/494841584 size 10485760
2019/05/30 22:35:12 DEBUG : snps.bam: Uploading segment 377487360/494841584 size 10485760
2019/05/30 22:35:12 DEBUG : snps.bam: Uploading segment 387973120/494841584 size 10485760
2019/05/30 22:35:13 DEBUG : snps.bam: Uploading segment 398458880/494841584 size 10485760
2019/05/30 22:35:13 DEBUG : snps.bam: Uploading segment 408944640/494841584 size 10485760
2019/05/30 22:35:14 DEBUG : snps.bam: Uploading segment 419430400/494841584 size 10485760
2019/05/30 22:35:15 DEBUG : snps.bam: Uploading segment 429916160/494841584 size 10485760
2019/05/30 22:35:16 DEBUG : snps.bam: Uploading segment 440401920/494841584 size 10485760
2019/05/30 22:35:17 DEBUG : snps.bam: Uploading segment 450887680/494841584 size 10485760
2019/05/30 22:35:17 DEBUG : snps.bam: Uploading segment 461373440/494841584 size 10485760
2019/05/30 22:35:18 DEBUG : snps.bam: Uploading segment 471859200/494841584 size 10485760
2019/05/30 22:35:19 DEBUG : snps.bam: Uploading segment 482344960/494841584 size 10485760
2019/05/30 22:35:19 DEBUG : snps.bam: Uploading segment 492830720/494841584 size 2010864
2019/05/30 22:35:20 INFO  : snps.bam: Copied (new)
2019/05/30 22:35:20 INFO  : 
Transferred:   509.733 MBytes (13.919 MBytes/s)
Errors:                 0
Checks:                 0
Transferred:           35
Elapsed time:       36.6s
2019/05/30 22:35:20 DEBUG : Go routines at exit 12
2019/05/30 22:35:20 DEBUG : rclone: Version "v1.36" finishing with parameters ["rclone" "copy" "./SAMEA2340896" "onedrive-em:africanum_analysis/snippy/SAMEA2340896" "-vv"]
[18:35:25] This is snippy 3.2-dev
[18:35:25] Written by Torsten Seemann <torsten.seemann@gmail.com>
[18:35:25] Obtained from https://github.com/tseemann/snippy
[18:35:25] Detected operating system: linux
[18:35:25] Enabling bundled linux tools.
[18:35:25] Found bwa - /opt/snippy/binaries/linux/bwa
[18:35:25] Found samtools - /opt/snippy/binaries/linux/samtools
[18:35:25] Found tabix - /opt/snippy/binaries/linux/tabix
[18:35:25] Found bgzip - /opt/snippy/binaries/linux/bgzip
[18:35:25] Found snpEff - /opt/snippy/binaries/noarch/snpEff
[18:35:25] Found java - /usr/bin/java
[18:35:25] Found gzip - /usr/bin/gzip
[18:35:26] Found parallel - /opt/snippy/binaries/noarch/parallel
[18:35:26] Found freebayes - /opt/snippy/binaries/linux/freebayes
[18:35:26] Found freebayes-parallel - /opt/snippy/binaries/noarch/freebayes-parallel
[18:35:26] Found fasta_generate_regions.py - /opt/snippy/binaries/noarch/fasta_generate_regions.py
[18:35:26] Found vcfstreamsort - /opt/snippy/binaries/linux/vcfstreamsort
[18:35:26] Found vcfuniq - /opt/snippy/binaries/linux/vcfuniq
[18:35:26] Found vcffirstheader - /opt/snippy/binaries/noarch/vcffirstheader
[18:35:26] Found vcf-consensus - /opt/snippy/binaries/noarch/vcf-consensus
[18:35:26] Found snippy-vcf_to_tab - /opt/snippy/bin/snippy-vcf_to_tab
[18:35:26] Found snippy-vcf_report - /opt/snippy/bin/snippy-vcf_report
[18:35:26] Found snippy-vcf_filter - /opt/snippy/bin/snippy-vcf_filter
[18:35:26] Checking version: samtools --version is >= 1.3 - ok, have 1.3
[18:35:26] Using reference: /vagrant/africanum_analysis/lab/NC000962_3.gbk
[18:35:26] Treating reference as 'genbank' format.
[18:35:26] Will use 4 CPU cores.
[18:35:26] Using read file: /vagrant/africanum_analysis/lab/SAMEA2340897_1.fastq.gz
[18:35:26] Using read file: /vagrant/africanum_analysis/lab/SAMEA2340897_2.fastq.gz
[18:35:26] Creating folder: SAMEA2340897
[18:35:26] Changing working directory: SAMEA2340897
[18:35:26] Creating reference folder: reference
[18:35:26] Extracting FASTA and GFF from reference.
[18:35:42] Wrote 1 sequences to ref.fa
[18:35:42] Wrote 4416 features to ref.gff
[18:35:42] Creating reference/snpeff.config
[18:35:42] Freebayes will process 16 chunks of 280319 bp, 4 chunks at a time.
[18:35:42] Using BAM RG (Read Group) ID: snps
[18:35:42] Running: samtools faidx reference/ref.fa 2>> snps.log
[18:35:43] Running: bwa index reference/ref.fa 2>> snps.log
[18:35:50] Running: mkdir reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[18:35:51] Running: mkdir reference/ref && bgzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[18:35:51] Running: snpEff build -c reference/snpeff.config -dataDir . -gff3 ref 2>> snps.log
[18:36:00] Running: (bwa mem  -v 2 -M -R '@RG\tID:snps\tSM:snps' -t 4 reference/ref.fa /vagrant/africanum_analysis/lab/SAMEA2340897_1.fastq.gz /vagrant/africanum_analysis/lab/SAMEA2340897_2.fastq.gz | samtools sort --reference reference/ref.fa > snps.bam) 2>> snps.log
[18:46:58] Running: samtools index snps.bam 2>> snps.log
[18:47:18] Running: samtools depth -q 20 snps.bam | bgzip > snps.depth.gz 2>> snps.log
[18:47:39] Running: tabix -s 1 -b 2 -e 2 snps.depth.gz 2>> snps.log
[18:47:40] Running: fasta_generate_regions.py reference/ref.fa.fai 280319 > reference/ref.txt 2>> snps.log
[18:47:40] Running: freebayes-parallel reference/ref.txt 4 -p 1 -q 20 -m 60 --min-coverage 10 -V -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[18:47:54] Running: /opt/snippy/bin/snippy-vcf_filter --minqual 10 --mincov 10 --minfrac 0.9  snps.raw.vcf > snps.filt.vcf 2>> snps.log
[18:47:54] Running: snpEff ann -no-downstream -no-upstream -no-intergenic -no-utr -c reference/snpeff.config -dataDir . -noStats ref snps.filt.vcf > snps.vcf 2>> snps.log
[18:48:00] Running: bgzip -c snps.vcf > snps.vcf.gz 2>> snps.log
[18:48:00] Running: tabix -p vcf snps.vcf.gz 2>> snps.log
[18:48:00] Running: /opt/snippy/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[18:48:18] Running: vcf-consensus snps.vcf.gz < reference/ref.fa > snps.consensus.fa 2>> snps.log
[18:48:21] Running: /opt/snippy/bin/snippy-vcf_filter --subs snps.filt.vcf > snps.filt.subs.vcf 2>> snps.log
[18:48:21] Running: bgzip -c snps.filt.subs.vcf > snps.filt.subs.vcf.gz 2>> snps.log
[18:48:21] Running: tabix -p vcf snps.filt.subs.vcf.gz 2>> snps.log
[18:48:21] Running: vcf-consensus snps.filt.subs.vcf.gz < reference/ref.fa > snps.consensus.subs.fa 2>> snps.log
[18:48:24] Generating aligned/masked FASTA relative to reference: snps.aligned.fa
[18:48:31] Creating extra output files: BED GFF CSV TXT HTML
[18:48:31] Identified 140 variants.
[18:48:31] Result folder: SAMEA2340897
[18:48:31] Result files:
[18:48:31] * SAMEA2340897/snps.aligned.fa
[18:48:31] * SAMEA2340897/snps.bam
[18:48:31] * SAMEA2340897/snps.bam.bai
[18:48:31] * SAMEA2340897/snps.bed
[18:48:31] * SAMEA2340897/snps.consensus.fa
[18:48:31] * SAMEA2340897/snps.consensus.subs.fa
[18:48:31] * SAMEA2340897/snps.csv
[18:48:31] * SAMEA2340897/snps.depth.gz
[18:48:31] * SAMEA2340897/snps.depth.gz.tbi
[18:48:31] * SAMEA2340897/snps.filt.subs.vcf
[18:48:31] * SAMEA2340897/snps.filt.subs.vcf.gz
[18:48:31] * SAMEA2340897/snps.filt.subs.vcf.gz.tbi
[18:48:31] * SAMEA2340897/snps.filt.vcf
[18:48:31] * SAMEA2340897/snps.gff
[18:48:31] * SAMEA2340897/snps.html
[18:48:31] * SAMEA2340897/snps.log
[18:48:31] * SAMEA2340897/snps.raw.vcf
[18:48:31] * SAMEA2340897/snps.tab
[18:48:31] * SAMEA2340897/snps.txt
[18:48:31] * SAMEA2340897/snps.vcf
[18:48:31] * SAMEA2340897/snps.vcf.gz
[18:48:31] * SAMEA2340897/snps.vcf.gz.tbi
[18:48:31] Walltime used: 13 minutes, 6 seconds
[18:48:31] May the SNPs be with you.
[18:48:31] Done.
2019/05/30 22:48:31 DEBUG : rclone: Version "v1.36" starting with parameters ["rclone" "copy" "./SAMEA2340897" "onedrive-em:africanum_analysis/snippy/SAMEA2340897" "-vv"]
2019/05/30 22:48:33 INFO  : One drive root 'africanum_analysis/snippy/SAMEA2340897': Modify window is 1s
2019/05/30 22:48:33 DEBUG : One drive root 'africanum_analysis/snippy/SAMEA2340897': Reading ""
2019/05/30 22:48:34 DEBUG : One drive root 'africanum_analysis/snippy/SAMEA2340897': Finished reading ""
2019/05/30 22:48:34 DEBUG : snps.bam: Starting multipart upload
2019/05/30 22:48:34 DEBUG : snps.bam: Uploading segment 0/465035204 size 10485760
2019/05/30 22:48:34 INFO  : snps.bed: Copied (new)
2019/05/30 22:48:34 INFO  : snps.bam.bai: Copied (new)
2019/05/30 22:48:35 DEBUG : snps.bam: Uploading segment 10485760/465035204 size 10485760
2019/05/30 22:48:35 DEBUG : snps.bam: Uploading segment 20971520/465035204 size 10485760
2019/05/30 22:48:36 INFO  : snps.aligned.fa: Copied (new)
2019/05/30 22:48:36 DEBUG : snps.bam: Uploading segment 31457280/465035204 size 10485760
2019/05/30 22:48:36 INFO  : snps.consensus.fa: Copied (new)
2019/05/30 22:48:36 INFO  : snps.consensus.subs.fa: Copied (new)
2019/05/30 22:48:37 INFO  : snps.csv: Copied (new)
2019/05/30 22:48:37 DEBUG : snps.bam: Uploading segment 41943040/465035204 size 10485760
2019/05/30 22:48:37 INFO  : snps.depth.gz.tbi: Copied (new)
2019/05/30 22:48:37 DEBUG : snps.bam: Uploading segment 52428800/465035204 size 10485760
2019/05/30 22:48:37 INFO  : snps.filt.subs.vcf.gz: Copied (new)
2019/05/30 22:48:37 INFO  : snps.filt.subs.vcf: Copied (new)
2019/05/30 22:48:38 INFO  : snps.filt.subs.vcf.gz.tbi: Copied (new)
2019/05/30 22:48:38 DEBUG : snps.bam: Uploading segment 62914560/465035204 size 10485760
2019/05/30 22:48:38 INFO  : snps.depth.gz: Copied (new)
2019/05/30 22:48:38 INFO  : snps.filt.vcf: Copied (new)
2019/05/30 22:48:38 INFO  : snps.gff: Copied (new)
2019/05/30 22:48:39 DEBUG : snps.bam: Uploading segment 73400320/465035204 size 10485760
2019/05/30 22:48:39 INFO  : snps.html: Copied (new)
2019/05/30 22:48:39 DEBUG : snps.bam: Uploading segment 83886080/465035204 size 10485760
2019/05/30 22:48:39 INFO  : snps.log: Copied (new)
2019/05/30 22:48:39 INFO  : snps.raw.vcf: Copied (new)
2019/05/30 22:48:40 INFO  : snps.tab: Copied (new)
2019/05/30 22:48:40 INFO  : snps.vcf.gz: Copied (new)
2019/05/30 22:48:40 INFO  : snps.txt: Copied (new)
2019/05/30 22:48:40 INFO  : snps.vcf: Copied (new)
2019/05/30 22:48:40 DEBUG : snps.bam: Uploading segment 94371840/465035204 size 10485760
2019/05/30 22:48:41 INFO  : snps.vcf.gz.tbi: Copied (new)
2019/05/30 22:48:41 DEBUG : snps.bam: Uploading segment 104857600/465035204 size 10485760
2019/05/30 22:48:41 INFO  : reference/ref.fa.amb: Copied (new)
2019/05/30 22:48:41 INFO  : reference/ref.fa.ann: Copied (new)
2019/05/30 22:48:42 DEBUG : snps.bam: Uploading segment 115343360/465035204 size 10485760
2019/05/30 22:48:42 INFO  : reference/ref.fa.fai: Copied (new)
2019/05/30 22:48:42 DEBUG : snps.bam: Uploading segment 125829120/465035204 size 10485760
2019/05/30 22:48:43 DEBUG : snps.bam: Uploading segment 136314880/465035204 size 10485760
2019/05/30 22:48:43 INFO  : reference/ref.fa.pac: Copied (new)
2019/05/30 22:48:44 DEBUG : snps.bam: Uploading segment 146800640/465035204 size 10485760
2019/05/30 22:48:44 INFO  : reference/ref.fa.bwt: Copied (new)
2019/05/30 22:48:45 INFO  : reference/ref.fa.sa: Copied (new)
2019/05/30 22:48:45 INFO  : One drive root 'africanum_analysis/snippy/SAMEA2340897': Waiting for checks to finish
2019/05/30 22:48:45 INFO  : One drive root 'africanum_analysis/snippy/SAMEA2340897': Waiting for transfers to finish
2019/05/30 22:48:45 DEBUG : snps.bam: Uploading segment 157286400/465035204 size 10485760
2019/05/30 22:48:45 INFO  : reference/ref.txt: Copied (new)
2019/05/30 22:48:45 INFO  : reference/ref.gff: Copied (new)
2019/05/30 22:48:46 DEBUG : snps.bam: Uploading segment 167772160/465035204 size 10485760
2019/05/30 22:48:46 INFO  : reference/snpeff.config: Copied (new)
2019/05/30 22:48:46 DEBUG : snps.bam: Uploading segment 178257920/465035204 size 10485760
2019/05/30 22:48:47 DEBUG : snps.bam: Uploading segment 188743680/465035204 size 10485760
2019/05/30 22:48:47 INFO  : reference/ref/genes.gff.gz: Copied (new)
2019/05/30 22:48:48 DEBUG : snps.bam: Uploading segment 199229440/465035204 size 10485760
2019/05/30 22:48:48 INFO  : reference/genomes/ref.fa: Copied (new)
2019/05/30 22:48:48 INFO  : reference/ref/snpEffectPredictor.bin: Copied (new)
2019/05/30 22:48:48 DEBUG : snps.bam: Uploading segment 209715200/465035204 size 10485760
2019/05/30 22:48:49 DEBUG : snps.bam: Uploading segment 220200960/465035204 size 10485760
2019/05/30 22:48:49 INFO  : reference/ref.fa: Copied (new)
2019/05/30 22:48:50 DEBUG : snps.bam: Uploading segment 230686720/465035204 size 10485760
2019/05/30 22:48:51 DEBUG : snps.bam: Uploading segment 241172480/465035204 size 10485760
2019/05/30 22:48:52 DEBUG : snps.bam: Uploading segment 251658240/465035204 size 10485760
2019/05/30 22:48:53 DEBUG : snps.bam: Uploading segment 262144000/465035204 size 10485760
2019/05/30 22:48:53 DEBUG : snps.bam: Uploading segment 272629760/465035204 size 10485760
2019/05/30 22:48:54 DEBUG : snps.bam: Uploading segment 283115520/465035204 size 10485760
2019/05/30 22:48:56 DEBUG : snps.bam: Uploading segment 293601280/465035204 size 10485760
2019/05/30 22:48:57 DEBUG : snps.bam: Uploading segment 304087040/465035204 size 10485760
2019/05/30 22:48:58 DEBUG : snps.bam: Uploading segment 314572800/465035204 size 10485760
2019/05/30 22:48:58 DEBUG : snps.bam: Uploading segment 325058560/465035204 size 10485760
2019/05/30 22:48:59 DEBUG : snps.bam: Uploading segment 335544320/465035204 size 10485760
2019/05/30 22:48:59 DEBUG : snps.bam: Uploading segment 346030080/465035204 size 10485760
2019/05/30 22:49:00 DEBUG : snps.bam: Uploading segment 356515840/465035204 size 10485760
2019/05/30 22:49:01 DEBUG : snps.bam: Uploading segment 367001600/465035204 size 10485760
2019/05/30 22:49:01 DEBUG : snps.bam: Uploading segment 377487360/465035204 size 10485760
2019/05/30 22:49:02 DEBUG : snps.bam: Uploading segment 387973120/465035204 size 10485760
2019/05/30 22:49:02 DEBUG : snps.bam: Uploading segment 398458880/465035204 size 10485760
2019/05/30 22:49:03 DEBUG : snps.bam: Uploading segment 408944640/465035204 size 10485760
2019/05/30 22:49:04 DEBUG : snps.bam: Uploading segment 419430400/465035204 size 10485760
2019/05/30 22:49:04 DEBUG : snps.bam: Uploading segment 429916160/465035204 size 10485760
2019/05/30 22:49:05 DEBUG : snps.bam: Uploading segment 440401920/465035204 size 10485760
2019/05/30 22:49:05 DEBUG : snps.bam: Uploading segment 450887680/465035204 size 10485760
2019/05/30 22:49:06 DEBUG : snps.bam: Uploading segment 461373440/465035204 size 3661764
2019/05/30 22:49:07 INFO  : snps.bam: Copied (new)
2019/05/30 22:49:07 INFO  : 
Transferred:   482.584 MBytes (13.639 MBytes/s)
Errors:                 0
Checks:                 0
Transferred:           35
Elapsed time:       35.3s
2019/05/30 22:49:07 DEBUG : Go routines at exit 13
2019/05/30 22:49:07 DEBUG : rclone: Version "v1.36" finishing with parameters ["rclone" "copy" "./SAMEA2340897" "onedrive-em:africanum_analysis/snippy/SAMEA2340897" "-vv"]
[18:49:12] This is snippy 3.2-dev
[18:49:12] Written by Torsten Seemann <torsten.seemann@gmail.com>
[18:49:12] Obtained from https://github.com/tseemann/snippy
[18:49:12] Detected operating system: linux
[18:49:12] Enabling bundled linux tools.
[18:49:12] Found bwa - /opt/snippy/binaries/linux/bwa
[18:49:12] Found samtools - /opt/snippy/binaries/linux/samtools
[18:49:12] Found tabix - /opt/snippy/binaries/linux/tabix
[18:49:12] Found bgzip - /opt/snippy/binaries/linux/bgzip
[18:49:12] Found snpEff - /opt/snippy/binaries/noarch/snpEff
[18:49:12] Found java - /usr/bin/java
[18:49:12] Found gzip - /usr/bin/gzip
[18:49:12] Found parallel - /opt/snippy/binaries/noarch/parallel
[18:49:12] Found freebayes - /opt/snippy/binaries/linux/freebayes
[18:49:12] Found freebayes-parallel - /opt/snippy/binaries/noarch/freebayes-parallel
[18:49:12] Found fasta_generate_regions.py - /opt/snippy/binaries/noarch/fasta_generate_regions.py
[18:49:12] Found vcfstreamsort - /opt/snippy/binaries/linux/vcfstreamsort
[18:49:12] Found vcfuniq - /opt/snippy/binaries/linux/vcfuniq
[18:49:12] Found vcffirstheader - /opt/snippy/binaries/noarch/vcffirstheader
[18:49:12] Found vcf-consensus - /opt/snippy/binaries/noarch/vcf-consensus
[18:49:12] Found snippy-vcf_to_tab - /opt/snippy/bin/snippy-vcf_to_tab
[18:49:12] Found snippy-vcf_report - /opt/snippy/bin/snippy-vcf_report
[18:49:12] Found snippy-vcf_filter - /opt/snippy/bin/snippy-vcf_filter
[18:49:12] Checking version: samtools --version is >= 1.3 - ok, have 1.3
[18:49:12] Using reference: /vagrant/africanum_analysis/lab/NC000962_3.gbk
[18:49:13] Treating reference as 'genbank' format.
[18:49:13] Will use 4 CPU cores.
[18:49:13] Using read file: /vagrant/africanum_analysis/lab/SAMEA2340900_1.fastq.gz
[18:49:13] Using read file: /vagrant/africanum_analysis/lab/SAMEA2340900_2.fastq.gz
[18:49:13] Creating folder: SAMEA2340900
[18:49:13] Changing working directory: SAMEA2340900
[18:49:13] Creating reference folder: reference
[18:49:13] Extracting FASTA and GFF from reference.
[18:49:29] Wrote 1 sequences to ref.fa
[18:49:29] Wrote 4416 features to ref.gff
[18:49:29] Creating reference/snpeff.config
[18:49:29] Freebayes will process 16 chunks of 280319 bp, 4 chunks at a time.
[18:49:29] Using BAM RG (Read Group) ID: snps
[18:49:29] Running: samtools faidx reference/ref.fa 2>> snps.log
[18:49:29] Running: bwa index reference/ref.fa 2>> snps.log
[18:49:37] Running: mkdir reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[18:49:37] Running: mkdir reference/ref && bgzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[18:49:38] Running: snpEff build -c reference/snpeff.config -dataDir . -gff3 ref 2>> snps.log
[18:49:47] Running: (bwa mem  -v 2 -M -R '@RG\tID:snps\tSM:snps' -t 4 reference/ref.fa /vagrant/africanum_analysis/lab/SAMEA2340900_1.fastq.gz /vagrant/africanum_analysis/lab/SAMEA2340900_2.fastq.gz | samtools sort --reference reference/ref.fa > snps.bam) 2>> snps.log
[19:04:27] Running: samtools index snps.bam 2>> snps.log
[19:04:55] Running: samtools depth -q 20 snps.bam | bgzip > snps.depth.gz 2>> snps.log
[19:05:23] Running: tabix -s 1 -b 2 -e 2 snps.depth.gz 2>> snps.log
[19:05:24] Running: fasta_generate_regions.py reference/ref.fa.fai 280319 > reference/ref.txt 2>> snps.log
[19:05:24] Running: freebayes-parallel reference/ref.txt 4 -p 1 -q 20 -m 60 --min-coverage 10 -V -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[19:05:39] Running: /opt/snippy/bin/snippy-vcf_filter --minqual 10 --mincov 10 --minfrac 0.9  snps.raw.vcf > snps.filt.vcf 2>> snps.log
[19:05:39] Running: snpEff ann -no-downstream -no-upstream -no-intergenic -no-utr -c reference/snpeff.config -dataDir . -noStats ref snps.filt.vcf > snps.vcf 2>> snps.log
[19:05:45] Running: bgzip -c snps.vcf > snps.vcf.gz 2>> snps.log
[19:05:45] Running: tabix -p vcf snps.vcf.gz 2>> snps.log
[19:05:45] Running: /opt/snippy/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[19:06:02] Running: vcf-consensus snps.vcf.gz < reference/ref.fa > snps.consensus.fa 2>> snps.log
[19:06:06] Running: /opt/snippy/bin/snippy-vcf_filter --subs snps.filt.vcf > snps.filt.subs.vcf 2>> snps.log
[19:06:06] Running: bgzip -c snps.filt.subs.vcf > snps.filt.subs.vcf.gz 2>> snps.log
[19:06:06] Running: tabix -p vcf snps.filt.subs.vcf.gz 2>> snps.log
[19:06:06] Running: vcf-consensus snps.filt.subs.vcf.gz < reference/ref.fa > snps.consensus.subs.fa 2>> snps.log
[19:06:09] Generating aligned/masked FASTA relative to reference: snps.aligned.fa
[19:06:15] Creating extra output files: BED GFF CSV TXT HTML
[19:06:15] Identified 144 variants.
[19:06:15] Result folder: SAMEA2340900
[19:06:15] Result files:
[19:06:15] * SAMEA2340900/snps.aligned.fa
[19:06:15] * SAMEA2340900/snps.bam
[19:06:15] * SAMEA2340900/snps.bam.bai
[19:06:15] * SAMEA2340900/snps.bed
[19:06:15] * SAMEA2340900/snps.consensus.fa
[19:06:15] * SAMEA2340900/snps.consensus.subs.fa
[19:06:15] * SAMEA2340900/snps.csv
[19:06:15] * SAMEA2340900/snps.depth.gz
[19:06:15] * SAMEA2340900/snps.depth.gz.tbi
[19:06:15] * SAMEA2340900/snps.filt.subs.vcf
[19:06:15] * SAMEA2340900/snps.filt.subs.vcf.gz
[19:06:15] * SAMEA2340900/snps.filt.subs.vcf.gz.tbi
[19:06:15] * SAMEA2340900/snps.filt.vcf
[19:06:15] * SAMEA2340900/snps.gff
[19:06:15] * SAMEA2340900/snps.html
[19:06:15] * SAMEA2340900/snps.log
[19:06:15] * SAMEA2340900/snps.raw.vcf
[19:06:15] * SAMEA2340900/snps.tab
[19:06:15] * SAMEA2340900/snps.txt
[19:06:15] * SAMEA2340900/snps.vcf
[19:06:15] * SAMEA2340900/snps.vcf.gz
[19:06:15] * SAMEA2340900/snps.vcf.gz.tbi
[19:06:15] Walltime used: 17 minutes, 3 seconds
[19:06:15] Did you know? Snippy is a combination of SNP, Skippy, and snappy.
[19:06:15] Done.
2019/05/30 23:06:15 DEBUG : rclone: Version "v1.36" starting with parameters ["rclone" "copy" "./SAMEA2340900" "onedrive-em:africanum_analysis/snippy/SAMEA2340900" "-vv"]
2019/05/30 23:06:16 INFO  : One drive root 'africanum_analysis/snippy/SAMEA2340900': Modify window is 1s
2019/05/30 23:06:17 DEBUG : One drive root 'africanum_analysis/snippy/SAMEA2340900': Reading ""
2019/05/30 23:06:18 DEBUG : One drive root 'africanum_analysis/snippy/SAMEA2340900': Finished reading ""
2019/05/30 23:06:18 DEBUG : snps.bam: Starting multipart upload
2019/05/30 23:06:18 DEBUG : snps.bam: Uploading segment 0/632471189 size 10485760
2019/05/30 23:06:18 INFO  : snps.bed: Copied (new)
2019/05/30 23:06:18 INFO  : snps.bam.bai: Copied (new)
2019/05/30 23:06:19 DEBUG : snps.bam: Uploading segment 10485760/632471189 size 10485760
2019/05/30 23:06:20 INFO  : snps.consensus.fa: Copied (new)
2019/05/30 23:06:20 INFO  : snps.aligned.fa: Copied (new)
2019/05/30 23:06:20 INFO  : snps.csv: Copied (new)
2019/05/30 23:06:21 DEBUG : snps.bam: Uploading segment 20971520/632471189 size 10485760
2019/05/30 23:06:21 INFO  : snps.depth.gz.tbi: Copied (new)
2019/05/30 23:06:21 INFO  : snps.depth.gz: Copied (new)
2019/05/30 23:06:22 INFO  : snps.filt.subs.vcf: Copied (new)
2019/05/30 23:06:22 DEBUG : snps.bam: Uploading segment 31457280/632471189 size 10485760
2019/05/30 23:06:22 INFO  : snps.filt.subs.vcf.gz.tbi: Copied (new)
2019/05/30 23:06:22 INFO  : snps.filt.subs.vcf.gz: Copied (new)
2019/05/30 23:06:23 DEBUG : snps.bam: Uploading segment 41943040/632471189 size 10485760
2019/05/30 23:06:23 INFO  : snps.filt.vcf: Copied (new)
2019/05/30 23:06:23 INFO  : snps.gff: Copied (new)
2019/05/30 23:06:23 INFO  : snps.html: Copied (new)
2019/05/30 23:06:24 INFO  : snps.log: Copied (new)
2019/05/30 23:06:24 DEBUG : snps.bam: Uploading segment 52428800/632471189 size 10485760
2019/05/30 23:06:24 INFO  : snps.tab: Copied (new)
2019/05/30 23:06:25 INFO  : snps.raw.vcf: Copied (new)
2019/05/30 23:06:25 DEBUG : snps.bam: Uploading segment 62914560/632471189 size 10485760
2019/05/30 23:06:25 INFO  : snps.txt: Copied (new)
2019/05/30 23:06:25 INFO  : snps.vcf: Copied (new)
2019/05/30 23:06:25 DEBUG : snps.bam: Uploading segment 73400320/632471189 size 10485760
2019/05/30 23:06:26 INFO  : snps.vcf.gz.tbi: Copied (new)
2019/05/30 23:06:26 DEBUG : snps.bam: Uploading segment 83886080/632471189 size 10485760
2019/05/30 23:06:27 INFO  : snps.vcf.gz: Copied (new)
2019/05/30 23:06:27 DEBUG : snps.bam: Uploading segment 94371840/632471189 size 10485760
2019/05/30 23:06:28 INFO  : reference/ref.fa.amb: Copied (new)
2019/05/30 23:06:28 INFO  : reference/ref.fa: Copied (new)
2019/05/30 23:06:29 INFO  : reference/ref.fa.ann: Copied (new)
2019/05/30 23:06:29 DEBUG : snps.bam: Uploading segment 104857600/632471189 size 10485760
2019/05/30 23:06:29 INFO  : reference/ref.fa.fai: Copied (new)
2019/05/30 23:06:30 DEBUG : snps.bam: Uploading segment 115343360/632471189 size 10485760
2019/05/30 23:06:30 DEBUG : snps.bam: Uploading segment 125829120/632471189 size 10485760
2019/05/30 23:06:30 INFO  : reference/ref.fa.bwt: Copied (new)
2019/05/30 23:06:31 INFO  : reference/ref.fa.pac: Copied (new)
2019/05/30 23:06:31 DEBUG : snps.bam: Uploading segment 136314880/632471189 size 10485760
2019/05/30 23:06:31 DEBUG : snps.bam: Uploading segment 146800640/632471189 size 10485760
2019/05/30 23:06:32 DEBUG : snps.bam: Uploading segment 157286400/632471189 size 10485760
2019/05/30 23:06:32 INFO  : reference/ref.fa.sa: Copied (new)
2019/05/30 23:06:32 INFO  : One drive root 'africanum_analysis/snippy/SAMEA2340900': Waiting for checks to finish
2019/05/30 23:06:32 INFO  : One drive root 'africanum_analysis/snippy/SAMEA2340900': Waiting for transfers to finish
2019/05/30 23:06:33 DEBUG : snps.bam: Uploading segment 167772160/632471189 size 10485760
2019/05/30 23:06:33 INFO  : reference/ref.gff: Copied (new)
2019/05/30 23:06:33 DEBUG : snps.bam: Uploading segment 178257920/632471189 size 10485760
2019/05/30 23:06:33 INFO  : reference/snpeff.config: Copied (new)
2019/05/30 23:06:34 INFO  : reference/ref.txt: Copied (new)
2019/05/30 23:06:35 DEBUG : snps.bam: Uploading segment 188743680/632471189 size 10485760
2019/05/30 23:06:35 INFO  : reference/genomes/ref.fa: Copied (new)
2019/05/30 23:06:35 DEBUG : snps.bam: Uploading segment 199229440/632471189 size 10485760
2019/05/30 23:06:35 INFO  : reference/ref/genes.gff.gz: Copied (new)
2019/05/30 23:06:36 DEBUG : snps.bam: Uploading segment 209715200/632471189 size 10485760
2019/05/30 23:06:36 DEBUG : snps.bam: Uploading segment 220200960/632471189 size 10485760
2019/05/30 23:06:37 INFO  : reference/ref/snpEffectPredictor.bin: Copied (new)
2019/05/30 23:06:37 DEBUG : snps.bam: Uploading segment 230686720/632471189 size 10485760
2019/05/30 23:06:38 DEBUG : snps.bam: Uploading segment 241172480/632471189 size 10485760
2019/05/30 23:06:38 DEBUG : snps.bam: Uploading segment 251658240/632471189 size 10485760
2019/05/30 23:06:39 DEBUG : snps.bam: Uploading segment 262144000/632471189 size 10485760
2019/05/30 23:06:39 DEBUG : snps.bam: Uploading segment 272629760/632471189 size 10485760
2019/05/30 23:06:40 DEBUG : snps.bam: Uploading segment 283115520/632471189 size 10485760
2019/05/30 23:06:41 DEBUG : snps.bam: Uploading segment 293601280/632471189 size 10485760
2019/05/30 23:06:41 DEBUG : snps.bam: Uploading segment 304087040/632471189 size 10485760
2019/05/30 23:06:42 DEBUG : snps.bam: Uploading segment 314572800/632471189 size 10485760
2019/05/30 23:06:43 DEBUG : snps.bam: Uploading segment 325058560/632471189 size 10485760
2019/05/30 23:06:44 DEBUG : snps.bam: Uploading segment 335544320/632471189 size 10485760
2019/05/30 23:06:45 DEBUG : snps.bam: Uploading segment 346030080/632471189 size 10485760
2019/05/30 23:06:45 DEBUG : snps.bam: Uploading segment 356515840/632471189 size 10485760
2019/05/30 23:06:46 DEBUG : snps.bam: Uploading segment 367001600/632471189 size 10485760
2019/05/30 23:06:46 DEBUG : snps.bam: Uploading segment 377487360/632471189 size 10485760
2019/05/30 23:06:48 DEBUG : snps.bam: Uploading segment 387973120/632471189 size 10485760
2019/05/30 23:06:48 DEBUG : snps.bam: Uploading segment 398458880/632471189 size 10485760
2019/05/30 23:06:49 DEBUG : snps.bam: Uploading segment 408944640/632471189 size 10485760
2019/05/30 23:06:49 DEBUG : snps.bam: Uploading segment 419430400/632471189 size 10485760
2019/05/30 23:06:50 DEBUG : snps.bam: Uploading segment 429916160/632471189 size 10485760
2019/05/30 23:06:51 DEBUG : snps.bam: Uploading segment 440401920/632471189 size 10485760
2019/05/30 23:06:51 DEBUG : snps.bam: Uploading segment 450887680/632471189 size 10485760
2019/05/30 23:06:52 DEBUG : snps.bam: Uploading segment 461373440/632471189 size 10485760
2019/05/30 23:06:53 DEBUG : snps.bam: Uploading segment 471859200/632471189 size 10485760
2019/05/30 23:06:53 DEBUG : snps.bam: Uploading segment 482344960/632471189 size 10485760
2019/05/30 23:06:54 DEBUG : snps.bam: Uploading segment 492830720/632471189 size 10485760
2019/05/30 23:06:55 DEBUG : snps.bam: Uploading segment 503316480/632471189 size 10485760
2019/05/30 23:06:55 DEBUG : snps.bam: Uploading segment 513802240/632471189 size 10485760
2019/05/30 23:06:56 DEBUG : snps.bam: Uploading segment 524288000/632471189 size 10485760
2019/05/30 23:06:57 DEBUG : snps.bam: Uploading segment 534773760/632471189 size 10485760
2019/05/30 23:06:57 DEBUG : snps.bam: Uploading segment 545259520/632471189 size 10485760
2019/05/30 23:06:58 DEBUG : snps.bam: Uploading segment 555745280/632471189 size 10485760
2019/05/30 23:06:58 DEBUG : pacer: Rate limited, increasing sleep to 20ms
2019/05/30 23:06:58 DEBUG : pacer: low level retry 1/1 (error generalException: General Exception While Processing)
2019/05/30 23:06:58 DEBUG : snps.consensus.subs.fa: Received error: generalException: General Exception While Processing - low level retry 1/10
2019/05/30 23:06:58 DEBUG : pacer: Reducing sleep to 15ms
2019/05/30 23:06:58 DEBUG : snps.bam: Uploading segment 566231040/632471189 size 10485760
2019/05/30 23:06:59 DEBUG : pacer: Reducing sleep to 11.25ms
2019/05/30 23:06:59 DEBUG : snps.bam: Uploading segment 576716800/632471189 size 10485760
2019/05/30 23:06:59 DEBUG : pacer: Reducing sleep to 10ms
2019/05/30 23:06:59 DEBUG : snps.bam: Uploading segment 587202560/632471189 size 10485760
2019/05/30 23:07:00 DEBUG : snps.bam: Uploading segment 597688320/632471189 size 10485760
2019/05/30 23:07:00 INFO  : snps.consensus.subs.fa: Copied (new)
2019/05/30 23:07:00 DEBUG : snps.bam: Uploading segment 608174080/632471189 size 10485760
2019/05/30 23:07:01 DEBUG : snps.bam: Uploading segment 618659840/632471189 size 10485760
2019/05/30 23:07:02 DEBUG : snps.bam: Uploading segment 629145600/632471189 size 3325589
2019/05/30 23:07:03 INFO  : snps.bam: Copied (new)
2019/05/30 23:07:03 INFO  : 
Transferred:   645.690 MBytes (13.480 MBytes/s)
Errors:                 0
Checks:                 0
Transferred:           35
Elapsed time:       47.9s
2019/05/30 23:07:03 DEBUG : Go routines at exit 13
2019/05/30 23:07:03 DEBUG : rclone: Version "v1.36" finishing with parameters ["rclone" "copy" "./SAMEA2340900" "onedrive-em:africanum_analysis/snippy/SAMEA2340900" "-vv"]
[19:07:08] This is snippy 3.2-dev
[19:07:08] Written by Torsten Seemann <torsten.seemann@gmail.com>
[19:07:08] Obtained from https://github.com/tseemann/snippy
[19:07:08] Detected operating system: linux
[19:07:08] Enabling bundled linux tools.
[19:07:08] Found bwa - /opt/snippy/binaries/linux/bwa
[19:07:08] Found samtools - /opt/snippy/binaries/linux/samtools
[19:07:08] Found tabix - /opt/snippy/binaries/linux/tabix
[19:07:08] Found bgzip - /opt/snippy/binaries/linux/bgzip
[19:07:08] Found snpEff - /opt/snippy/binaries/noarch/snpEff
[19:07:08] Found java - /usr/bin/java
[19:07:08] Found gzip - /usr/bin/gzip
[19:07:08] Found parallel - /opt/snippy/binaries/noarch/parallel
[19:07:08] Found freebayes - /opt/snippy/binaries/linux/freebayes
[19:07:08] Found freebayes-parallel - /opt/snippy/binaries/noarch/freebayes-parallel
[19:07:08] Found fasta_generate_regions.py - /opt/snippy/binaries/noarch/fasta_generate_regions.py
[19:07:08] Found vcfstreamsort - /opt/snippy/binaries/linux/vcfstreamsort
[19:07:08] Found vcfuniq - /opt/snippy/binaries/linux/vcfuniq
[19:07:08] Found vcffirstheader - /opt/snippy/binaries/noarch/vcffirstheader
[19:07:08] Found vcf-consensus - /opt/snippy/binaries/noarch/vcf-consensus
[19:07:08] Found snippy-vcf_to_tab - /opt/snippy/bin/snippy-vcf_to_tab
[19:07:08] Found snippy-vcf_report - /opt/snippy/bin/snippy-vcf_report
[19:07:08] Found snippy-vcf_filter - /opt/snippy/bin/snippy-vcf_filter
[19:07:08] Checking version: samtools --version is >= 1.3 - ok, have 1.3
[19:07:08] Using reference: /vagrant/africanum_analysis/lab/NC000962_3.gbk
[19:07:09] Treating reference as 'genbank' format.
[19:07:09] Will use 4 CPU cores.
[19:07:09] Using read file: /vagrant/africanum_analysis/lab/SAMEA2340901_1.fastq.gz
[19:07:09] Using read file: /vagrant/africanum_analysis/lab/SAMEA2340901_2.fastq.gz
[19:07:09] Creating folder: SAMEA2340901
[19:07:09] Changing working directory: SAMEA2340901
[19:07:09] Creating reference folder: reference
[19:07:09] Extracting FASTA and GFF from reference.
[19:07:25] Wrote 1 sequences to ref.fa
[19:07:25] Wrote 4416 features to ref.gff
[19:07:25] Creating reference/snpeff.config
[19:07:25] Freebayes will process 16 chunks of 280319 bp, 4 chunks at a time.
[19:07:25] Using BAM RG (Read Group) ID: snps
[19:07:25] Running: samtools faidx reference/ref.fa 2>> snps.log
[19:07:25] Running: bwa index reference/ref.fa 2>> snps.log
[19:07:33] Running: mkdir reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[19:07:33] Running: mkdir reference/ref && bgzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[19:07:34] Running: snpEff build -c reference/snpeff.config -dataDir . -gff3 ref 2>> snps.log
[19:07:43] Running: (bwa mem  -v 2 -M -R '@RG\tID:snps\tSM:snps' -t 4 reference/ref.fa /vagrant/africanum_analysis/lab/SAMEA2340901_1.fastq.gz /vagrant/africanum_analysis/lab/SAMEA2340901_2.fastq.gz | samtools sort --reference reference/ref.fa > snps.bam) 2>> snps.log
[19:17:29] Running: samtools index snps.bam 2>> snps.log
[19:17:46] Running: samtools depth -q 20 snps.bam | bgzip > snps.depth.gz 2>> snps.log
[19:18:29] Running: tabix -s 1 -b 2 -e 2 snps.depth.gz 2>> snps.log
[19:18:32] Running: fasta_generate_regions.py reference/ref.fa.fai 280319 > reference/ref.txt 2>> snps.log
[19:18:32] Running: freebayes-parallel reference/ref.txt 4 -p 1 -q 20 -m 60 --min-coverage 10 -V -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[19:23:57] Running: /opt/snippy/bin/snippy-vcf_filter --minqual 10 --mincov 10 --minfrac 0.9  snps.raw.vcf > snps.filt.vcf 2>> snps.log
[19:23:59] Running: snpEff ann -no-downstream -no-upstream -no-intergenic -no-utr -c reference/snpeff.config -dataDir . -noStats ref snps.filt.vcf > snps.vcf 2>> snps.log
[19:24:08] Running: bgzip -c snps.vcf > snps.vcf.gz 2>> snps.log
[19:24:08] Running: tabix -p vcf snps.vcf.gz 2>> snps.log
[19:24:08] Running: /opt/snippy/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[19:24:26] Running: vcf-consensus snps.vcf.gz < reference/ref.fa > snps.consensus.fa 2>> snps.log
[19:24:30] Running: /opt/snippy/bin/snippy-vcf_filter --subs snps.filt.vcf > snps.filt.subs.vcf 2>> snps.log
[19:24:31] Running: bgzip -c snps.filt.subs.vcf > snps.filt.subs.vcf.gz 2>> snps.log
[19:24:31] Running: tabix -p vcf snps.filt.subs.vcf.gz 2>> snps.log
[19:24:31] Running: vcf-consensus snps.filt.subs.vcf.gz < reference/ref.fa > snps.consensus.subs.fa 2>> snps.log
[19:24:34] Generating aligned/masked FASTA relative to reference: snps.aligned.fa
[19:24:58] Creating extra output files: BED GFF CSV TXT HTML
[19:24:58] Identified 2248 variants.
[19:24:58] Result folder: SAMEA2340901
[19:24:58] Result files:
[19:24:58] * SAMEA2340901/snps.aligned.fa
[19:24:58] * SAMEA2340901/snps.bam
[19:24:58] * SAMEA2340901/snps.bam.bai
[19:24:58] * SAMEA2340901/snps.bed
[19:24:58] * SAMEA2340901/snps.consensus.fa
[19:24:58] * SAMEA2340901/snps.consensus.subs.fa
[19:24:58] * SAMEA2340901/snps.csv
[19:24:58] * SAMEA2340901/snps.depth.gz
[19:24:58] * SAMEA2340901/snps.depth.gz.tbi
[19:24:58] * SAMEA2340901/snps.filt.subs.vcf
[19:24:58] * SAMEA2340901/snps.filt.subs.vcf.gz
[19:24:58] * SAMEA2340901/snps.filt.subs.vcf.gz.tbi
[19:24:58] * SAMEA2340901/snps.filt.vcf
[19:24:58] * SAMEA2340901/snps.gff
[19:24:58] * SAMEA2340901/snps.html
[19:24:58] * SAMEA2340901/snps.log
[19:24:58] * SAMEA2340901/snps.raw.vcf
[19:24:58] * SAMEA2340901/snps.tab
[19:24:58] * SAMEA2340901/snps.txt
[19:24:58] * SAMEA2340901/snps.vcf
[19:24:58] * SAMEA2340901/snps.vcf.gz
[19:24:58] * SAMEA2340901/snps.vcf.gz.tbi
[19:24:58] Walltime used: 17 minutes, 50 seconds
[19:24:58] May the SNPs be with you.
[19:24:58] Done.
2019/05/30 23:24:58 DEBUG : rclone: Version "v1.36" starting with parameters ["rclone" "copy" "./SAMEA2340901" "onedrive-em:africanum_analysis/snippy/SAMEA2340901" "-vv"]
2019/05/30 23:24:59 DEBUG : onedrive-em: Saved new token in config file
2019/05/30 23:25:01 INFO  : One drive root 'africanum_analysis/snippy/SAMEA2340901': Modify window is 1s
2019/05/30 23:25:03 DEBUG : One drive root 'africanum_analysis/snippy/SAMEA2340901': Reading ""
2019/05/30 23:25:03 DEBUG : One drive root 'africanum_analysis/snippy/SAMEA2340901': Finished reading ""
2019/05/30 23:25:03 DEBUG : snps.bam: Starting multipart upload
2019/05/30 23:25:03 DEBUG : snps.bam: Uploading segment 0/403188741 size 10485760
2019/05/30 23:25:04 INFO  : snps.bam.bai: Copied (new)
2019/05/30 23:25:04 INFO  : snps.bed: Copied (new)
2019/05/30 23:25:04 DEBUG : snps.bam: Uploading segment 10485760/403188741 size 10485760
2019/05/30 23:25:05 DEBUG : snps.bam: Uploading segment 20971520/403188741 size 10485760
2019/05/30 23:25:05 INFO  : snps.aligned.fa: Copied (new)
2019/05/30 23:25:05 DEBUG : snps.bam: Uploading segment 31457280/403188741 size 10485760
2019/05/30 23:25:05 INFO  : snps.consensus.subs.fa: Copied (new)
2019/05/30 23:25:05 DEBUG : snps.depth.gz: Starting multipart upload
2019/05/30 23:25:06 INFO  : snps.consensus.fa: Copied (new)
2019/05/30 23:25:06 DEBUG : snps.depth.gz: Uploading segment 0/15220666 size 10485760
2019/05/30 23:25:06 INFO  : snps.csv: Copied (new)
2019/05/30 23:25:06 DEBUG : snps.bam: Uploading segment 41943040/403188741 size 10485760
2019/05/30 23:25:06 INFO  : snps.depth.gz.tbi: Copied (new)
2019/05/30 23:25:07 INFO  : snps.filt.subs.vcf: Copied (new)
2019/05/30 23:25:07 DEBUG : snps.depth.gz: Uploading segment 10485760/15220666 size 4734906
2019/05/30 23:25:07 INFO  : snps.filt.subs.vcf.gz: Copied (new)
2019/05/30 23:25:08 INFO  : snps.filt.subs.vcf.gz.tbi: Copied (new)
2019/05/30 23:25:08 DEBUG : snps.bam: Uploading segment 52428800/403188741 size 10485760
2019/05/30 23:25:08 INFO  : snps.depth.gz: Copied (new)
2019/05/30 23:25:08 INFO  : snps.filt.vcf: Copied (new)
2019/05/30 23:25:09 INFO  : snps.gff: Copied (new)
2019/05/30 23:25:09 INFO  : snps.log: Copied (new)
2019/05/30 23:25:09 DEBUG : snps.bam: Uploading segment 62914560/403188741 size 10485760
2019/05/30 23:25:09 INFO  : snps.html: Copied (new)
2019/05/30 23:25:10 DEBUG : snps.bam: Uploading segment 73400320/403188741 size 10485760
2019/05/30 23:25:10 INFO  : snps.tab: Copied (new)
2019/05/30 23:25:10 INFO  : snps.txt: Copied (new)
2019/05/30 23:25:10 INFO  : snps.raw.vcf: Copied (new)
2019/05/30 23:25:10 DEBUG : snps.bam: Uploading segment 83886080/403188741 size 10485760
2019/05/30 23:25:11 INFO  : snps.vcf.gz.tbi: Copied (new)
2019/05/30 23:25:11 INFO  : snps.vcf: Copied (new)
2019/05/30 23:25:11 DEBUG : snps.bam: Uploading segment 94371840/403188741 size 10485760
2019/05/30 23:25:11 INFO  : snps.vcf.gz: Copied (new)
2019/05/30 23:25:12 DEBUG : snps.bam: Uploading segment 104857600/403188741 size 10485760
2019/05/30 23:25:12 INFO  : reference/ref.fa.ann: Copied (new)
2019/05/30 23:25:12 INFO  : reference/ref.fa.amb: Copied (new)
2019/05/30 23:25:12 DEBUG : snps.bam: Uploading segment 115343360/403188741 size 10485760
2019/05/30 23:25:12 INFO  : reference/ref.fa.fai: Copied (new)
2019/05/30 23:25:13 DEBUG : snps.bam: Uploading segment 125829120/403188741 size 10485760
2019/05/30 23:25:13 INFO  : reference/ref.fa: Copied (new)
2019/05/30 23:25:13 DEBUG : snps.bam: Uploading segment 136314880/403188741 size 10485760
2019/05/30 23:25:13 INFO  : reference/ref.fa.bwt: Copied (new)
2019/05/30 23:25:14 INFO  : reference/ref.fa.pac: Copied (new)
2019/05/30 23:25:14 INFO  : One drive root 'africanum_analysis/snippy/SAMEA2340901': Waiting for checks to finish
2019/05/30 23:25:14 INFO  : One drive root 'africanum_analysis/snippy/SAMEA2340901': Waiting for transfers to finish
2019/05/30 23:25:14 INFO  : reference/ref.txt: Copied (new)
2019/05/30 23:25:14 DEBUG : snps.bam: Uploading segment 146800640/403188741 size 10485760
2019/05/30 23:25:15 INFO  : reference/ref.fa.sa: Copied (new)
2019/05/30 23:25:15 INFO  : reference/snpeff.config: Copied (new)
2019/05/30 23:25:15 DEBUG : snps.bam: Uploading segment 157286400/403188741 size 10485760
2019/05/30 23:25:15 INFO  : reference/ref.gff: Copied (new)
2019/05/30 23:25:16 DEBUG : snps.bam: Uploading segment 167772160/403188741 size 10485760
2019/05/30 23:25:16 INFO  : reference/ref/snpEffectPredictor.bin: Copied (new)
2019/05/30 23:25:16 DEBUG : snps.bam: Uploading segment 178257920/403188741 size 10485760
2019/05/30 23:25:17 INFO  : reference/ref/genes.gff.gz: Copied (new)
2019/05/30 23:25:17 DEBUG : snps.bam: Uploading segment 188743680/403188741 size 10485760
2019/05/30 23:25:17 INFO  : reference/genomes/ref.fa: Copied (new)
2019/05/30 23:25:18 DEBUG : snps.bam: Uploading segment 199229440/403188741 size 10485760
2019/05/30 23:25:18 DEBUG : snps.bam: Uploading segment 209715200/403188741 size 10485760
2019/05/30 23:25:19 DEBUG : snps.bam: Uploading segment 220200960/403188741 size 10485760
2019/05/30 23:25:19 DEBUG : snps.bam: Uploading segment 230686720/403188741 size 10485760
2019/05/30 23:25:20 DEBUG : snps.bam: Uploading segment 241172480/403188741 size 10485760
2019/05/30 23:25:21 DEBUG : snps.bam: Uploading segment 251658240/403188741 size 10485760
2019/05/30 23:25:22 DEBUG : snps.bam: Uploading segment 262144000/403188741 size 10485760
2019/05/30 23:25:23 DEBUG : snps.bam: Uploading segment 272629760/403188741 size 10485760
2019/05/30 23:25:23 DEBUG : snps.bam: Uploading segment 283115520/403188741 size 10485760
2019/05/30 23:25:24 DEBUG : snps.bam: Uploading segment 293601280/403188741 size 10485760
2019/05/30 23:25:24 DEBUG : snps.bam: Uploading segment 304087040/403188741 size 10485760
2019/05/30 23:25:25 DEBUG : snps.bam: Uploading segment 314572800/403188741 size 10485760
2019/05/30 23:25:26 DEBUG : snps.bam: Uploading segment 325058560/403188741 size 10485760
2019/05/30 23:25:26 DEBUG : snps.bam: Uploading segment 335544320/403188741 size 10485760
2019/05/30 23:25:27 DEBUG : snps.bam: Uploading segment 346030080/403188741 size 10485760
2019/05/30 23:25:28 DEBUG : snps.bam: Uploading segment 356515840/403188741 size 10485760
2019/05/30 23:25:28 DEBUG : snps.bam: Uploading segment 367001600/403188741 size 10485760
2019/05/30 23:25:29 DEBUG : snps.bam: Uploading segment 377487360/403188741 size 10485760
2019/05/30 23:25:29 DEBUG : snps.bam: Uploading segment 387973120/403188741 size 10485760
2019/05/30 23:25:30 DEBUG : snps.bam: Uploading segment 398458880/403188741 size 4729861
2019/05/30 23:25:31 INFO  : snps.bam: Copied (new)
2019/05/30 23:25:31 INFO  : 
Transferred:   440.792 MBytes (13.425 MBytes/s)
Errors:                 0
Checks:                 0
Transferred:           35
Elapsed time:       32.8s
2019/05/30 23:25:31 DEBUG : Go routines at exit 15
2019/05/30 23:25:31 DEBUG : rclone: Version "v1.36" finishing with parameters ["rclone" "copy" "./SAMEA2340901" "onedrive-em:africanum_analysis/snippy/SAMEA2340901" "-vv"]
[19:25:36] This is snippy 3.2-dev
[19:25:36] Written by Torsten Seemann <torsten.seemann@gmail.com>
[19:25:36] Obtained from https://github.com/tseemann/snippy
[19:25:36] Detected operating system: linux
[19:25:36] Enabling bundled linux tools.
[19:25:36] Found bwa - /opt/snippy/binaries/linux/bwa
[19:25:36] Found samtools - /opt/snippy/binaries/linux/samtools
[19:25:36] Found tabix - /opt/snippy/binaries/linux/tabix
[19:25:36] Found bgzip - /opt/snippy/binaries/linux/bgzip
[19:25:36] Found snpEff - /opt/snippy/binaries/noarch/snpEff
[19:25:36] Found java - /usr/bin/java
[19:25:36] Found gzip - /usr/bin/gzip
[19:25:36] Found parallel - /opt/snippy/binaries/noarch/parallel
[19:25:36] Found freebayes - /opt/snippy/binaries/linux/freebayes
[19:25:36] Found freebayes-parallel - /opt/snippy/binaries/noarch/freebayes-parallel
[19:25:36] Found fasta_generate_regions.py - /opt/snippy/binaries/noarch/fasta_generate_regions.py
[19:25:36] Found vcfstreamsort - /opt/snippy/binaries/linux/vcfstreamsort
[19:25:36] Found vcfuniq - /opt/snippy/binaries/linux/vcfuniq
[19:25:36] Found vcffirstheader - /opt/snippy/binaries/noarch/vcffirstheader
[19:25:36] Found vcf-consensus - /opt/snippy/binaries/noarch/vcf-consensus
[19:25:36] Found snippy-vcf_to_tab - /opt/snippy/bin/snippy-vcf_to_tab
[19:25:36] Found snippy-vcf_report - /opt/snippy/bin/snippy-vcf_report
[19:25:36] Found snippy-vcf_filter - /opt/snippy/bin/snippy-vcf_filter
[19:25:36] Checking version: samtools --version is >= 1.3 - ok, have 1.3
[19:25:36] Using reference: /vagrant/africanum_analysis/lab/NC000962_3.gbk
[19:25:37] Treating reference as 'genbank' format.
[19:25:37] Will use 4 CPU cores.
[19:25:37] Using read file: /vagrant/africanum_analysis/lab/SAMEA2340903_1.fastq.gz
[19:25:37] Using read file: /vagrant/africanum_analysis/lab/SAMEA2340903_2.fastq.gz
[19:25:37] Creating folder: SAMEA2340903
[19:25:37] Changing working directory: SAMEA2340903
[19:25:37] Creating reference folder: reference
[19:25:37] Extracting FASTA and GFF from reference.
[19:25:53] Wrote 1 sequences to ref.fa
[19:25:53] Wrote 4416 features to ref.gff
[19:25:53] Creating reference/snpeff.config
[19:25:53] Freebayes will process 16 chunks of 280319 bp, 4 chunks at a time.
[19:25:53] Using BAM RG (Read Group) ID: snps
[19:25:53] Running: samtools faidx reference/ref.fa 2>> snps.log
[19:25:53] Running: bwa index reference/ref.fa 2>> snps.log
[19:26:01] Running: mkdir reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[19:26:02] Running: mkdir reference/ref && bgzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[19:26:02] Running: snpEff build -c reference/snpeff.config -dataDir . -gff3 ref 2>> snps.log
[19:26:11] Running: (bwa mem  -v 2 -M -R '@RG\tID:snps\tSM:snps' -t 4 reference/ref.fa /vagrant/africanum_analysis/lab/SAMEA2340903_1.fastq.gz /vagrant/africanum_analysis/lab/SAMEA2340903_2.fastq.gz | samtools sort --reference reference/ref.fa > snps.bam) 2>> snps.log
[19:36:44] Running: samtools index snps.bam 2>> snps.log
[19:37:05] Running: samtools depth -q 20 snps.bam | bgzip > snps.depth.gz 2>> snps.log
[19:37:26] Running: tabix -s 1 -b 2 -e 2 snps.depth.gz 2>> snps.log
[19:37:27] Running: fasta_generate_regions.py reference/ref.fa.fai 280319 > reference/ref.txt 2>> snps.log
[19:37:27] Running: freebayes-parallel reference/ref.txt 4 -p 1 -q 20 -m 60 --min-coverage 10 -V -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[19:37:32] Running: /opt/snippy/bin/snippy-vcf_filter --minqual 10 --mincov 10 --minfrac 0.9  snps.raw.vcf > snps.filt.vcf 2>> snps.log
[19:37:32] Running: snpEff ann -no-downstream -no-upstream -no-intergenic -no-utr -c reference/snpeff.config -dataDir . -noStats ref snps.filt.vcf > snps.vcf 2>> snps.log
[19:37:37] Running: bgzip -c snps.vcf > snps.vcf.gz 2>> snps.log
[19:37:37] Running: tabix -p vcf snps.vcf.gz 2>> snps.log
[19:37:37] Running: /opt/snippy/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[19:37:55] Running: vcf-consensus snps.vcf.gz < reference/ref.fa > snps.consensus.fa 2>> snps.log
[19:37:58] Running: /opt/snippy/bin/snippy-vcf_filter --subs snps.filt.vcf > snps.filt.subs.vcf 2>> snps.log
[19:37:59] Running: bgzip -c snps.filt.subs.vcf > snps.filt.subs.vcf.gz 2>> snps.log
[19:37:59] Running: tabix -p vcf snps.filt.subs.vcf.gz 2>> snps.log
[19:37:59] Running: vcf-consensus snps.filt.subs.vcf.gz < reference/ref.fa > snps.consensus.subs.fa 2>> snps.log
[19:38:02] Generating aligned/masked FASTA relative to reference: snps.aligned.fa
[19:38:07] Creating extra output files: BED GFF CSV TXT HTML
[19:38:07] Identified 0 variants.
[19:38:07] Result folder: SAMEA2340903
[19:38:07] Result files:
[19:38:07] * SAMEA2340903/snps.aligned.fa
[19:38:07] * SAMEA2340903/snps.bam
[19:38:07] * SAMEA2340903/snps.bam.bai
[19:38:07] * SAMEA2340903/snps.bed
[19:38:07] * SAMEA2340903/snps.consensus.fa
[19:38:07] * SAMEA2340903/snps.consensus.subs.fa
[19:38:07] * SAMEA2340903/snps.csv
[19:38:07] * SAMEA2340903/snps.depth.gz
[19:38:07] * SAMEA2340903/snps.depth.gz.tbi
[19:38:07] * SAMEA2340903/snps.filt.subs.vcf
[19:38:07] * SAMEA2340903/snps.filt.subs.vcf.gz
[19:38:07] * SAMEA2340903/snps.filt.subs.vcf.gz.tbi
[19:38:07] * SAMEA2340903/snps.filt.vcf
[19:38:07] * SAMEA2340903/snps.gff
[19:38:07] * SAMEA2340903/snps.html
[19:38:07] * SAMEA2340903/snps.log
[19:38:07] * SAMEA2340903/snps.raw.vcf
[19:38:07] * SAMEA2340903/snps.tab
[19:38:07] * SAMEA2340903/snps.txt
[19:38:07] * SAMEA2340903/snps.vcf
[19:38:07] * SAMEA2340903/snps.vcf.gz
[19:38:07] * SAMEA2340903/snps.vcf.gz.tbi
[19:38:07] Walltime used: 12 minutes, 31 seconds
[19:38:07] Have a suggestion? Tell me at https://github.com/tseemann/snippy/issues
[19:38:07] Done.
2019/05/30 23:38:07 DEBUG : rclone: Version "v1.36" starting with parameters ["rclone" "copy" "./SAMEA2340903" "onedrive-em:africanum_analysis/snippy/SAMEA2340903" "-vv"]
2019/05/30 23:38:09 INFO  : One drive root 'africanum_analysis/snippy/SAMEA2340903': Modify window is 1s
2019/05/30 23:38:09 DEBUG : One drive root 'africanum_analysis/snippy/SAMEA2340903': Reading ""
2019/05/30 23:38:09 DEBUG : One drive root 'africanum_analysis/snippy/SAMEA2340903': Finished reading ""
2019/05/30 23:38:09 DEBUG : snps.bam: Starting multipart upload
2019/05/30 23:38:10 INFO  : snps.bed: Copied (new)
2019/05/30 23:38:10 DEBUG : snps.bam: Uploading segment 0/467298671 size 10485760
2019/05/30 23:38:10 INFO  : snps.bam.bai: Copied (new)
2019/05/30 23:38:10 DEBUG : snps.bam: Uploading segment 10485760/467298671 size 10485760
2019/05/30 23:38:11 DEBUG : snps.bam: Uploading segment 20971520/467298671 size 10485760
2019/05/30 23:38:11 INFO  : snps.aligned.fa: Copied (new)
2019/05/30 23:38:12 INFO  : snps.csv: Copied (new)
2019/05/30 23:38:12 INFO  : snps.consensus.subs.fa: Copied (new)
2019/05/30 23:38:12 DEBUG : snps.bam: Uploading segment 31457280/467298671 size 10485760
2019/05/30 23:38:12 INFO  : snps.consensus.fa: Copied (new)
2019/05/30 23:38:12 INFO  : snps.filt.subs.vcf: Copied (new)
2019/05/30 23:38:13 DEBUG : snps.bam: Uploading segment 41943040/467298671 size 10485760
2019/05/30 23:38:13 INFO  : snps.depth.gz.tbi: Copied (new)
2019/05/30 23:38:13 INFO  : snps.filt.subs.vcf.gz: Copied (new)
2019/05/30 23:38:13 INFO  : snps.filt.subs.vcf.gz.tbi: Copied (new)
2019/05/30 23:38:13 DEBUG : snps.bam: Uploading segment 52428800/467298671 size 10485760
2019/05/30 23:38:13 INFO  : snps.depth.gz: Copied (new)
2019/05/30 23:38:13 INFO  : snps.filt.vcf: Copied (new)
2019/05/30 23:38:14 INFO  : snps.html: Copied (new)
2019/05/30 23:38:14 DEBUG : snps.bam: Uploading segment 62914560/467298671 size 10485760
2019/05/30 23:38:14 INFO  : snps.log: Copied (new)
2019/05/30 23:38:14 INFO  : snps.gff: Copied (new)
2019/05/30 23:38:14 INFO  : snps.txt: Copied (new)
2019/05/30 23:38:14 INFO  : snps.tab: Copied (new)
2019/05/30 23:38:15 INFO  : snps.raw.vcf: Copied (new)
2019/05/30 23:38:15 DEBUG : snps.bam: Uploading segment 73400320/467298671 size 10485760
2019/05/30 23:38:15 INFO  : snps.vcf: Copied (new)
2019/05/30 23:38:15 INFO  : snps.vcf.gz: Copied (new)
2019/05/30 23:38:15 INFO  : snps.vcf.gz.tbi: Copied (new)
2019/05/30 23:38:15 DEBUG : snps.bam: Uploading segment 83886080/467298671 size 10485760
2019/05/30 23:38:16 INFO  : reference/ref.fa.ann: Copied (new)
2019/05/30 23:38:17 INFO  : reference/ref.fa.amb: Copied (new)
2019/05/30 23:38:17 DEBUG : snps.bam: Uploading segment 94371840/467298671 size 10485760
2019/05/30 23:38:17 INFO  : reference/ref.fa: Copied (new)
2019/05/30 23:38:17 INFO  : reference/ref.fa.fai: Copied (new)
2019/05/30 23:38:18 DEBUG : snps.bam: Uploading segment 104857600/467298671 size 10485760
2019/05/30 23:38:18 INFO  : reference/ref.fa.bwt: Copied (new)
2019/05/30 23:38:18 INFO  : reference/ref.fa.pac: Copied (new)
2019/05/30 23:38:18 INFO  : One drive root 'africanum_analysis/snippy/SAMEA2340903': Waiting for checks to finish
2019/05/30 23:38:18 INFO  : One drive root 'africanum_analysis/snippy/SAMEA2340903': Waiting for transfers to finish
2019/05/30 23:38:19 INFO  : reference/ref.fa.sa: Copied (new)
2019/05/30 23:38:19 INFO  : reference/ref.txt: Copied (new)
2019/05/30 23:38:19 DEBUG : snps.bam: Uploading segment 115343360/467298671 size 10485760
2019/05/30 23:38:20 INFO  : reference/snpeff.config: Copied (new)
2019/05/30 23:38:20 INFO  : reference/ref/genes.gff.gz: Copied (new)
2019/05/30 23:38:20 DEBUG : snps.bam: Uploading segment 125829120/467298671 size 10485760
2019/05/30 23:38:20 INFO  : reference/ref.gff: Copied (new)
2019/05/30 23:38:21 DEBUG : snps.bam: Uploading segment 136314880/467298671 size 10485760
2019/05/30 23:38:21 DEBUG : snps.bam: Uploading segment 146800640/467298671 size 10485760
2019/05/30 23:38:21 INFO  : reference/ref/snpEffectPredictor.bin: Copied (new)
2019/05/30 23:38:22 INFO  : reference/genomes/ref.fa: Copied (new)
2019/05/30 23:38:22 DEBUG : snps.bam: Uploading segment 157286400/467298671 size 10485760
2019/05/30 23:38:23 DEBUG : snps.bam: Uploading segment 167772160/467298671 size 10485760
2019/05/30 23:38:24 DEBUG : snps.bam: Uploading segment 178257920/467298671 size 10485760
2019/05/30 23:38:25 DEBUG : snps.bam: Uploading segment 188743680/467298671 size 10485760
2019/05/30 23:38:25 DEBUG : snps.bam: Uploading segment 199229440/467298671 size 10485760
2019/05/30 23:38:26 DEBUG : snps.bam: Uploading segment 209715200/467298671 size 10485760
2019/05/30 23:38:27 DEBUG : snps.bam: Uploading segment 220200960/467298671 size 10485760
2019/05/30 23:38:28 DEBUG : snps.bam: Uploading segment 230686720/467298671 size 10485760
2019/05/30 23:38:29 DEBUG : snps.bam: Uploading segment 241172480/467298671 size 10485760
2019/05/30 23:38:29 DEBUG : snps.bam: Uploading segment 251658240/467298671 size 10485760
2019/05/30 23:38:30 DEBUG : snps.bam: Uploading segment 262144000/467298671 size 10485760
2019/05/30 23:38:31 DEBUG : snps.bam: Uploading segment 272629760/467298671 size 10485760
2019/05/30 23:38:31 DEBUG : snps.bam: Uploading segment 283115520/467298671 size 10485760
2019/05/30 23:38:32 DEBUG : snps.bam: Uploading segment 293601280/467298671 size 10485760
2019/05/30 23:38:32 DEBUG : snps.bam: Uploading segment 304087040/467298671 size 10485760
2019/05/30 23:38:33 DEBUG : snps.bam: Uploading segment 314572800/467298671 size 10485760
2019/05/30 23:38:34 DEBUG : snps.bam: Uploading segment 325058560/467298671 size 10485760
2019/05/30 23:38:34 DEBUG : snps.bam: Uploading segment 335544320/467298671 size 10485760
2019/05/30 23:38:35 DEBUG : snps.bam: Uploading segment 346030080/467298671 size 10485760
2019/05/30 23:38:35 DEBUG : snps.bam: Uploading segment 356515840/467298671 size 10485760
2019/05/30 23:38:36 DEBUG : snps.bam: Uploading segment 367001600/467298671 size 10485760
2019/05/30 23:38:37 DEBUG : snps.bam: Uploading segment 377487360/467298671 size 10485760
2019/05/30 23:38:37 DEBUG : snps.bam: Uploading segment 387973120/467298671 size 10485760
2019/05/30 23:38:38 DEBUG : snps.bam: Uploading segment 398458880/467298671 size 10485760
2019/05/30 23:38:40 DEBUG : snps.bam: Uploading segment 408944640/467298671 size 10485760
2019/05/30 23:38:40 DEBUG : snps.bam: Uploading segment 419430400/467298671 size 10485760
2019/05/30 23:38:41 DEBUG : snps.bam: Uploading segment 429916160/467298671 size 10485760
2019/05/30 23:38:41 DEBUG : snps.bam: Uploading segment 440401920/467298671 size 10485760
2019/05/30 23:38:42 DEBUG : snps.bam: Uploading segment 450887680/467298671 size 10485760
2019/05/30 23:38:43 DEBUG : snps.bam: Uploading segment 461373440/467298671 size 5925231
2019/05/30 23:38:44 INFO  : snps.bam: Copied (new)
2019/05/30 23:38:44 INFO  : 
Transferred:   483.387 MBytes (13.023 MBytes/s)
Errors:                 0
Checks:                 0
Transferred:           35
Elapsed time:       37.1s
2019/05/30 23:38:44 DEBUG : Go routines at exit 13
2019/05/30 23:38:44 DEBUG : rclone: Version "v1.36" finishing with parameters ["rclone" "copy" "./SAMEA2340903" "onedrive-em:africanum_analysis/snippy/SAMEA2340903" "-vv"]
[19:38:49] This is snippy 3.2-dev
[19:38:49] Written by Torsten Seemann <torsten.seemann@gmail.com>
[19:38:49] Obtained from https://github.com/tseemann/snippy
[19:38:49] Detected operating system: linux
[19:38:49] Enabling bundled linux tools.
[19:38:49] Found bwa - /opt/snippy/binaries/linux/bwa
[19:38:49] Found samtools - /opt/snippy/binaries/linux/samtools
[19:38:49] Found tabix - /opt/snippy/binaries/linux/tabix
[19:38:50] Found bgzip - /opt/snippy/binaries/linux/bgzip
[19:38:50] Found snpEff - /opt/snippy/binaries/noarch/snpEff
[19:38:50] Found java - /usr/bin/java
[19:38:50] Found gzip - /usr/bin/gzip
[19:38:50] Found parallel - /opt/snippy/binaries/noarch/parallel
[19:38:50] Found freebayes - /opt/snippy/binaries/linux/freebayes
[19:38:50] Found freebayes-parallel - /opt/snippy/binaries/noarch/freebayes-parallel
[19:38:50] Found fasta_generate_regions.py - /opt/snippy/binaries/noarch/fasta_generate_regions.py
[19:38:50] Found vcfstreamsort - /opt/snippy/binaries/linux/vcfstreamsort
[19:38:50] Found vcfuniq - /opt/snippy/binaries/linux/vcfuniq
[19:38:50] Found vcffirstheader - /opt/snippy/binaries/noarch/vcffirstheader
[19:38:50] Found vcf-consensus - /opt/snippy/binaries/noarch/vcf-consensus
[19:38:50] Found snippy-vcf_to_tab - /opt/snippy/bin/snippy-vcf_to_tab
[19:38:50] Found snippy-vcf_report - /opt/snippy/bin/snippy-vcf_report
[19:38:50] Found snippy-vcf_filter - /opt/snippy/bin/snippy-vcf_filter
[19:38:50] Checking version: samtools --version is >= 1.3 - ok, have 1.3
[19:38:50] Using reference: /vagrant/africanum_analysis/lab/NC000962_3.gbk
[19:38:50] Treating reference as 'genbank' format.
[19:38:50] Will use 4 CPU cores.
[19:38:50] Using read file: /vagrant/africanum_analysis/lab/SAMEA2340904_1.fastq.gz
[19:38:50] Using read file: /vagrant/africanum_analysis/lab/SAMEA2340904_2.fastq.gz
[19:38:50] Creating folder: SAMEA2340904
[19:38:50] Changing working directory: SAMEA2340904
[19:38:50] Creating reference folder: reference
[19:38:50] Extracting FASTA and GFF from reference.
[19:39:07] Wrote 1 sequences to ref.fa
[19:39:07] Wrote 4416 features to ref.gff
[19:39:07] Creating reference/snpeff.config
[19:39:07] Freebayes will process 16 chunks of 280319 bp, 4 chunks at a time.
[19:39:07] Using BAM RG (Read Group) ID: snps
[19:39:07] Running: samtools faidx reference/ref.fa 2>> snps.log
[19:39:07] Running: bwa index reference/ref.fa 2>> snps.log
[19:39:15] Running: mkdir reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[19:39:15] Running: mkdir reference/ref && bgzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[19:39:15] Running: snpEff build -c reference/snpeff.config -dataDir . -gff3 ref 2>> snps.log
[19:39:25] Running: (bwa mem  -v 2 -M -R '@RG\tID:snps\tSM:snps' -t 4 reference/ref.fa /vagrant/africanum_analysis/lab/SAMEA2340904_1.fastq.gz /vagrant/africanum_analysis/lab/SAMEA2340904_2.fastq.gz | samtools sort --reference reference/ref.fa > snps.bam) 2>> snps.log
[19:49:23] Running: samtools index snps.bam 2>> snps.log
[19:49:42] Running: samtools depth -q 20 snps.bam | bgzip > snps.depth.gz 2>> snps.log
[19:50:01] Running: tabix -s 1 -b 2 -e 2 snps.depth.gz 2>> snps.log
[19:50:01] Running: fasta_generate_regions.py reference/ref.fa.fai 280319 > reference/ref.txt 2>> snps.log
[19:50:01] Running: freebayes-parallel reference/ref.txt 4 -p 1 -q 20 -m 60 --min-coverage 10 -V -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[19:50:10] Running: /opt/snippy/bin/snippy-vcf_filter --minqual 10 --mincov 10 --minfrac 0.9  snps.raw.vcf > snps.filt.vcf 2>> snps.log
[19:50:10] Running: snpEff ann -no-downstream -no-upstream -no-intergenic -no-utr -c reference/snpeff.config -dataDir . -noStats ref snps.filt.vcf > snps.vcf 2>> snps.log
[19:50:16] Running: bgzip -c snps.vcf > snps.vcf.gz 2>> snps.log
[19:50:16] Running: tabix -p vcf snps.vcf.gz 2>> snps.log
[19:50:17] Running: /opt/snippy/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[19:50:35] Running: vcf-consensus snps.vcf.gz < reference/ref.fa > snps.consensus.fa 2>> snps.log
[19:50:38] Running: /opt/snippy/bin/snippy-vcf_filter --subs snps.filt.vcf > snps.filt.subs.vcf 2>> snps.log
[19:50:38] Running: bgzip -c snps.filt.subs.vcf > snps.filt.subs.vcf.gz 2>> snps.log
[19:50:38] Running: tabix -p vcf snps.filt.subs.vcf.gz 2>> snps.log
[19:50:38] Running: vcf-consensus snps.filt.subs.vcf.gz < reference/ref.fa > snps.consensus.subs.fa 2>> snps.log
[19:50:42] Generating aligned/masked FASTA relative to reference: snps.aligned.fa
[19:50:45] Creating extra output files: BED GFF CSV TXT HTML
[19:50:45] Identified 132 variants.
[19:50:45] Result folder: SAMEA2340904
[19:50:45] Result files:
[19:50:45] * SAMEA2340904/snps.aligned.fa
[19:50:45] * SAMEA2340904/snps.bam
[19:50:45] * SAMEA2340904/snps.bam.bai
[19:50:45] * SAMEA2340904/snps.bed
[19:50:45] * SAMEA2340904/snps.consensus.fa
[19:50:45] * SAMEA2340904/snps.consensus.subs.fa
[19:50:45] * SAMEA2340904/snps.csv
[19:50:45] * SAMEA2340904/snps.depth.gz
[19:50:45] * SAMEA2340904/snps.depth.gz.tbi
[19:50:45] * SAMEA2340904/snps.filt.subs.vcf
[19:50:45] * SAMEA2340904/snps.filt.subs.vcf.gz
[19:50:45] * SAMEA2340904/snps.filt.subs.vcf.gz.tbi
[19:50:45] * SAMEA2340904/snps.filt.vcf
[19:50:45] * SAMEA2340904/snps.gff
[19:50:45] * SAMEA2340904/snps.html
[19:50:45] * SAMEA2340904/snps.log
[19:50:45] * SAMEA2340904/snps.raw.vcf
[19:50:45] * SAMEA2340904/snps.tab
[19:50:45] * SAMEA2340904/snps.txt
[19:50:45] * SAMEA2340904/snps.vcf
[19:50:45] * SAMEA2340904/snps.vcf.gz
[19:50:45] * SAMEA2340904/snps.vcf.gz.tbi
[19:50:45] Walltime used: 11 minutes, 56 seconds
[19:50:45] Did you know? Snippy is a combination of SNP, Skippy, and snappy.
[19:50:45] Done.
2019/05/30 23:50:45 DEBUG : rclone: Version "v1.36" starting with parameters ["rclone" "copy" "./SAMEA2340904" "onedrive-em:africanum_analysis/snippy/SAMEA2340904" "-vv"]
2019/05/30 23:50:47 INFO  : One drive root 'africanum_analysis/snippy/SAMEA2340904': Modify window is 1s
2019/05/30 23:51:06 DEBUG : Couldn't decode error response: invalid character '<' looking for beginning of value
2019/05/30 23:51:06 DEBUG : pacer: Rate limited, increasing sleep to 20ms
2019/05/30 23:51:06 DEBUG : pacer: low level retry 1/10 (error 503 Service Unavailable: )
2019/05/30 23:51:06 DEBUG : pacer: Reducing sleep to 15ms
2019/05/30 23:51:07 DEBUG : pacer: Reducing sleep to 11.25ms
2019/05/30 23:51:07 DEBUG : One drive root 'africanum_analysis/snippy/SAMEA2340904': Reading ""
2019/05/30 23:51:08 DEBUG : pacer: Reducing sleep to 10ms
2019/05/30 23:51:08 DEBUG : One drive root 'africanum_analysis/snippy/SAMEA2340904': Finished reading ""
2019/05/30 23:51:08 DEBUG : snps.bam: Starting multipart upload
2019/05/30 23:51:08 DEBUG : snps.bam: Uploading segment 0/421039414 size 10485760
2019/05/30 23:51:08 INFO  : snps.bam.bai: Copied (new)
2019/05/30 23:51:08 INFO  : snps.bed: Copied (new)
2019/05/30 23:51:09 DEBUG : snps.bam: Uploading segment 10485760/421039414 size 10485760
2019/05/30 23:51:09 DEBUG : snps.bam: Uploading segment 20971520/421039414 size 10485760
2019/05/30 23:51:10 INFO  : snps.consensus.fa: Copied (new)
2019/05/30 23:51:10 DEBUG : snps.bam: Uploading segment 31457280/421039414 size 10485760
2019/05/30 23:51:10 INFO  : snps.aligned.fa: Copied (new)
2019/05/30 23:51:10 INFO  : snps.csv: Copied (new)
2019/05/30 23:51:11 DEBUG : snps.bam: Uploading segment 41943040/421039414 size 10485760
2019/05/30 23:51:11 INFO  : snps.consensus.subs.fa: Copied (new)
2019/05/30 23:51:11 INFO  : snps.depth.gz.tbi: Copied (new)
2019/05/30 23:51:11 DEBUG : snps.bam: Uploading segment 52428800/421039414 size 10485760
2019/05/30 23:51:12 INFO  : snps.filt.subs.vcf.gz: Copied (new)
2019/05/30 23:51:12 DEBUG : snps.bam: Uploading segment 62914560/421039414 size 10485760
2019/05/30 23:51:12 INFO  : snps.depth.gz: Copied (new)
2019/05/30 23:51:12 INFO  : snps.filt.subs.vcf: Copied (new)
2019/05/30 23:51:12 INFO  : snps.filt.subs.vcf.gz.tbi: Copied (new)
2019/05/30 23:51:13 INFO  : snps.gff: Copied (new)
2019/05/30 23:51:13 INFO  : snps.html: Copied (new)
2019/05/30 23:51:13 INFO  : snps.log: Copied (new)
2019/05/30 23:51:14 INFO  : snps.raw.vcf: Copied (new)
2019/05/30 23:51:14 INFO  : snps.filt.vcf: Copied (new)
2019/05/30 23:51:14 INFO  : snps.tab: Copied (new)
2019/05/30 23:51:14 DEBUG : snps.bam: Uploading segment 73400320/421039414 size 10485760
2019/05/30 23:51:14 INFO  : snps.txt: Copied (new)
2019/05/30 23:51:14 INFO  : snps.vcf.gz: Copied (new)
2019/05/30 23:51:15 INFO  : snps.vcf.gz.tbi: Copied (new)
2019/05/30 23:51:15 INFO  : snps.vcf: Copied (new)
2019/05/30 23:51:15 INFO  : reference/ref.fa.amb: Copied (new)
2019/05/30 23:51:16 DEBUG : snps.bam: Uploading segment 83886080/421039414 size 10485760
2019/05/30 23:51:16 INFO  : reference/ref.fa.ann: Copied (new)
2019/05/30 23:51:16 INFO  : reference/ref.fa.fai: Copied (new)
2019/05/30 23:51:16 DEBUG : snps.bam: Uploading segment 94371840/421039414 size 10485760
2019/05/30 23:51:17 INFO  : reference/ref.fa: Copied (new)
2019/05/30 23:51:17 DEBUG : snps.bam: Uploading segment 104857600/421039414 size 10485760
2019/05/30 23:51:17 INFO  : reference/ref.fa.bwt: Copied (new)
2019/05/30 23:51:18 DEBUG : snps.bam: Uploading segment 115343360/421039414 size 10485760
2019/05/30 23:51:18 INFO  : reference/ref.fa.sa: Copied (new)
2019/05/30 23:51:18 INFO  : One drive root 'africanum_analysis/snippy/SAMEA2340904': Waiting for checks to finish
2019/05/30 23:51:18 INFO  : One drive root 'africanum_analysis/snippy/SAMEA2340904': Waiting for transfers to finish
2019/05/30 23:51:19 INFO  : reference/ref.fa.pac: Copied (new)
2019/05/30 23:51:19 INFO  : reference/ref.txt: Copied (new)
2019/05/30 23:51:19 DEBUG : snps.bam: Uploading segment 125829120/421039414 size 10485760
2019/05/30 23:51:19 INFO  : reference/ref.gff: Copied (new)
2019/05/30 23:51:19 INFO  : reference/snpeff.config: Copied (new)
2019/05/30 23:51:20 DEBUG : snps.bam: Uploading segment 136314880/421039414 size 10485760
2019/05/30 23:51:20 DEBUG : snps.bam: Uploading segment 146800640/421039414 size 10485760
2019/05/30 23:51:21 DEBUG : snps.bam: Uploading segment 157286400/421039414 size 10485760
2019/05/30 23:51:21 INFO  : reference/genomes/ref.fa: Copied (new)
2019/05/30 23:51:21 INFO  : reference/ref/snpEffectPredictor.bin: Copied (new)
2019/05/30 23:51:21 INFO  : reference/ref/genes.gff.gz: Copied (new)
2019/05/30 23:51:21 DEBUG : snps.bam: Uploading segment 167772160/421039414 size 10485760
2019/05/30 23:51:22 DEBUG : snps.bam: Uploading segment 178257920/421039414 size 10485760
2019/05/30 23:51:23 DEBUG : snps.bam: Uploading segment 188743680/421039414 size 10485760
2019/05/30 23:51:23 DEBUG : snps.bam: Uploading segment 199229440/421039414 size 10485760
2019/05/30 23:51:24 DEBUG : snps.bam: Uploading segment 209715200/421039414 size 10485760
2019/05/30 23:51:24 DEBUG : snps.bam: Uploading segment 220200960/421039414 size 10485760
2019/05/30 23:51:25 DEBUG : snps.bam: Uploading segment 230686720/421039414 size 10485760
2019/05/30 23:51:26 DEBUG : snps.bam: Uploading segment 241172480/421039414 size 10485760
2019/05/30 23:51:26 DEBUG : snps.bam: Uploading segment 251658240/421039414 size 10485760
2019/05/30 23:51:27 DEBUG : snps.bam: Uploading segment 262144000/421039414 size 10485760
2019/05/30 23:51:27 DEBUG : snps.bam: Uploading segment 272629760/421039414 size 10485760
2019/05/30 23:51:28 DEBUG : snps.bam: Uploading segment 283115520/421039414 size 10485760
2019/05/30 23:51:29 DEBUG : snps.bam: Uploading segment 293601280/421039414 size 10485760
2019/05/30 23:51:30 DEBUG : snps.bam: Uploading segment 304087040/421039414 size 10485760
2019/05/30 23:51:30 DEBUG : snps.bam: Uploading segment 314572800/421039414 size 10485760
2019/05/30 23:51:31 DEBUG : snps.bam: Uploading segment 325058560/421039414 size 10485760
2019/05/30 23:51:31 DEBUG : snps.bam: Uploading segment 335544320/421039414 size 10485760
2019/05/30 23:51:32 DEBUG : snps.bam: Uploading segment 346030080/421039414 size 10485760
2019/05/30 23:51:32 DEBUG : snps.bam: Uploading segment 356515840/421039414 size 10485760
2019/05/30 23:51:33 DEBUG : snps.bam: Uploading segment 367001600/421039414 size 10485760
2019/05/30 23:51:35 DEBUG : snps.bam: Uploading segment 377487360/421039414 size 10485760
2019/05/30 23:51:36 DEBUG : snps.bam: Uploading segment 387973120/421039414 size 10485760
2019/05/30 23:51:36 DEBUG : snps.bam: Uploading segment 398458880/421039414 size 10485760
2019/05/30 23:51:37 DEBUG : snps.bam: Uploading segment 408944640/421039414 size 10485760
2019/05/30 23:51:37 DEBUG : snps.bam: Uploading segment 419430400/421039414 size 1609014
2019/05/30 23:51:38 INFO  : snps.bam: Copied (new)
2019/05/30 23:51:38 INFO  : 
Transferred:   439.143 MBytes (8.247 MBytes/s)
Errors:                 0
Checks:                 0
Transferred:           35
Elapsed time:       53.2s
2019/05/30 23:51:38 DEBUG : Go routines at exit 13
2019/05/30 23:51:38 DEBUG : rclone: Version "v1.36" finishing with parameters ["rclone" "copy" "./SAMEA2340904" "onedrive-em:africanum_analysis/snippy/SAMEA2340904" "-vv"]
[19:51:43] This is snippy 3.2-dev
[19:51:43] Written by Torsten Seemann <torsten.seemann@gmail.com>
[19:51:43] Obtained from https://github.com/tseemann/snippy
[19:51:43] Detected operating system: linux
[19:51:43] Enabling bundled linux tools.
[19:51:43] Found bwa - /opt/snippy/binaries/linux/bwa
[19:51:43] Found samtools - /opt/snippy/binaries/linux/samtools
[19:51:43] Found tabix - /opt/snippy/binaries/linux/tabix
[19:51:44] Found bgzip - /opt/snippy/binaries/linux/bgzip
[19:51:44] Found snpEff - /opt/snippy/binaries/noarch/snpEff
[19:51:44] Found java - /usr/bin/java
[19:51:44] Found gzip - /usr/bin/gzip
[19:51:44] Found parallel - /opt/snippy/binaries/noarch/parallel
[19:51:44] Found freebayes - /opt/snippy/binaries/linux/freebayes
[19:51:44] Found freebayes-parallel - /opt/snippy/binaries/noarch/freebayes-parallel
[19:51:44] Found fasta_generate_regions.py - /opt/snippy/binaries/noarch/fasta_generate_regions.py
[19:51:44] Found vcfstreamsort - /opt/snippy/binaries/linux/vcfstreamsort
[19:51:44] Found vcfuniq - /opt/snippy/binaries/linux/vcfuniq
[19:51:44] Found vcffirstheader - /opt/snippy/binaries/noarch/vcffirstheader
[19:51:44] Found vcf-consensus - /opt/snippy/binaries/noarch/vcf-consensus
[19:51:44] Found snippy-vcf_to_tab - /opt/snippy/bin/snippy-vcf_to_tab
[19:51:44] Found snippy-vcf_report - /opt/snippy/bin/snippy-vcf_report
[19:51:44] Found snippy-vcf_filter - /opt/snippy/bin/snippy-vcf_filter
[19:51:44] Checking version: samtools --version is >= 1.3 - ok, have 1.3
[19:51:44] Using reference: /vagrant/africanum_analysis/lab/NC000962_3.gbk
[19:51:44] Treating reference as 'genbank' format.
[19:51:44] Will use 4 CPU cores.
[19:51:44] Using read file: /vagrant/africanum_analysis/lab/SAMEA2340905_1.fastq.gz
[19:51:44] Using read file: /vagrant/africanum_analysis/lab/SAMEA2340905_2.fastq.gz
[19:51:44] Creating folder: SAMEA2340905
[19:51:44] Changing working directory: SAMEA2340905
[19:51:44] Creating reference folder: reference
[19:51:44] Extracting FASTA and GFF from reference.
[19:52:00] Wrote 1 sequences to ref.fa
[19:52:00] Wrote 4416 features to ref.gff
[19:52:00] Creating reference/snpeff.config
[19:52:01] Freebayes will process 16 chunks of 280319 bp, 4 chunks at a time.
[19:52:01] Using BAM RG (Read Group) ID: snps
[19:52:01] Running: samtools faidx reference/ref.fa 2>> snps.log
[19:52:01] Running: bwa index reference/ref.fa 2>> snps.log
[19:52:09] Running: mkdir reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[19:52:09] Running: mkdir reference/ref && bgzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[19:52:09] Running: snpEff build -c reference/snpeff.config -dataDir . -gff3 ref 2>> snps.log
[19:52:18] Running: (bwa mem  -v 2 -M -R '@RG\tID:snps\tSM:snps' -t 4 reference/ref.fa /vagrant/africanum_analysis/lab/SAMEA2340905_1.fastq.gz /vagrant/africanum_analysis/lab/SAMEA2340905_2.fastq.gz | samtools sort --reference reference/ref.fa > snps.bam) 2>> snps.log
[20:02:52] Running: samtools index snps.bam 2>> snps.log
[20:03:11] Running: samtools depth -q 20 snps.bam | bgzip > snps.depth.gz 2>> snps.log
[20:03:32] Running: tabix -s 1 -b 2 -e 2 snps.depth.gz 2>> snps.log
[20:03:32] Running: fasta_generate_regions.py reference/ref.fa.fai 280319 > reference/ref.txt 2>> snps.log
[20:03:32] Running: freebayes-parallel reference/ref.txt 4 -p 1 -q 20 -m 60 --min-coverage 10 -V -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[20:03:43] Running: /opt/snippy/bin/snippy-vcf_filter --minqual 10 --mincov 10 --minfrac 0.9  snps.raw.vcf > snps.filt.vcf 2>> snps.log
[20:03:44] Running: snpEff ann -no-downstream -no-upstream -no-intergenic -no-utr -c reference/snpeff.config -dataDir . -noStats ref snps.filt.vcf > snps.vcf 2>> snps.log
[20:03:50] Running: bgzip -c snps.vcf > snps.vcf.gz 2>> snps.log
[20:03:50] Running: tabix -p vcf snps.vcf.gz 2>> snps.log
[20:03:50] Running: /opt/snippy/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[20:04:08] Running: vcf-consensus snps.vcf.gz < reference/ref.fa > snps.consensus.fa 2>> snps.log
[20:04:11] Running: /opt/snippy/bin/snippy-vcf_filter --subs snps.filt.vcf > snps.filt.subs.vcf 2>> snps.log
[20:04:11] Running: bgzip -c snps.filt.subs.vcf > snps.filt.subs.vcf.gz 2>> snps.log
[20:04:11] Running: tabix -p vcf snps.filt.subs.vcf.gz 2>> snps.log
[20:04:12] Running: vcf-consensus snps.filt.subs.vcf.gz < reference/ref.fa > snps.consensus.subs.fa 2>> snps.log
[20:04:15] Generating aligned/masked FASTA relative to reference: snps.aligned.fa
[20:04:20] Creating extra output files: BED GFF CSV TXT HTML
[20:04:20] Identified 136 variants.
[20:04:20] Result folder: SAMEA2340905
[20:04:20] Result files:
[20:04:20] * SAMEA2340905/snps.aligned.fa
[20:04:20] * SAMEA2340905/snps.bam
[20:04:20] * SAMEA2340905/snps.bam.bai
[20:04:20] * SAMEA2340905/snps.bed
[20:04:20] * SAMEA2340905/snps.consensus.fa
[20:04:20] * SAMEA2340905/snps.consensus.subs.fa
[20:04:20] * SAMEA2340905/snps.csv
[20:04:20] * SAMEA2340905/snps.depth.gz
[20:04:20] * SAMEA2340905/snps.depth.gz.tbi
[20:04:20] * SAMEA2340905/snps.filt.subs.vcf
[20:04:20] * SAMEA2340905/snps.filt.subs.vcf.gz
[20:04:20] * SAMEA2340905/snps.filt.subs.vcf.gz.tbi
[20:04:20] * SAMEA2340905/snps.filt.vcf
[20:04:20] * SAMEA2340905/snps.gff
[20:04:20] * SAMEA2340905/snps.html
[20:04:20] * SAMEA2340905/snps.log
[20:04:20] * SAMEA2340905/snps.raw.vcf
[20:04:20] * SAMEA2340905/snps.tab
[20:04:20] * SAMEA2340905/snps.txt
[20:04:20] * SAMEA2340905/snps.vcf
[20:04:20] * SAMEA2340905/snps.vcf.gz
[20:04:20] * SAMEA2340905/snps.vcf.gz.tbi
[20:04:20] Walltime used: 12 minutes, 37 seconds
[20:04:20] Found a bug? Post it at https://github.com/tseemann/snippy/issues
[20:04:20] Done.
2019/05/31 00:04:20 DEBUG : rclone: Version "v1.36" starting with parameters ["rclone" "copy" "./SAMEA2340905" "onedrive-em:africanum_analysis/snippy/SAMEA2340905" "-vv"]
2019/05/31 00:04:22 INFO  : One drive root 'africanum_analysis/snippy/SAMEA2340905': Modify window is 1s
2019/05/31 00:04:22 DEBUG : One drive root 'africanum_analysis/snippy/SAMEA2340905': Reading ""
2019/05/31 00:04:22 DEBUG : One drive root 'africanum_analysis/snippy/SAMEA2340905': Finished reading ""
2019/05/31 00:04:22 DEBUG : snps.bam: Starting multipart upload
2019/05/31 00:04:23 DEBUG : snps.bam: Uploading segment 0/446524644 size 10485760
2019/05/31 00:04:23 INFO  : snps.bam.bai: Copied (new)
2019/05/31 00:04:23 INFO  : snps.bed: Copied (new)
2019/05/31 00:04:23 DEBUG : snps.bam: Uploading segment 10485760/446524644 size 10485760
2019/05/31 00:04:24 INFO  : snps.aligned.fa: Copied (new)
2019/05/31 00:04:25 INFO  : snps.consensus.subs.fa: Copied (new)
2019/05/31 00:04:25 DEBUG : snps.bam: Uploading segment 20971520/446524644 size 10485760
2019/05/31 00:04:25 INFO  : snps.csv: Copied (new)
2019/05/31 00:04:25 DEBUG : snps.bam: Uploading segment 31457280/446524644 size 10485760
2019/05/31 00:04:25 INFO  : snps.consensus.fa: Copied (new)
2019/05/31 00:04:26 INFO  : snps.depth.gz: Copied (new)
2019/05/31 00:04:26 INFO  : snps.depth.gz.tbi: Copied (new)
2019/05/31 00:04:26 INFO  : snps.filt.subs.vcf.gz: Copied (new)
2019/05/31 00:04:26 DEBUG : snps.bam: Uploading segment 41943040/446524644 size 10485760
2019/05/31 00:04:26 INFO  : snps.filt.subs.vcf: Copied (new)
2019/05/31 00:04:27 INFO  : snps.filt.vcf: Copied (new)
2019/05/31 00:04:27 INFO  : snps.filt.subs.vcf.gz.tbi: Copied (new)
2019/05/31 00:04:27 INFO  : snps.html: Copied (new)
2019/05/31 00:04:27 INFO  : snps.gff: Copied (new)
2019/05/31 00:04:27 INFO  : snps.log: Copied (new)
2019/05/31 00:04:27 DEBUG : snps.bam: Uploading segment 52428800/446524644 size 10485760
2019/05/31 00:04:28 INFO  : snps.txt: Copied (new)
2019/05/31 00:04:28 INFO  : snps.raw.vcf: Copied (new)
2019/05/31 00:04:28 INFO  : snps.tab: Copied (new)
2019/05/31 00:04:28 DEBUG : snps.bam: Uploading segment 62914560/446524644 size 10485760
2019/05/31 00:04:28 INFO  : snps.vcf.gz: Copied (new)
2019/05/31 00:04:29 INFO  : snps.vcf: Copied (new)
2019/05/31 00:04:29 INFO  : snps.vcf.gz.tbi: Copied (new)
2019/05/31 00:04:29 DEBUG : snps.bam: Uploading segment 73400320/446524644 size 10485760
2019/05/31 00:04:29 INFO  : reference/ref.fa.ann: Copied (new)
2019/05/31 00:04:29 DEBUG : snps.bam: Uploading segment 83886080/446524644 size 10485760
2019/05/31 00:04:29 INFO  : reference/ref.fa.amb: Copied (new)
2019/05/31 00:04:30 INFO  : reference/ref.fa.fai: Copied (new)
2019/05/31 00:04:30 DEBUG : snps.bam: Uploading segment 94371840/446524644 size 10485760
2019/05/31 00:04:31 INFO  : reference/ref.fa: Copied (new)
2019/05/31 00:04:31 DEBUG : snps.bam: Uploading segment 104857600/446524644 size 10485760
2019/05/31 00:04:31 INFO  : reference/ref.fa.pac: Copied (new)
2019/05/31 00:04:31 INFO  : reference/ref.fa.bwt: Copied (new)
2019/05/31 00:04:31 INFO  : One drive root 'africanum_analysis/snippy/SAMEA2340905': Waiting for checks to finish
2019/05/31 00:04:31 INFO  : One drive root 'africanum_analysis/snippy/SAMEA2340905': Waiting for transfers to finish
2019/05/31 00:04:31 DEBUG : snps.bam: Uploading segment 115343360/446524644 size 10485760
2019/05/31 00:04:32 DEBUG : snps.bam: Uploading segment 125829120/446524644 size 10485760
2019/05/31 00:04:32 INFO  : reference/ref.fa.sa: Copied (new)
2019/05/31 00:04:32 DEBUG : snps.bam: Uploading segment 136314880/446524644 size 10485760
2019/05/31 00:04:33 INFO  : reference/snpeff.config: Copied (new)
2019/05/31 00:04:33 INFO  : reference/ref.txt: Copied (new)
2019/05/31 00:04:33 DEBUG : snps.bam: Uploading segment 146800640/446524644 size 10485760
2019/05/31 00:04:33 INFO  : reference/ref.gff: Copied (new)
2019/05/31 00:04:34 DEBUG : snps.bam: Uploading segment 157286400/446524644 size 10485760
2019/05/31 00:04:34 DEBUG : snps.bam: Uploading segment 167772160/446524644 size 10485760
2019/05/31 00:04:35 DEBUG : snps.bam: Uploading segment 178257920/446524644 size 10485760
2019/05/31 00:04:36 INFO  : reference/ref/snpEffectPredictor.bin: Copied (new)
2019/05/31 00:04:36 INFO  : reference/ref/genes.gff.gz: Copied (new)
2019/05/31 00:04:36 INFO  : reference/genomes/ref.fa: Copied (new)
2019/05/31 00:04:37 DEBUG : snps.bam: Uploading segment 188743680/446524644 size 10485760
2019/05/31 00:04:37 DEBUG : snps.bam: Uploading segment 199229440/446524644 size 10485760
2019/05/31 00:04:38 DEBUG : snps.bam: Uploading segment 209715200/446524644 size 10485760
2019/05/31 00:04:38 DEBUG : snps.bam: Uploading segment 220200960/446524644 size 10485760
2019/05/31 00:04:39 DEBUG : snps.bam: Uploading segment 230686720/446524644 size 10485760
2019/05/31 00:04:40 DEBUG : snps.bam: Uploading segment 241172480/446524644 size 10485760
2019/05/31 00:04:40 DEBUG : snps.bam: Uploading segment 251658240/446524644 size 10485760
2019/05/31 00:04:41 DEBUG : snps.bam: Uploading segment 262144000/446524644 size 10485760
2019/05/31 00:04:43 DEBUG : snps.bam: Uploading segment 272629760/446524644 size 10485760
2019/05/31 00:04:43 DEBUG : snps.bam: Uploading segment 283115520/446524644 size 10485760
2019/05/31 00:04:45 DEBUG : snps.bam: Uploading segment 293601280/446524644 size 10485760
2019/05/31 00:04:45 DEBUG : snps.bam: Uploading segment 304087040/446524644 size 10485760
2019/05/31 00:04:46 DEBUG : snps.bam: Uploading segment 314572800/446524644 size 10485760
2019/05/31 00:04:47 DEBUG : snps.bam: Uploading segment 325058560/446524644 size 10485760
2019/05/31 00:04:47 DEBUG : snps.bam: Uploading segment 335544320/446524644 size 10485760
2019/05/31 00:04:48 DEBUG : snps.bam: Uploading segment 346030080/446524644 size 10485760
2019/05/31 00:04:49 DEBUG : snps.bam: Uploading segment 356515840/446524644 size 10485760
2019/05/31 00:04:49 DEBUG : snps.bam: Uploading segment 367001600/446524644 size 10485760
2019/05/31 00:04:50 DEBUG : snps.bam: Uploading segment 377487360/446524644 size 10485760
2019/05/31 00:04:51 DEBUG : snps.bam: Uploading segment 387973120/446524644 size 10485760
2019/05/31 00:04:52 DEBUG : snps.bam: Uploading segment 398458880/446524644 size 10485760
2019/05/31 00:04:53 DEBUG : snps.bam: Uploading segment 408944640/446524644 size 10485760
2019/05/31 00:04:53 DEBUG : snps.bam: Uploading segment 419430400/446524644 size 10485760
2019/05/31 00:04:54 DEBUG : snps.bam: Uploading segment 429916160/446524644 size 10485760
2019/05/31 00:04:54 DEBUG : snps.bam: Uploading segment 440401920/446524644 size 6122724
2019/05/31 00:04:55 INFO  : snps.bam: Copied (new)
2019/05/31 00:04:55 INFO  : 
Transferred:   463.747 MBytes (13.106 MBytes/s)
Errors:                 0
Checks:                 0
Transferred:           35
Elapsed time:       35.3s
2019/05/31 00:04:55 DEBUG : Go routines at exit 13
2019/05/31 00:04:55 DEBUG : rclone: Version "v1.36" finishing with parameters ["rclone" "copy" "./SAMEA2340905" "onedrive-em:africanum_analysis/snippy/SAMEA2340905" "-vv"]
[20:05:00] This is snippy 3.2-dev
[20:05:00] Written by Torsten Seemann <torsten.seemann@gmail.com>
[20:05:00] Obtained from https://github.com/tseemann/snippy
[20:05:00] Detected operating system: linux
[20:05:00] Enabling bundled linux tools.
[20:05:00] Found bwa - /opt/snippy/binaries/linux/bwa
[20:05:00] Found samtools - /opt/snippy/binaries/linux/samtools
[20:05:01] Found tabix - /opt/snippy/binaries/linux/tabix
[20:05:01] Found bgzip - /opt/snippy/binaries/linux/bgzip
[20:05:01] Found snpEff - /opt/snippy/binaries/noarch/snpEff
[20:05:01] Found java - /usr/bin/java
[20:05:01] Found gzip - /usr/bin/gzip
[20:05:01] Found parallel - /opt/snippy/binaries/noarch/parallel
[20:05:01] Found freebayes - /opt/snippy/binaries/linux/freebayes
[20:05:01] Found freebayes-parallel - /opt/snippy/binaries/noarch/freebayes-parallel
[20:05:01] Found fasta_generate_regions.py - /opt/snippy/binaries/noarch/fasta_generate_regions.py
[20:05:01] Found vcfstreamsort - /opt/snippy/binaries/linux/vcfstreamsort
[20:05:01] Found vcfuniq - /opt/snippy/binaries/linux/vcfuniq
[20:05:01] Found vcffirstheader - /opt/snippy/binaries/noarch/vcffirstheader
[20:05:01] Found vcf-consensus - /opt/snippy/binaries/noarch/vcf-consensus
[20:05:01] Found snippy-vcf_to_tab - /opt/snippy/bin/snippy-vcf_to_tab
[20:05:01] Found snippy-vcf_report - /opt/snippy/bin/snippy-vcf_report
[20:05:01] Found snippy-vcf_filter - /opt/snippy/bin/snippy-vcf_filter
[20:05:01] Checking version: samtools --version is >= 1.3 - ok, have 1.3
[20:05:01] Using reference: /vagrant/africanum_analysis/lab/NC000962_3.gbk
[20:05:01] Treating reference as 'genbank' format.
[20:05:01] Will use 4 CPU cores.
[20:05:01] Using read file: /vagrant/africanum_analysis/lab/SAMEA2340907_1.fastq.gz
[20:05:01] Using read file: /vagrant/africanum_analysis/lab/SAMEA2340907_2.fastq.gz
[20:05:01] Creating folder: SAMEA2340907
[20:05:01] Changing working directory: SAMEA2340907
[20:05:01] Creating reference folder: reference
[20:05:01] Extracting FASTA and GFF from reference.
[20:05:18] Wrote 1 sequences to ref.fa
[20:05:18] Wrote 4416 features to ref.gff
[20:05:18] Creating reference/snpeff.config
[20:05:18] Freebayes will process 16 chunks of 280319 bp, 4 chunks at a time.
[20:05:18] Using BAM RG (Read Group) ID: snps
[20:05:18] Running: samtools faidx reference/ref.fa 2>> snps.log
[20:05:18] Running: bwa index reference/ref.fa 2>> snps.log
[20:05:26] Running: mkdir reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[20:05:26] Running: mkdir reference/ref && bgzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[20:05:26] Running: snpEff build -c reference/snpeff.config -dataDir . -gff3 ref 2>> snps.log
[20:05:36] Running: (bwa mem  -v 2 -M -R '@RG\tID:snps\tSM:snps' -t 4 reference/ref.fa /vagrant/africanum_analysis/lab/SAMEA2340907_1.fastq.gz /vagrant/africanum_analysis/lab/SAMEA2340907_2.fastq.gz | samtools sort --reference reference/ref.fa > snps.bam) 2>> snps.log
[20:13:22] Running: samtools index snps.bam 2>> snps.log
[20:13:36] Running: samtools depth -q 20 snps.bam | bgzip > snps.depth.gz 2>> snps.log
[20:14:19] Running: tabix -s 1 -b 2 -e 2 snps.depth.gz 2>> snps.log
[20:14:22] Running: fasta_generate_regions.py reference/ref.fa.fai 280319 > reference/ref.txt 2>> snps.log
[20:14:22] Running: freebayes-parallel reference/ref.txt 4 -p 1 -q 20 -m 60 --min-coverage 10 -V -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[20:20:35] Running: /opt/snippy/bin/snippy-vcf_filter --minqual 10 --mincov 10 --minfrac 0.9  snps.raw.vcf > snps.filt.vcf 2>> snps.log
[20:20:36] Running: snpEff ann -no-downstream -no-upstream -no-intergenic -no-utr -c reference/snpeff.config -dataDir . -noStats ref snps.filt.vcf > snps.vcf 2>> snps.log
[20:20:46] Running: bgzip -c snps.vcf > snps.vcf.gz 2>> snps.log
[20:20:46] Running: tabix -p vcf snps.vcf.gz 2>> snps.log
[20:20:46] Running: /opt/snippy/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[20:21:05] Running: vcf-consensus snps.vcf.gz < reference/ref.fa > snps.consensus.fa 2>> snps.log
[20:21:08] Running: /opt/snippy/bin/snippy-vcf_filter --subs snps.filt.vcf > snps.filt.subs.vcf 2>> snps.log
[20:21:09] Running: bgzip -c snps.filt.subs.vcf > snps.filt.subs.vcf.gz 2>> snps.log
[20:21:09] Running: tabix -p vcf snps.filt.subs.vcf.gz 2>> snps.log
[20:21:09] Running: vcf-consensus snps.filt.subs.vcf.gz < reference/ref.fa > snps.consensus.subs.fa 2>> snps.log
[20:21:13] Generating aligned/masked FASTA relative to reference: snps.aligned.fa
[20:21:36] Creating extra output files: BED GFF CSV TXT HTML
[20:21:37] Identified 2245 variants.
[20:21:37] Result folder: SAMEA2340907
[20:21:37] Result files:
[20:21:37] * SAMEA2340907/snps.aligned.fa
[20:21:37] * SAMEA2340907/snps.bam
[20:21:37] * SAMEA2340907/snps.bam.bai
[20:21:37] * SAMEA2340907/snps.bed
[20:21:37] * SAMEA2340907/snps.consensus.fa
[20:21:37] * SAMEA2340907/snps.consensus.subs.fa
[20:21:37] * SAMEA2340907/snps.csv
[20:21:37] * SAMEA2340907/snps.depth.gz
[20:21:37] * SAMEA2340907/snps.depth.gz.tbi
[20:21:37] * SAMEA2340907/snps.filt.subs.vcf
[20:21:37] * SAMEA2340907/snps.filt.subs.vcf.gz
[20:21:37] * SAMEA2340907/snps.filt.subs.vcf.gz.tbi
[20:21:37] * SAMEA2340907/snps.filt.vcf
[20:21:37] * SAMEA2340907/snps.gff
[20:21:37] * SAMEA2340907/snps.html
[20:21:37] * SAMEA2340907/snps.log
[20:21:37] * SAMEA2340907/snps.raw.vcf
[20:21:37] * SAMEA2340907/snps.tab
[20:21:37] * SAMEA2340907/snps.txt
[20:21:37] * SAMEA2340907/snps.vcf
[20:21:37] * SAMEA2340907/snps.vcf.gz
[20:21:37] * SAMEA2340907/snps.vcf.gz.tbi
[20:21:37] Walltime used: 16 minutes, 37 seconds
[20:21:37] May the SNPs be with you.
[20:21:37] Done.
2019/05/31 00:21:37 DEBUG : rclone: Version "v1.36" starting with parameters ["rclone" "copy" "./SAMEA2340907" "onedrive-em:africanum_analysis/snippy/SAMEA2340907" "-vv"]
2019/05/31 00:21:39 INFO  : One drive root 'africanum_analysis/snippy/SAMEA2340907': Modify window is 1s
2019/05/31 00:21:40 DEBUG : One drive root 'africanum_analysis/snippy/SAMEA2340907': Reading ""
2019/05/31 00:21:40 DEBUG : One drive root 'africanum_analysis/snippy/SAMEA2340907': Finished reading ""
2019/05/31 00:21:40 DEBUG : snps.bam: Starting multipart upload
2019/05/31 00:21:40 DEBUG : snps.bam: Uploading segment 0/314338685 size 10485760
2019/05/31 00:21:40 INFO  : snps.bed: Copied (new)
2019/05/31 00:21:41 INFO  : snps.bam.bai: Copied (new)
2019/05/31 00:21:41 DEBUG : snps.bam: Uploading segment 10485760/314338685 size 10485760
2019/05/31 00:21:41 DEBUG : snps.bam: Uploading segment 20971520/314338685 size 10485760
2019/05/31 00:21:42 INFO  : snps.aligned.fa: Copied (new)
2019/05/31 00:21:42 DEBUG : snps.bam: Uploading segment 31457280/314338685 size 10485760
2019/05/31 00:21:42 INFO  : snps.consensus.subs.fa: Copied (new)
2019/05/31 00:21:42 DEBUG : snps.depth.gz: Starting multipart upload
2019/05/31 00:21:43 DEBUG : snps.bam: Uploading segment 41943040/314338685 size 10485760
2019/05/31 00:21:43 DEBUG : snps.depth.gz: Uploading segment 0/15465253 size 10485760
2019/05/31 00:21:43 INFO  : snps.csv: Copied (new)
2019/05/31 00:21:43 INFO  : snps.consensus.fa: Copied (new)
2019/05/31 00:21:43 INFO  : snps.depth.gz.tbi: Copied (new)
2019/05/31 00:21:43 DEBUG : snps.bam: Uploading segment 52428800/314338685 size 10485760
2019/05/31 00:21:44 INFO  : snps.filt.subs.vcf.gz: Copied (new)
2019/05/31 00:21:44 DEBUG : snps.depth.gz: Uploading segment 10485760/15465253 size 4979493
2019/05/31 00:21:44 INFO  : snps.filt.subs.vcf: Copied (new)
2019/05/31 00:21:44 DEBUG : snps.bam: Uploading segment 62914560/314338685 size 10485760
2019/05/31 00:21:44 INFO  : snps.filt.subs.vcf.gz.tbi: Copied (new)
2019/05/31 00:21:45 DEBUG : snps.bam: Uploading segment 73400320/314338685 size 10485760
2019/05/31 00:21:45 INFO  : snps.depth.gz: Copied (new)
2019/05/31 00:21:45 DEBUG : snps.bam: Uploading segment 83886080/314338685 size 10485760
2019/05/31 00:21:45 INFO  : snps.gff: Copied (new)
2019/05/31 00:21:45 INFO  : snps.filt.vcf: Copied (new)
2019/05/31 00:21:46 INFO  : snps.log: Copied (new)
2019/05/31 00:21:46 DEBUG : snps.bam: Uploading segment 94371840/314338685 size 10485760
2019/05/31 00:21:46 INFO  : snps.html: Copied (new)
2019/05/31 00:21:47 INFO  : snps.raw.vcf: Copied (new)
2019/05/31 00:21:47 DEBUG : snps.bam: Uploading segment 104857600/314338685 size 10485760
2019/05/31 00:21:47 INFO  : snps.txt: Copied (new)
2019/05/31 00:21:47 INFO  : snps.tab: Copied (new)
2019/05/31 00:21:47 DEBUG : snps.bam: Uploading segment 115343360/314338685 size 10485760
2019/05/31 00:21:48 INFO  : snps.vcf.gz: Copied (new)
2019/05/31 00:21:48 INFO  : snps.vcf.gz.tbi: Copied (new)
2019/05/31 00:21:48 DEBUG : snps.bam: Uploading segment 125829120/314338685 size 10485760
2019/05/31 00:21:49 INFO  : reference/ref.fa.amb: Copied (new)
2019/05/31 00:21:49 INFO  : snps.vcf: Copied (new)
2019/05/31 00:21:49 INFO  : reference/ref.fa.ann: Copied (new)
2019/05/31 00:21:49 INFO  : reference/ref.fa: Copied (new)
2019/05/31 00:21:50 INFO  : reference/ref.fa.fai: Copied (new)
2019/05/31 00:21:50 DEBUG : snps.bam: Uploading segment 136314880/314338685 size 10485760
2019/05/31 00:21:50 INFO  : reference/ref.fa.pac: Copied (new)
2019/05/31 00:21:50 DEBUG : snps.bam: Uploading segment 146800640/314338685 size 10485760
2019/05/31 00:21:51 INFO  : reference/ref.fa.bwt: Copied (new)
2019/05/31 00:21:51 INFO  : One drive root 'africanum_analysis/snippy/SAMEA2340907': Waiting for checks to finish
2019/05/31 00:21:51 INFO  : One drive root 'africanum_analysis/snippy/SAMEA2340907': Waiting for transfers to finish
2019/05/31 00:21:51 INFO  : reference/ref.txt: Copied (new)
2019/05/31 00:21:51 DEBUG : snps.bam: Uploading segment 157286400/314338685 size 10485760
2019/05/31 00:21:51 INFO  : reference/ref.fa.sa: Copied (new)
2019/05/31 00:21:52 INFO  : reference/snpeff.config: Copied (new)
2019/05/31 00:21:52 DEBUG : snps.bam: Uploading segment 167772160/314338685 size 10485760
2019/05/31 00:21:52 DEBUG : snps.bam: Uploading segment 178257920/314338685 size 10485760
2019/05/31 00:21:53 INFO  : reference/ref.gff: Copied (new)
2019/05/31 00:21:53 DEBUG : snps.bam: Uploading segment 188743680/314338685 size 10485760
2019/05/31 00:21:53 INFO  : reference/ref/genes.gff.gz: Copied (new)
2019/05/31 00:21:53 DEBUG : snps.bam: Uploading segment 199229440/314338685 size 10485760
2019/05/31 00:21:54 INFO  : reference/ref/snpEffectPredictor.bin: Copied (new)
2019/05/31 00:21:54 INFO  : reference/genomes/ref.fa: Copied (new)
2019/05/31 00:21:54 DEBUG : snps.bam: Uploading segment 209715200/314338685 size 10485760
2019/05/31 00:21:55 DEBUG : snps.bam: Uploading segment 220200960/314338685 size 10485760
2019/05/31 00:21:56 DEBUG : snps.bam: Uploading segment 230686720/314338685 size 10485760
2019/05/31 00:21:56 DEBUG : snps.bam: Uploading segment 241172480/314338685 size 10485760
2019/05/31 00:21:57 DEBUG : snps.bam: Uploading segment 251658240/314338685 size 10485760
2019/05/31 00:21:57 DEBUG : snps.bam: Uploading segment 262144000/314338685 size 10485760
2019/05/31 00:21:58 DEBUG : snps.bam: Uploading segment 272629760/314338685 size 10485760
2019/05/31 00:21:59 DEBUG : snps.bam: Uploading segment 283115520/314338685 size 10485760
2019/05/31 00:21:59 DEBUG : snps.bam: Uploading segment 293601280/314338685 size 10485760
2019/05/31 00:22:00 DEBUG : snps.bam: Uploading segment 304087040/314338685 size 10251645
2019/05/31 00:22:02 INFO  : snps.bam: Copied (new)
2019/05/31 00:22:02 INFO  : 
Transferred:   356.299 MBytes (14.149 MBytes/s)
Errors:                 0
Checks:                 0
Transferred:           35
Elapsed time:       25.1s
2019/05/31 00:22:02 DEBUG : Go routines at exit 13
2019/05/31 00:22:02 DEBUG : rclone: Version "v1.36" finishing with parameters ["rclone" "copy" "./SAMEA2340907" "onedrive-em:africanum_analysis/snippy/SAMEA2340907" "-vv"]
vagrant ssh -c "cd /vagrant/africanum_analysis/lab/ && snippy --cpus 4 --outdir SAMEA1877266_L4 --ref NC000962_3.gbk  --R1 SAMEA1877266_L4_1.fastq.gz --R2 SAMEA1877266_L4_2.fastq.gz"
rclone copy ./SAMEA1877266_L4 onedrive-em:africanum_analysis/snippy/SAMEA1877266_L4 -vv
rm -rf SAMEA1877266_L4_1.fastq.gz && rm -rf SAMEA1877266_L4_2.fastq.gz && rm -rf SAMEA1877266_L4

 $$$$$$$$$$ 

vagrant ssh -c "cd /vagrant/africanum_analysis/lab/ && snippy --cpus 4 --outdir SAMEA1877285 --ref NC000962_3.gbk  --R1 SAMEA1877285_1.fastq.gz --R2 SAMEA1877285_2.fastq.gz"
rclone copy ./SAMEA1877285 onedrive-em:africanum_analysis/snippy/SAMEA1877285 -vv
rm -rf SAMEA1877285_1.fastq.gz && rm -rf SAMEA1877285_2.fastq.gz && rm -rf SAMEA1877285

 $$$$$$$$$$ 

vagrant ssh -c "cd /vagrant/africanum_analysis/lab/ && snippy --cpus 4 --outdir SAMEA2340874 --ref NC000962_3.gbk  --R1 SAMEA2340874_1.fastq.gz --R2 SAMEA2340874_2.fastq.gz"
rclone copy ./SAMEA2340874 onedrive-em:africanum_analysis/snippy/SAMEA2340874 -vv
rm -rf SAMEA2340874_1.fastq.gz && rm -rf SAMEA2340874_2.fastq.gz && rm -rf SAMEA2340874

 $$$$$$$$$$ 

vagrant ssh -c "cd /vagrant/africanum_analysis/lab/ && snippy --cpus 4 --outdir SAMEA2340875 --ref NC000962_3.gbk  --R1 SAMEA2340875_1.fastq.gz --R2 SAMEA2340875_2.fastq.gz"
rclone copy ./SAMEA2340875 onedrive-em:africanum_analysis/snippy/SAMEA2340875 -vv
rm -rf SAMEA2340875_1.fastq.gz && rm -rf SAMEA2340875_2.fastq.gz && rm -rf SAMEA2340875

 $$$$$$$$$$ 

vagrant ssh -c "cd /vagrant/africanum_analysis/lab/ && snippy --cpus 4 --outdir SAMEA2340876 --ref NC000962_3.gbk  --R1 SAMEA2340876_1.fastq.gz --R2 SAMEA2340876_2.fastq.gz"
rclone copy ./SAMEA2340876 onedrive-em:africanum_analysis/snippy/SAMEA2340876 -vv
rm -rf SAMEA2340876_1.fastq.gz && rm -rf SAMEA2340876_2.fastq.gz && rm -rf SAMEA2340876

 $$$$$$$$$$ 

vagrant ssh -c "cd /vagrant/africanum_analysis/lab/ && snippy --cpus 4 --outdir SAMEA2340880 --ref NC000962_3.gbk  --R1 SAMEA2340880_1.fastq.gz --R2 SAMEA2340880_2.fastq.gz"
rclone copy ./SAMEA2340880 onedrive-em:africanum_analysis/snippy/SAMEA2340880 -vv
rm -rf SAMEA2340880_1.fastq.gz && rm -rf SAMEA2340880_2.fastq.gz && rm -rf SAMEA2340880

 $$$$$$$$$$ 

vagrant ssh -c "cd /vagrant/africanum_analysis/lab/ && snippy --cpus 4 --outdir SAMEA2340881 --ref NC000962_3.gbk  --R1 SAMEA2340881_1.fastq.gz --R2 SAMEA2340881_2.fastq.gz"
rclone copy ./SAMEA2340881 onedrive-em:africanum_analysis/snippy/SAMEA2340881 -vv
rm -rf SAMEA2340881_1.fastq.gz && rm -rf SAMEA2340881_2.fastq.gz && rm -rf SAMEA2340881

 $$$$$$$$$$ 

vagrant ssh -c "cd /vagrant/africanum_analysis/lab/ && snippy --cpus 4 --outdir SAMEA2340882 --ref NC000962_3.gbk  --R1 SAMEA2340882_1.fastq.gz --R2 SAMEA2340882_2.fastq.gz"
rclone copy ./SAMEA2340882 onedrive-em:africanum_analysis/snippy/SAMEA2340882 -vv
rm -rf SAMEA2340882_1.fastq.gz && rm -rf SAMEA2340882_2.fastq.gz && rm -rf SAMEA2340882

 $$$$$$$$$$ 

vagrant ssh -c "cd /vagrant/africanum_analysis/lab/ && snippy --cpus 4 --outdir SAMEA2340888 --ref NC000962_3.gbk  --R1 SAMEA2340888_1.fastq.gz --R2 SAMEA2340888_2.fastq.gz"
rclone copy ./SAMEA2340888 onedrive-em:africanum_analysis/snippy/SAMEA2340888 -vv
rm -rf SAMEA2340888_1.fastq.gz && rm -rf SAMEA2340888_2.fastq.gz && rm -rf SAMEA2340888

 $$$$$$$$$$ 

vagrant ssh -c "cd /vagrant/africanum_analysis/lab/ && snippy --cpus 4 --outdir SAMEA2340889 --ref NC000962_3.gbk  --R1 SAMEA2340889_1.fastq.gz --R2 SAMEA2340889_2.fastq.gz"
rclone copy ./SAMEA2340889 onedrive-em:africanum_analysis/snippy/SAMEA2340889 -vv
rm -rf SAMEA2340889_1.fastq.gz && rm -rf SAMEA2340889_2.fastq.gz && rm -rf SAMEA2340889

 $$$$$$$$$$ 

vagrant ssh -c "cd /vagrant/africanum_analysis/lab/ && snippy --cpus 4 --outdir SAMEA2340890 --ref NC000962_3.gbk  --R1 SAMEA2340890_1.fastq.gz --R2 SAMEA2340890_2.fastq.gz"
rclone copy ./SAMEA2340890 onedrive-em:africanum_analysis/snippy/SAMEA2340890 -vv
rm -rf SAMEA2340890_1.fastq.gz && rm -rf SAMEA2340890_2.fastq.gz && rm -rf SAMEA2340890

 $$$$$$$$$$ 

vagrant ssh -c "cd /vagrant/africanum_analysis/lab/ && snippy --cpus 4 --outdir SAMEA2340891 --ref NC000962_3.gbk  --R1 SAMEA2340891_1.fastq.gz --R2 SAMEA2340891_2.fastq.gz"
rclone copy ./SAMEA2340891 onedrive-em:africanum_analysis/snippy/SAMEA2340891 -vv
rm -rf SAMEA2340891_1.fastq.gz && rm -rf SAMEA2340891_2.fastq.gz && rm -rf SAMEA2340891

 $$$$$$$$$$ 

vagrant ssh -c "cd /vagrant/africanum_analysis/lab/ && snippy --cpus 4 --outdir SAMEA2340892 --ref NC000962_3.gbk  --R1 SAMEA2340892_1.fastq.gz --R2 SAMEA2340892_2.fastq.gz"
rclone copy ./SAMEA2340892 onedrive-em:africanum_analysis/snippy/SAMEA2340892 -vv
rm -rf SAMEA2340892_1.fastq.gz && rm -rf SAMEA2340892_2.fastq.gz && rm -rf SAMEA2340892

 $$$$$$$$$$ 

vagrant ssh -c "cd /vagrant/africanum_analysis/lab/ && snippy --cpus 4 --outdir SAMEA2340893 --ref NC000962_3.gbk  --R1 SAMEA2340893_1.fastq.gz --R2 SAMEA2340893_2.fastq.gz"
rclone copy ./SAMEA2340893 onedrive-em:africanum_analysis/snippy/SAMEA2340893 -vv
rm -rf SAMEA2340893_1.fastq.gz && rm -rf SAMEA2340893_2.fastq.gz && rm -rf SAMEA2340893

 $$$$$$$$$$ 

vagrant ssh -c "cd /vagrant/africanum_analysis/lab/ && snippy --cpus 4 --outdir SAMEA2340894 --ref NC000962_3.gbk  --R1 SAMEA2340894_1.fastq.gz --R2 SAMEA2340894_2.fastq.gz"
rclone copy ./SAMEA2340894 onedrive-em:africanum_analysis/snippy/SAMEA2340894 -vv
rm -rf SAMEA2340894_1.fastq.gz && rm -rf SAMEA2340894_2.fastq.gz && rm -rf SAMEA2340894

 $$$$$$$$$$ 

vagrant ssh -c "cd /vagrant/africanum_analysis/lab/ && snippy --cpus 4 --outdir SAMEA2340896 --ref NC000962_3.gbk  --R1 SAMEA2340896_1.fastq.gz --R2 SAMEA2340896_2.fastq.gz"
rclone copy ./SAMEA2340896 onedrive-em:africanum_analysis/snippy/SAMEA2340896 -vv
rm -rf SAMEA2340896_1.fastq.gz && rm -rf SAMEA2340896_2.fastq.gz && rm -rf SAMEA2340896

 $$$$$$$$$$ 

vagrant ssh -c "cd /vagrant/africanum_analysis/lab/ && snippy --cpus 4 --outdir SAMEA2340897 --ref NC000962_3.gbk  --R1 SAMEA2340897_1.fastq.gz --R2 SAMEA2340897_2.fastq.gz"
rclone copy ./SAMEA2340897 onedrive-em:africanum_analysis/snippy/SAMEA2340897 -vv
rm -rf SAMEA2340897_1.fastq.gz && rm -rf SAMEA2340897_2.fastq.gz && rm -rf SAMEA2340897

 $$$$$$$$$$ 

vagrant ssh -c "cd /vagrant/africanum_analysis/lab/ && snippy --cpus 4 --outdir SAMEA2340900 --ref NC000962_3.gbk  --R1 SAMEA2340900_1.fastq.gz --R2 SAMEA2340900_2.fastq.gz"
rclone copy ./SAMEA2340900 onedrive-em:africanum_analysis/snippy/SAMEA2340900 -vv
rm -rf SAMEA2340900_1.fastq.gz && rm -rf SAMEA2340900_2.fastq.gz && rm -rf SAMEA2340900

 $$$$$$$$$$ 

vagrant ssh -c "cd /vagrant/africanum_analysis/lab/ && snippy --cpus 4 --outdir SAMEA2340901 --ref NC000962_3.gbk  --R1 SAMEA2340901_1.fastq.gz --R2 SAMEA2340901_2.fastq.gz"
rclone copy ./SAMEA2340901 onedrive-em:africanum_analysis/snippy/SAMEA2340901 -vv
rm -rf SAMEA2340901_1.fastq.gz && rm -rf SAMEA2340901_2.fastq.gz && rm -rf SAMEA2340901

 $$$$$$$$$$ 

vagrant ssh -c "cd /vagrant/africanum_analysis/lab/ && snippy --cpus 4 --outdir SAMEA2340903 --ref NC000962_3.gbk  --R1 SAMEA2340903_1.fastq.gz --R2 SAMEA2340903_2.fastq.gz"
rclone copy ./SAMEA2340903 onedrive-em:africanum_analysis/snippy/SAMEA2340903 -vv
rm -rf SAMEA2340903_1.fastq.gz && rm -rf SAMEA2340903_2.fastq.gz && rm -rf SAMEA2340903

 $$$$$$$$$$ 

vagrant ssh -c "cd /vagrant/africanum_analysis/lab/ && snippy --cpus 4 --outdir SAMEA2340904 --ref NC000962_3.gbk  --R1 SAMEA2340904_1.fastq.gz --R2 SAMEA2340904_2.fastq.gz"
rclone copy ./SAMEA2340904 onedrive-em:africanum_analysis/snippy/SAMEA2340904 -vv
rm -rf SAMEA2340904_1.fastq.gz && rm -rf SAMEA2340904_2.fastq.gz && rm -rf SAMEA2340904

 $$$$$$$$$$ 

vagrant ssh -c "cd /vagrant/africanum_analysis/lab/ && snippy --cpus 4 --outdir SAMEA2340905 --ref NC000962_3.gbk  --R1 SAMEA2340905_1.fastq.gz --R2 SAMEA2340905_2.fastq.gz"
rclone copy ./SAMEA2340905 onedrive-em:africanum_analysis/snippy/SAMEA2340905 -vv
rm -rf SAMEA2340905_1.fastq.gz && rm -rf SAMEA2340905_2.fastq.gz && rm -rf SAMEA2340905

 $$$$$$$$$$ 

vagrant ssh -c "cd /vagrant/africanum_analysis/lab/ && snippy --cpus 4 --outdir SAMEA2340907 --ref NC000962_3.gbk  --R1 SAMEA2340907_1.fastq.gz --R2 SAMEA2340907_2.fastq.gz"
rclone copy ./SAMEA2340907 onedrive-em:africanum_analysis/snippy/SAMEA2340907 -vv
rm -rf SAMEA2340907_1.fastq.gz && rm -rf SAMEA2340907_2.fastq.gz && rm -rf SAMEA2340907[20:22:07] This is snippy 3.2-dev
[20:22:07] Written by Torsten Seemann <torsten.seemann@gmail.com>
[20:22:07] Obtained from https://github.com/tseemann/snippy
[20:22:07] Detected operating system: linux
[20:22:07] Enabling bundled linux tools.
[20:22:07] Found bwa - /opt/snippy/binaries/linux/bwa
[20:22:07] Found samtools - /opt/snippy/binaries/linux/samtools
[20:22:07] Found tabix - /opt/snippy/binaries/linux/tabix
[20:22:07] Found bgzip - /opt/snippy/binaries/linux/bgzip
[20:22:07] Found snpEff - /opt/snippy/binaries/noarch/snpEff
[20:22:07] Found java - /usr/bin/java
[20:22:07] Found gzip - /usr/bin/gzip
[20:22:07] Found parallel - /opt/snippy/binaries/noarch/parallel
[20:22:07] Found freebayes - /opt/snippy/binaries/linux/freebayes
[20:22:07] Found freebayes-parallel - /opt/snippy/binaries/noarch/freebayes-parallel
[20:22:07] Found fasta_generate_regions.py - /opt/snippy/binaries/noarch/fasta_generate_regions.py
[20:22:07] Found vcfstreamsort - /opt/snippy/binaries/linux/vcfstreamsort
[20:22:07] Found vcfuniq - /opt/snippy/binaries/linux/vcfuniq
[20:22:07] Found vcffirstheader - /opt/snippy/binaries/noarch/vcffirstheader
[20:22:07] Found vcf-consensus - /opt/snippy/binaries/noarch/vcf-consensus
[20:22:07] Found snippy-vcf_to_tab - /opt/snippy/bin/snippy-vcf_to_tab
[20:22:07] Found snippy-vcf_report - /opt/snippy/bin/snippy-vcf_report
[20:22:07] Found snippy-vcf_filter - /opt/snippy/bin/snippy-vcf_filter
[20:22:07] Checking version: samtools --version is >= 1.3 - ok, have 1.3
[20:22:07] Using reference: /vagrant/africanum_analysis/lab/NC000962_3.gbk
[20:22:08] Treating reference as 'genbank' format.
[20:22:08] Will use 4 CPU cores.
[20:22:08] Using read file: /vagrant/africanum_analysis/lab/SAMEA2340908_1.fastq.gz
[20:22:08] Using read file: /vagrant/africanum_analysis/lab/SAMEA2340908_2.fastq.gz
[20:22:08] Creating folder: SAMEA2340908
[20:22:08] Changing working directory: SAMEA2340908
[20:22:08] Creating reference folder: reference
[20:22:08] Extracting FASTA and GFF from reference.
[20:22:24] Wrote 1 sequences to ref.fa
[20:22:24] Wrote 4416 features to ref.gff
[20:22:24] Creating reference/snpeff.config
[20:22:24] Freebayes will process 16 chunks of 280319 bp, 4 chunks at a time.
[20:22:24] Using BAM RG (Read Group) ID: snps
[20:22:24] Running: samtools faidx reference/ref.fa 2>> snps.log
[20:22:24] Running: bwa index reference/ref.fa 2>> snps.log
[20:22:32] Running: mkdir reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[20:22:33] Running: mkdir reference/ref && bgzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[20:22:33] Running: snpEff build -c reference/snpeff.config -dataDir . -gff3 ref 2>> snps.log
[20:22:42] Running: (bwa mem  -v 2 -M -R '@RG\tID:snps\tSM:snps' -t 4 reference/ref.fa /vagrant/africanum_analysis/lab/SAMEA2340908_1.fastq.gz /vagrant/africanum_analysis/lab/SAMEA2340908_2.fastq.gz | samtools sort --reference reference/ref.fa > snps.bam) 2>> snps.log
[20:31:41] Running: samtools index snps.bam 2>> snps.log
[20:31:56] Running: samtools depth -q 20 snps.bam | bgzip > snps.depth.gz 2>> snps.log
[20:32:51] Running: tabix -s 1 -b 2 -e 2 snps.depth.gz 2>> snps.log
[20:32:53] Running: fasta_generate_regions.py reference/ref.fa.fai 280319 > reference/ref.txt 2>> snps.log
[20:32:53] Running: freebayes-parallel reference/ref.txt 4 -p 1 -q 20 -m 60 --min-coverage 10 -V -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[20:40:18] Running: /opt/snippy/bin/snippy-vcf_filter --minqual 10 --mincov 10 --minfrac 0.9  snps.raw.vcf > snps.filt.vcf 2>> snps.log
[20:40:19] Running: snpEff ann -no-downstream -no-upstream -no-intergenic -no-utr -c reference/snpeff.config -dataDir . -noStats ref snps.filt.vcf > snps.vcf 2>> snps.log
[20:40:28] Running: bgzip -c snps.vcf > snps.vcf.gz 2>> snps.log
[20:40:28] Running: tabix -p vcf snps.vcf.gz 2>> snps.log
[20:40:28] Running: /opt/snippy/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[20:40:48] Running: vcf-consensus snps.vcf.gz < reference/ref.fa > snps.consensus.fa 2>> snps.log
[20:40:51] Running: /opt/snippy/bin/snippy-vcf_filter --subs snps.filt.vcf > snps.filt.subs.vcf 2>> snps.log
[20:40:52] Running: bgzip -c snps.filt.subs.vcf > snps.filt.subs.vcf.gz 2>> snps.log
[20:40:53] Running: tabix -p vcf snps.filt.subs.vcf.gz 2>> snps.log
[20:40:53] Running: vcf-consensus snps.filt.subs.vcf.gz < reference/ref.fa > snps.consensus.subs.fa 2>> snps.log
[20:40:56] Generating aligned/masked FASTA relative to reference: snps.aligned.fa
[20:41:19] Creating extra output files: BED GFF CSV TXT HTML
[20:41:19] Identified 2196 variants.
[20:41:19] Result folder: SAMEA2340908
[20:41:19] Result files:
[20:41:19] * SAMEA2340908/snps.aligned.fa
[20:41:19] * SAMEA2340908/snps.bam
[20:41:19] * SAMEA2340908/snps.bam.bai
[20:41:19] * SAMEA2340908/snps.bed
[20:41:19] * SAMEA2340908/snps.consensus.fa
[20:41:19] * SAMEA2340908/snps.consensus.subs.fa
[20:41:19] * SAMEA2340908/snps.csv
[20:41:19] * SAMEA2340908/snps.depth.gz
[20:41:19] * SAMEA2340908/snps.depth.gz.tbi
[20:41:19] * SAMEA2340908/snps.filt.subs.vcf
[20:41:19] * SAMEA2340908/snps.filt.subs.vcf.gz
[20:41:19] * SAMEA2340908/snps.filt.subs.vcf.gz.tbi
[20:41:19] * SAMEA2340908/snps.filt.vcf
[20:41:19] * SAMEA2340908/snps.gff
[20:41:19] * SAMEA2340908/snps.html
[20:41:19] * SAMEA2340908/snps.log
[20:41:19] * SAMEA2340908/snps.raw.vcf
[20:41:19] * SAMEA2340908/snps.tab
[20:41:19] * SAMEA2340908/snps.txt
[20:41:19] * SAMEA2340908/snps.vcf
[20:41:19] * SAMEA2340908/snps.vcf.gz
[20:41:19] * SAMEA2340908/snps.vcf.gz.tbi
[20:41:19] Walltime used: 19 minutes, 12 seconds
[20:41:19] The Snippy manual is at https://github.com/tseemann/snippy/blob/master/README.md
[20:41:19] Done.
2019/05/31 00:41:19 DEBUG : rclone: Version "v1.36" starting with parameters ["rclone" "copy" "./SAMEA2340908" "onedrive-em:africanum_analysis/snippy/SAMEA2340908" "-vv"]
2019/05/31 00:41:20 DEBUG : onedrive-em: Saved new token in config file
2019/05/31 00:41:22 INFO  : One drive root 'africanum_analysis/snippy/SAMEA2340908': Modify window is 1s
2019/05/31 00:41:22 DEBUG : One drive root 'africanum_analysis/snippy/SAMEA2340908': Reading ""
2019/05/31 00:41:23 DEBUG : One drive root 'africanum_analysis/snippy/SAMEA2340908': Finished reading ""
2019/05/31 00:41:23 DEBUG : snps.bam: Starting multipart upload
2019/05/31 00:41:23 DEBUG : snps.bam: Uploading segment 0/366366811 size 10485760
2019/05/31 00:41:23 INFO  : snps.bam.bai: Copied (new)
2019/05/31 00:41:23 INFO  : snps.bed: Copied (new)
2019/05/31 00:41:24 INFO  : snps.aligned.fa: Copied (new)
2019/05/31 00:41:24 DEBUG : snps.bam: Uploading segment 10485760/366366811 size 10485760
2019/05/31 00:41:25 INFO  : snps.consensus.fa: Copied (new)
2019/05/31 00:41:25 DEBUG : snps.depth.gz: Starting multipart upload
2019/05/31 00:41:25 DEBUG : snps.depth.gz: Uploading segment 0/15601357 size 10485760
2019/05/31 00:41:25 INFO  : snps.csv: Copied (new)
2019/05/31 00:41:26 DEBUG : snps.bam: Uploading segment 20971520/366366811 size 10485760
2019/05/31 00:41:26 DEBUG : snps.depth.gz: Uploading segment 10485760/15601357 size 5115597
2019/05/31 00:41:26 DEBUG : snps.bam: Uploading segment 31457280/366366811 size 10485760
2019/05/31 00:41:26 INFO  : snps.consensus.subs.fa: Copied (new)
2019/05/31 00:41:26 INFO  : snps.depth.gz.tbi: Copied (new)
2019/05/31 00:41:27 INFO  : snps.filt.subs.vcf.gz: Copied (new)
2019/05/31 00:41:28 INFO  : snps.filt.subs.vcf: Copied (new)
2019/05/31 00:41:28 INFO  : snps.filt.subs.vcf.gz.tbi: Copied (new)
2019/05/31 00:41:28 INFO  : snps.depth.gz: Copied (new)
2019/05/31 00:41:28 DEBUG : snps.bam: Uploading segment 41943040/366366811 size 10485760
2019/05/31 00:41:29 INFO  : snps.filt.vcf: Copied (new)
2019/05/31 00:41:29 DEBUG : snps.bam: Uploading segment 52428800/366366811 size 10485760
2019/05/31 00:41:29 INFO  : snps.html: Copied (new)
2019/05/31 00:41:29 INFO  : snps.gff: Copied (new)
2019/05/31 00:41:29 INFO  : snps.log: Copied (new)
2019/05/31 00:41:30 DEBUG : snps.bam: Uploading segment 62914560/366366811 size 10485760
2019/05/31 00:41:30 INFO  : snps.tab: Copied (new)
2019/05/31 00:41:30 INFO  : snps.raw.vcf: Copied (new)
2019/05/31 00:41:30 INFO  : snps.txt: Copied (new)
2019/05/31 00:41:30 DEBUG : snps.bam: Uploading segment 73400320/366366811 size 10485760
2019/05/31 00:41:30 INFO  : snps.vcf.gz.tbi: Copied (new)
2019/05/31 00:41:31 DEBUG : snps.bam: Uploading segment 83886080/366366811 size 10485760
2019/05/31 00:41:31 INFO  : snps.vcf.gz: Copied (new)
2019/05/31 00:41:31 INFO  : snps.vcf: Copied (new)
2019/05/31 00:41:31 INFO  : reference/ref.fa.amb: Copied (new)
2019/05/31 00:41:32 INFO  : reference/ref.fa.ann: Copied (new)
2019/05/31 00:41:32 DEBUG : snps.bam: Uploading segment 94371840/366366811 size 10485760
2019/05/31 00:41:33 DEBUG : snps.bam: Uploading segment 104857600/366366811 size 10485760
2019/05/31 00:41:33 INFO  : reference/ref.fa: Copied (new)
2019/05/31 00:41:33 INFO  : reference/ref.fa.fai: Copied (new)
2019/05/31 00:41:33 INFO  : reference/ref.fa.bwt: Copied (new)
2019/05/31 00:41:33 DEBUG : snps.bam: Uploading segment 115343360/366366811 size 10485760
2019/05/31 00:41:34 INFO  : reference/ref.fa.sa: Copied (new)
2019/05/31 00:41:34 INFO  : One drive root 'africanum_analysis/snippy/SAMEA2340908': Waiting for checks to finish
2019/05/31 00:41:34 INFO  : One drive root 'africanum_analysis/snippy/SAMEA2340908': Waiting for transfers to finish
2019/05/31 00:41:34 DEBUG : snps.bam: Uploading segment 125829120/366366811 size 10485760
2019/05/31 00:41:34 INFO  : reference/ref.txt: Copied (new)
2019/05/31 00:41:34 INFO  : reference/ref.fa.pac: Copied (new)
2019/05/31 00:41:34 DEBUG : snps.bam: Uploading segment 136314880/366366811 size 10485760
2019/05/31 00:41:35 INFO  : reference/snpeff.config: Copied (new)
2019/05/31 00:41:35 DEBUG : snps.bam: Uploading segment 146800640/366366811 size 10485760
2019/05/31 00:41:36 INFO  : reference/ref.gff: Copied (new)
2019/05/31 00:41:36 DEBUG : snps.bam: Uploading segment 157286400/366366811 size 10485760
2019/05/31 00:41:36 INFO  : reference/ref/genes.gff.gz: Copied (new)
2019/05/31 00:41:37 INFO  : reference/genomes/ref.fa: Copied (new)
2019/05/31 00:41:37 DEBUG : snps.bam: Uploading segment 167772160/366366811 size 10485760
2019/05/31 00:41:37 INFO  : reference/ref/snpEffectPredictor.bin: Copied (new)
2019/05/31 00:41:38 DEBUG : snps.bam: Uploading segment 178257920/366366811 size 10485760
2019/05/31 00:41:39 DEBUG : snps.bam: Uploading segment 188743680/366366811 size 10485760
2019/05/31 00:41:39 DEBUG : snps.bam: Uploading segment 199229440/366366811 size 10485760
2019/05/31 00:41:40 DEBUG : snps.bam: Uploading segment 209715200/366366811 size 10485760
2019/05/31 00:41:41 DEBUG : snps.bam: Uploading segment 220200960/366366811 size 10485760
2019/05/31 00:41:41 DEBUG : snps.bam: Uploading segment 230686720/366366811 size 10485760
2019/05/31 00:41:42 DEBUG : snps.bam: Uploading segment 241172480/366366811 size 10485760
2019/05/31 00:41:42 DEBUG : snps.bam: Uploading segment 251658240/366366811 size 10485760
2019/05/31 00:41:43 DEBUG : snps.bam: Uploading segment 262144000/366366811 size 10485760
2019/05/31 00:41:44 DEBUG : snps.bam: Uploading segment 272629760/366366811 size 10485760
2019/05/31 00:41:44 DEBUG : snps.bam: Uploading segment 283115520/366366811 size 10485760
2019/05/31 00:41:45 DEBUG : snps.bam: Uploading segment 293601280/366366811 size 10485760
2019/05/31 00:41:45 DEBUG : snps.bam: Uploading segment 304087040/366366811 size 10485760
2019/05/31 00:41:46 DEBUG : snps.bam: Uploading segment 314572800/366366811 size 10485760
2019/05/31 00:41:47 DEBUG : snps.bam: Uploading segment 325058560/366366811 size 10485760
2019/05/31 00:41:48 DEBUG : snps.bam: Uploading segment 335544320/366366811 size 10485760
2019/05/31 00:41:49 DEBUG : snps.bam: Uploading segment 346030080/366366811 size 10485760
2019/05/31 00:41:51 DEBUG : snps.bam: Uploading segment 356515840/366366811 size 9850971
2019/05/31 00:41:52 INFO  : snps.bam: Copied (new)
2019/05/31 00:41:52 INFO  : 
Transferred:   405.940 MBytes (12.253 MBytes/s)
Errors:                 0
Checks:                 0
Transferred:           35
Elapsed time:       33.1s
2019/05/31 00:41:52 DEBUG : Go routines at exit 15
2019/05/31 00:41:52 DEBUG : rclone: Version "v1.36" finishing with parameters ["rclone" "copy" "./SAMEA2340908" "onedrive-em:africanum_analysis/snippy/SAMEA2340908" "-vv"]
[20:41:58] This is snippy 3.2-dev
[20:41:58] Written by Torsten Seemann <torsten.seemann@gmail.com>
[20:41:58] Obtained from https://github.com/tseemann/snippy
[20:41:58] Detected operating system: linux
[20:41:58] Enabling bundled linux tools.
[20:41:58] Found bwa - /opt/snippy/binaries/linux/bwa
[20:41:58] Found samtools - /opt/snippy/binaries/linux/samtools
[20:41:58] Found tabix - /opt/snippy/binaries/linux/tabix
[20:41:58] Found bgzip - /opt/snippy/binaries/linux/bgzip
[20:41:58] Found snpEff - /opt/snippy/binaries/noarch/snpEff
[20:41:58] Found java - /usr/bin/java
[20:41:58] Found gzip - /usr/bin/gzip
[20:41:58] Found parallel - /opt/snippy/binaries/noarch/parallel
[20:41:58] Found freebayes - /opt/snippy/binaries/linux/freebayes
[20:41:58] Found freebayes-parallel - /opt/snippy/binaries/noarch/freebayes-parallel
[20:41:58] Found fasta_generate_regions.py - /opt/snippy/binaries/noarch/fasta_generate_regions.py
[20:41:58] Found vcfstreamsort - /opt/snippy/binaries/linux/vcfstreamsort
[20:41:58] Found vcfuniq - /opt/snippy/binaries/linux/vcfuniq
[20:41:58] Found vcffirstheader - /opt/snippy/binaries/noarch/vcffirstheader
[20:41:58] Found vcf-consensus - /opt/snippy/binaries/noarch/vcf-consensus
[20:41:58] Found snippy-vcf_to_tab - /opt/snippy/bin/snippy-vcf_to_tab
[20:41:58] Found snippy-vcf_report - /opt/snippy/bin/snippy-vcf_report
[20:41:58] Found snippy-vcf_filter - /opt/snippy/bin/snippy-vcf_filter
[20:41:58] Checking version: samtools --version is >= 1.3 - ok, have 1.3
[20:41:58] Using reference: /vagrant/africanum_analysis/lab/NC000962_3.gbk
[20:41:58] Treating reference as 'genbank' format.
[20:41:58] Will use 4 CPU cores.
[20:41:58] Using read file: /vagrant/africanum_analysis/lab/SAMEA2340909_1.fastq.gz
[20:41:58] Using read file: /vagrant/africanum_analysis/lab/SAMEA2340909_2.fastq.gz
[20:41:58] Creating folder: SAMEA2340909
[20:41:58] Changing working directory: SAMEA2340909
[20:41:58] Creating reference folder: reference
[20:41:58] Extracting FASTA and GFF from reference.
[20:42:15] Wrote 1 sequences to ref.fa
[20:42:15] Wrote 4416 features to ref.gff
[20:42:15] Creating reference/snpeff.config
[20:42:15] Freebayes will process 16 chunks of 280319 bp, 4 chunks at a time.
[20:42:15] Using BAM RG (Read Group) ID: snps
[20:42:15] Running: samtools faidx reference/ref.fa 2>> snps.log
[20:42:15] Running: bwa index reference/ref.fa 2>> snps.log
[20:42:23] Running: mkdir reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[20:42:23] Running: mkdir reference/ref && bgzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[20:42:23] Running: snpEff build -c reference/snpeff.config -dataDir . -gff3 ref 2>> snps.log
[20:42:32] Running: (bwa mem  -v 2 -M -R '@RG\tID:snps\tSM:snps' -t 4 reference/ref.fa /vagrant/africanum_analysis/lab/SAMEA2340909_1.fastq.gz /vagrant/africanum_analysis/lab/SAMEA2340909_2.fastq.gz | samtools sort --reference reference/ref.fa > snps.bam) 2>> snps.log
[20:51:16] Running: samtools index snps.bam 2>> snps.log
[20:51:32] Running: samtools depth -q 20 snps.bam | bgzip > snps.depth.gz 2>> snps.log
[20:52:25] Running: tabix -s 1 -b 2 -e 2 snps.depth.gz 2>> snps.log
[20:52:27] Running: fasta_generate_regions.py reference/ref.fa.fai 280319 > reference/ref.txt 2>> snps.log
[20:52:27] Running: freebayes-parallel reference/ref.txt 4 -p 1 -q 20 -m 60 --min-coverage 10 -V -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[20:59:49] Running: /opt/snippy/bin/snippy-vcf_filter --minqual 10 --mincov 10 --minfrac 0.9  snps.raw.vcf > snps.filt.vcf 2>> snps.log
[20:59:50] Running: snpEff ann -no-downstream -no-upstream -no-intergenic -no-utr -c reference/snpeff.config -dataDir . -noStats ref snps.filt.vcf > snps.vcf 2>> snps.log
[20:59:59] Running: bgzip -c snps.vcf > snps.vcf.gz 2>> snps.log
[21:00:00] Running: tabix -p vcf snps.vcf.gz 2>> snps.log
[21:00:00] Running: /opt/snippy/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[21:00:19] Running: vcf-consensus snps.vcf.gz < reference/ref.fa > snps.consensus.fa 2>> snps.log
[21:00:22] Running: /opt/snippy/bin/snippy-vcf_filter --subs snps.filt.vcf > snps.filt.subs.vcf 2>> snps.log
[21:00:24] Running: bgzip -c snps.filt.subs.vcf > snps.filt.subs.vcf.gz 2>> snps.log
[21:00:24] Running: tabix -p vcf snps.filt.subs.vcf.gz 2>> snps.log
[21:00:24] Running: vcf-consensus snps.filt.subs.vcf.gz < reference/ref.fa > snps.consensus.subs.fa 2>> snps.log
[21:00:27] Generating aligned/masked FASTA relative to reference: snps.aligned.fa
[21:00:50] Creating extra output files: BED GFF CSV TXT HTML
[21:00:50] Identified 2247 variants.
[21:00:50] Result folder: SAMEA2340909
[21:00:50] Result files:
[21:00:50] * SAMEA2340909/snps.aligned.fa
[21:00:50] * SAMEA2340909/snps.bam
[21:00:50] * SAMEA2340909/snps.bam.bai
[21:00:50] * SAMEA2340909/snps.bed
[21:00:50] * SAMEA2340909/snps.consensus.fa
[21:00:50] * SAMEA2340909/snps.consensus.subs.fa
[21:00:50] * SAMEA2340909/snps.csv
[21:00:50] * SAMEA2340909/snps.depth.gz
[21:00:50] * SAMEA2340909/snps.depth.gz.tbi
[21:00:50] * SAMEA2340909/snps.filt.subs.vcf
[21:00:50] * SAMEA2340909/snps.filt.subs.vcf.gz
[21:00:50] * SAMEA2340909/snps.filt.subs.vcf.gz.tbi
[21:00:50] * SAMEA2340909/snps.filt.vcf
[21:00:50] * SAMEA2340909/snps.gff
[21:00:50] * SAMEA2340909/snps.html
[21:00:50] * SAMEA2340909/snps.log
[21:00:50] * SAMEA2340909/snps.raw.vcf
[21:00:50] * SAMEA2340909/snps.tab
[21:00:50] * SAMEA2340909/snps.txt
[21:00:50] * SAMEA2340909/snps.vcf
[21:00:50] * SAMEA2340909/snps.vcf.gz
[21:00:50] * SAMEA2340909/snps.vcf.gz.tbi
[21:00:50] Walltime used: 18 minutes, 52 seconds
[21:00:50] Found a bug? Post it at https://github.com/tseemann/snippy/issues
[21:00:50] Done.
2019/05/31 01:00:51 DEBUG : rclone: Version "v1.36" starting with parameters ["rclone" "copy" "./SAMEA2340909" "onedrive-em:africanum_analysis/snippy/SAMEA2340909" "-vv"]
2019/05/31 01:00:53 INFO  : One drive root 'africanum_analysis/snippy/SAMEA2340909': Modify window is 1s
2019/05/31 01:00:53 DEBUG : One drive root 'africanum_analysis/snippy/SAMEA2340909': Reading ""
2019/05/31 01:00:54 DEBUG : One drive root 'africanum_analysis/snippy/SAMEA2340909': Finished reading ""
2019/05/31 01:00:54 DEBUG : snps.bam: Starting multipart upload
2019/05/31 01:00:54 DEBUG : snps.bam: Uploading segment 0/357685888 size 10485760
2019/05/31 01:00:55 DEBUG : snps.bam: Uploading segment 10485760/357685888 size 10485760
2019/05/31 01:00:55 INFO  : snps.bed: Copied (new)
2019/05/31 01:00:55 INFO  : snps.bam.bai: Copied (new)
2019/05/31 01:00:55 DEBUG : snps.bam: Uploading segment 20971520/357685888 size 10485760
2019/05/31 01:00:56 INFO  : snps.aligned.fa: Copied (new)
2019/05/31 01:00:56 DEBUG : snps.bam: Uploading segment 31457280/357685888 size 10485760
2019/05/31 01:00:56 INFO  : snps.consensus.fa: Copied (new)
2019/05/31 01:00:56 DEBUG : snps.depth.gz: Starting multipart upload
2019/05/31 01:00:56 DEBUG : snps.depth.gz: Uploading segment 0/15659226 size 10485760
2019/05/31 01:00:57 INFO  : snps.csv: Copied (new)
2019/05/31 01:00:57 DEBUG : snps.bam: Uploading segment 41943040/357685888 size 10485760
2019/05/31 01:00:57 INFO  : snps.consensus.subs.fa: Copied (new)
2019/05/31 01:00:57 DEBUG : snps.depth.gz: Uploading segment 10485760/15659226 size 5173466
2019/05/31 01:00:58 DEBUG : snps.bam: Uploading segment 52428800/357685888 size 10485760
2019/05/31 01:00:58 INFO  : snps.depth.gz.tbi: Copied (new)
2019/05/31 01:00:58 INFO  : snps.filt.subs.vcf: Copied (new)
2019/05/31 01:00:58 INFO  : snps.depth.gz: Copied (new)
2019/05/31 01:00:58 DEBUG : snps.bam: Uploading segment 62914560/357685888 size 10485760
2019/05/31 01:00:58 INFO  : snps.filt.subs.vcf.gz: Copied (new)
2019/05/31 01:00:59 INFO  : snps.filt.subs.vcf.gz.tbi: Copied (new)
2019/05/31 01:00:59 DEBUG : snps.bam: Uploading segment 73400320/357685888 size 10485760
2019/05/31 01:00:59 INFO  : snps.gff: Copied (new)
2019/05/31 01:01:00 DEBUG : snps.bam: Uploading segment 83886080/357685888 size 10485760
2019/05/31 01:01:00 INFO  : snps.filt.vcf: Copied (new)
2019/05/31 01:01:00 INFO  : snps.log: Copied (new)
2019/05/31 01:01:00 INFO  : snps.html: Copied (new)
2019/05/31 01:01:00 DEBUG : snps.bam: Uploading segment 94371840/357685888 size 10485760
2019/05/31 01:01:01 INFO  : snps.txt: Copied (new)
2019/05/31 01:01:01 INFO  : snps.raw.vcf: Copied (new)
2019/05/31 01:01:01 INFO  : snps.tab: Copied (new)
2019/05/31 01:01:02 INFO  : snps.vcf.gz.tbi: Copied (new)
2019/05/31 01:01:02 DEBUG : snps.bam: Uploading segment 104857600/357685888 size 10485760
2019/05/31 01:01:02 INFO  : snps.vcf.gz: Copied (new)
2019/05/31 01:01:02 INFO  : snps.vcf: Copied (new)
2019/05/31 01:01:02 DEBUG : snps.bam: Uploading segment 115343360/357685888 size 10485760
2019/05/31 01:01:03 INFO  : reference/ref.fa.amb: Copied (new)
2019/05/31 01:01:03 DEBUG : snps.bam: Uploading segment 125829120/357685888 size 10485760
2019/05/31 01:01:03 INFO  : reference/ref.fa.ann: Copied (new)
2019/05/31 01:01:03 INFO  : reference/ref.fa: Copied (new)
2019/05/31 01:01:03 DEBUG : snps.bam: Uploading segment 136314880/357685888 size 10485760
2019/05/31 01:01:04 INFO  : reference/ref.fa.fai: Copied (new)
2019/05/31 01:01:04 INFO  : reference/ref.fa.pac: Copied (new)
2019/05/31 01:01:04 DEBUG : snps.bam: Uploading segment 146800640/357685888 size 10485760
2019/05/31 01:01:05 DEBUG : snps.bam: Uploading segment 157286400/357685888 size 10485760
2019/05/31 01:01:05 INFO  : reference/ref.fa.bwt: Copied (new)
2019/05/31 01:01:05 INFO  : One drive root 'africanum_analysis/snippy/SAMEA2340909': Waiting for checks to finish
2019/05/31 01:01:05 INFO  : One drive root 'africanum_analysis/snippy/SAMEA2340909': Waiting for transfers to finish
2019/05/31 01:01:05 DEBUG : snps.bam: Uploading segment 167772160/357685888 size 10485760
2019/05/31 01:01:06 INFO  : reference/ref.fa.sa: Copied (new)
2019/05/31 01:01:06 INFO  : reference/ref.txt: Copied (new)
2019/05/31 01:01:06 DEBUG : snps.bam: Uploading segment 178257920/357685888 size 10485760
2019/05/31 01:01:06 INFO  : reference/ref.gff: Copied (new)
2019/05/31 01:01:06 INFO  : reference/snpeff.config: Copied (new)
2019/05/31 01:01:07 DEBUG : snps.bam: Uploading segment 188743680/357685888 size 10485760
2019/05/31 01:01:07 DEBUG : snps.bam: Uploading segment 199229440/357685888 size 10485760
2019/05/31 01:01:08 INFO  : reference/genomes/ref.fa: Copied (new)
2019/05/31 01:01:08 INFO  : reference/ref/genes.gff.gz: Copied (new)
2019/05/31 01:01:08 INFO  : reference/ref/snpEffectPredictor.bin: Copied (new)
2019/05/31 01:01:08 DEBUG : snps.bam: Uploading segment 209715200/357685888 size 10485760
2019/05/31 01:01:08 DEBUG : snps.bam: Uploading segment 220200960/357685888 size 10485760
2019/05/31 01:01:09 DEBUG : snps.bam: Uploading segment 230686720/357685888 size 10485760
2019/05/31 01:01:10 DEBUG : snps.bam: Uploading segment 241172480/357685888 size 10485760
2019/05/31 01:01:10 DEBUG : snps.bam: Uploading segment 251658240/357685888 size 10485760
2019/05/31 01:01:11 DEBUG : snps.bam: Uploading segment 262144000/357685888 size 10485760
2019/05/31 01:01:12 DEBUG : snps.bam: Uploading segment 272629760/357685888 size 10485760
2019/05/31 01:01:13 DEBUG : snps.bam: Uploading segment 283115520/357685888 size 10485760
2019/05/31 01:01:14 DEBUG : snps.bam: Uploading segment 293601280/357685888 size 10485760
2019/05/31 01:01:14 DEBUG : snps.bam: Uploading segment 304087040/357685888 size 10485760
2019/05/31 01:01:15 DEBUG : snps.bam: Uploading segment 314572800/357685888 size 10485760
2019/05/31 01:01:16 DEBUG : snps.bam: Uploading segment 325058560/357685888 size 10485760
2019/05/31 01:01:16 DEBUG : snps.bam: Uploading segment 335544320/357685888 size 10485760
2019/05/31 01:01:17 DEBUG : snps.bam: Uploading segment 346030080/357685888 size 10485760
2019/05/31 01:01:17 DEBUG : snps.bam: Uploading segment 356515840/357685888 size 1170048
2019/05/31 01:01:18 INFO  : snps.bam: Copied (new)
2019/05/31 01:01:18 INFO  : 
Transferred:   397.821 MBytes (14.554 MBytes/s)
Errors:                 0
Checks:                 0
Transferred:           35
Elapsed time:       27.3s
2019/05/31 01:01:18 DEBUG : Go routines at exit 13
2019/05/31 01:01:18 DEBUG : rclone: Version "v1.36" finishing with parameters ["rclone" "copy" "./SAMEA2340909" "onedrive-em:africanum_analysis/snippy/SAMEA2340909" "-vv"]
[21:01:23] This is snippy 3.2-dev
[21:01:23] Written by Torsten Seemann <torsten.seemann@gmail.com>
[21:01:23] Obtained from https://github.com/tseemann/snippy
[21:01:23] Detected operating system: linux
[21:01:23] Enabling bundled linux tools.
[21:01:23] Found bwa - /opt/snippy/binaries/linux/bwa
[21:01:23] Found samtools - /opt/snippy/binaries/linux/samtools
[21:01:23] Found tabix - /opt/snippy/binaries/linux/tabix
[21:01:23] Found bgzip - /opt/snippy/binaries/linux/bgzip
[21:01:23] Found snpEff - /opt/snippy/binaries/noarch/snpEff
[21:01:23] Found java - /usr/bin/java
[21:01:23] Found gzip - /usr/bin/gzip
[21:01:23] Found parallel - /opt/snippy/binaries/noarch/parallel
[21:01:23] Found freebayes - /opt/snippy/binaries/linux/freebayes
[21:01:23] Found freebayes-parallel - /opt/snippy/binaries/noarch/freebayes-parallel
[21:01:23] Found fasta_generate_regions.py - /opt/snippy/binaries/noarch/fasta_generate_regions.py
[21:01:23] Found vcfstreamsort - /opt/snippy/binaries/linux/vcfstreamsort
[21:01:23] Found vcfuniq - /opt/snippy/binaries/linux/vcfuniq
[21:01:23] Found vcffirstheader - /opt/snippy/binaries/noarch/vcffirstheader
[21:01:23] Found vcf-consensus - /opt/snippy/binaries/noarch/vcf-consensus
[21:01:23] Found snippy-vcf_to_tab - /opt/snippy/bin/snippy-vcf_to_tab
[21:01:23] Found snippy-vcf_report - /opt/snippy/bin/snippy-vcf_report
[21:01:23] Found snippy-vcf_filter - /opt/snippy/bin/snippy-vcf_filter
[21:01:23] Checking version: samtools --version is >= 1.3 - ok, have 1.3
[21:01:23] Using reference: /vagrant/africanum_analysis/lab/NC000962_3.gbk
[21:01:24] Treating reference as 'genbank' format.
[21:01:24] Will use 4 CPU cores.
[21:01:24] Using read file: /vagrant/africanum_analysis/lab/SAMEA2340910_1.fastq.gz
[21:01:24] Using read file: /vagrant/africanum_analysis/lab/SAMEA2340910_2.fastq.gz
[21:01:24] Creating folder: SAMEA2340910
[21:01:24] Changing working directory: SAMEA2340910
[21:01:24] Creating reference folder: reference
[21:01:24] Extracting FASTA and GFF from reference.
[21:01:40] Wrote 1 sequences to ref.fa
[21:01:40] Wrote 4416 features to ref.gff
[21:01:40] Creating reference/snpeff.config
[21:01:40] Freebayes will process 16 chunks of 280319 bp, 4 chunks at a time.
[21:01:40] Using BAM RG (Read Group) ID: snps
[21:01:40] Running: samtools faidx reference/ref.fa 2>> snps.log
[21:01:40] Running: bwa index reference/ref.fa 2>> snps.log
[21:01:48] Running: mkdir reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[21:01:48] Running: mkdir reference/ref && bgzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[21:01:49] Running: snpEff build -c reference/snpeff.config -dataDir . -gff3 ref 2>> snps.log
[21:01:58] Running: (bwa mem  -v 2 -M -R '@RG\tID:snps\tSM:snps' -t 4 reference/ref.fa /vagrant/africanum_analysis/lab/SAMEA2340910_1.fastq.gz /vagrant/africanum_analysis/lab/SAMEA2340910_2.fastq.gz | samtools sort --reference reference/ref.fa > snps.bam) 2>> snps.log
[21:10:24] Running: samtools index snps.bam 2>> snps.log
[21:10:39] Running: samtools depth -q 20 snps.bam | bgzip > snps.depth.gz 2>> snps.log
[21:11:31] Running: tabix -s 1 -b 2 -e 2 snps.depth.gz 2>> snps.log
[21:11:33] Running: fasta_generate_regions.py reference/ref.fa.fai 280319 > reference/ref.txt 2>> snps.log
[21:11:34] Running: freebayes-parallel reference/ref.txt 4 -p 1 -q 20 -m 60 --min-coverage 10 -V -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[21:18:41] Running: /opt/snippy/bin/snippy-vcf_filter --minqual 10 --mincov 10 --minfrac 0.9  snps.raw.vcf > snps.filt.vcf 2>> snps.log
[21:18:42] Running: snpEff ann -no-downstream -no-upstream -no-intergenic -no-utr -c reference/snpeff.config -dataDir . -noStats ref snps.filt.vcf > snps.vcf 2>> snps.log
[21:18:52] Running: bgzip -c snps.vcf > snps.vcf.gz 2>> snps.log
[21:18:52] Running: tabix -p vcf snps.vcf.gz 2>> snps.log
[21:18:52] Running: /opt/snippy/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[21:19:10] Running: vcf-consensus snps.vcf.gz < reference/ref.fa > snps.consensus.fa 2>> snps.log
[21:19:14] Running: /opt/snippy/bin/snippy-vcf_filter --subs snps.filt.vcf > snps.filt.subs.vcf 2>> snps.log
[21:19:15] Running: bgzip -c snps.filt.subs.vcf > snps.filt.subs.vcf.gz 2>> snps.log
[21:19:15] Running: tabix -p vcf snps.filt.subs.vcf.gz 2>> snps.log
[21:19:15] Running: vcf-consensus snps.filt.subs.vcf.gz < reference/ref.fa > snps.consensus.subs.fa 2>> snps.log
[21:19:19] Generating aligned/masked FASTA relative to reference: snps.aligned.fa
[21:19:43] Creating extra output files: BED GFF CSV TXT HTML
[21:19:43] Identified 2314 variants.
[21:19:43] Result folder: SAMEA2340910
[21:19:43] Result files:
[21:19:43] * SAMEA2340910/snps.aligned.fa
[21:19:43] * SAMEA2340910/snps.bam
[21:19:43] * SAMEA2340910/snps.bam.bai
[21:19:43] * SAMEA2340910/snps.bed
[21:19:43] * SAMEA2340910/snps.consensus.fa
[21:19:43] * SAMEA2340910/snps.consensus.subs.fa
[21:19:43] * SAMEA2340910/snps.csv
[21:19:43] * SAMEA2340910/snps.depth.gz
[21:19:43] * SAMEA2340910/snps.depth.gz.tbi
[21:19:43] * SAMEA2340910/snps.filt.subs.vcf
[21:19:43] * SAMEA2340910/snps.filt.subs.vcf.gz
[21:19:43] * SAMEA2340910/snps.filt.subs.vcf.gz.tbi
[21:19:43] * SAMEA2340910/snps.filt.vcf
[21:19:43] * SAMEA2340910/snps.gff
[21:19:43] * SAMEA2340910/snps.html
[21:19:43] * SAMEA2340910/snps.log
[21:19:43] * SAMEA2340910/snps.raw.vcf
[21:19:43] * SAMEA2340910/snps.tab
[21:19:43] * SAMEA2340910/snps.txt
[21:19:43] * SAMEA2340910/snps.vcf
[21:19:43] * SAMEA2340910/snps.vcf.gz
[21:19:43] * SAMEA2340910/snps.vcf.gz.tbi
[21:19:43] Walltime used: 18 minutes, 20 seconds
[21:19:43] Found a bug? Post it at https://github.com/tseemann/snippy/issues
[21:19:43] Done.
2019/05/31 01:19:43 DEBUG : rclone: Version "v1.36" starting with parameters ["rclone" "copy" "./SAMEA2340910" "onedrive-em:africanum_analysis/snippy/SAMEA2340910" "-vv"]
2019/05/31 01:19:45 INFO  : One drive root 'africanum_analysis/snippy/SAMEA2340910': Modify window is 1s
2019/05/31 01:19:45 DEBUG : One drive root 'africanum_analysis/snippy/SAMEA2340910': Reading ""
2019/05/31 01:19:45 DEBUG : One drive root 'africanum_analysis/snippy/SAMEA2340910': Finished reading ""
2019/05/31 01:19:45 DEBUG : snps.bam: Starting multipart upload
2019/05/31 01:19:45 DEBUG : snps.bam: Uploading segment 0/348809611 size 10485760
2019/05/31 01:19:46 INFO  : snps.bam.bai: Copied (new)
2019/05/31 01:19:46 INFO  : snps.bed: Copied (new)
2019/05/31 01:19:46 DEBUG : snps.bam: Uploading segment 10485760/348809611 size 10485760
2019/05/31 01:19:47 DEBUG : snps.bam: Uploading segment 20971520/348809611 size 10485760
2019/05/31 01:19:47 DEBUG : snps.bam: Uploading segment 31457280/348809611 size 10485760
2019/05/31 01:19:48 INFO  : snps.consensus.fa: Copied (new)
2019/05/31 01:19:48 INFO  : snps.aligned.fa: Copied (new)
2019/05/31 01:19:48 DEBUG : snps.depth.gz: Starting multipart upload
2019/05/31 01:19:48 INFO  : snps.consensus.subs.fa: Copied (new)
2019/05/31 01:19:48 DEBUG : snps.bam: Uploading segment 41943040/348809611 size 10485760
2019/05/31 01:19:48 DEBUG : snps.depth.gz: Uploading segment 0/15553818 size 10485760
2019/05/31 01:19:49 INFO  : snps.csv: Copied (new)
2019/05/31 01:19:49 INFO  : snps.depth.gz.tbi: Copied (new)
2019/05/31 01:19:49 DEBUG : snps.bam: Uploading segment 52428800/348809611 size 10485760
2019/05/31 01:19:49 DEBUG : snps.depth.gz: Uploading segment 10485760/15553818 size 5068058
2019/05/31 01:19:49 DEBUG : snps.bam: Uploading segment 62914560/348809611 size 10485760
2019/05/31 01:19:50 INFO  : snps.filt.subs.vcf: Copied (new)
2019/05/31 01:19:50 INFO  : snps.filt.subs.vcf.gz: Copied (new)
2019/05/31 01:19:50 INFO  : snps.depth.gz: Copied (new)
2019/05/31 01:19:50 DEBUG : snps.bam: Uploading segment 73400320/348809611 size 10485760
2019/05/31 01:19:50 INFO  : snps.filt.subs.vcf.gz.tbi: Copied (new)
2019/05/31 01:19:51 DEBUG : snps.bam: Uploading segment 83886080/348809611 size 10485760
2019/05/31 01:19:51 INFO  : snps.gff: Copied (new)
2019/05/31 01:19:51 INFO  : snps.html: Copied (new)
2019/05/31 01:19:51 INFO  : snps.filt.vcf: Copied (new)
2019/05/31 01:19:52 DEBUG : snps.bam: Uploading segment 94371840/348809611 size 10485760
2019/05/31 01:19:52 INFO  : snps.log: Copied (new)
2019/05/31 01:19:52 INFO  : snps.raw.vcf: Copied (new)
2019/05/31 01:19:52 DEBUG : snps.bam: Uploading segment 104857600/348809611 size 10485760
2019/05/31 01:19:53 INFO  : snps.tab: Copied (new)
2019/05/31 01:19:53 DEBUG : snps.bam: Uploading segment 115343360/348809611 size 10485760
2019/05/31 01:19:53 INFO  : snps.txt: Copied (new)
2019/05/31 01:19:53 INFO  : snps.vcf.gz: Copied (new)
2019/05/31 01:19:53 INFO  : snps.vcf.gz.tbi: Copied (new)
2019/05/31 01:19:54 DEBUG : snps.bam: Uploading segment 125829120/348809611 size 10485760
2019/05/31 01:19:54 INFO  : snps.vcf: Copied (new)
2019/05/31 01:19:54 INFO  : reference/ref.fa.ann: Copied (new)
2019/05/31 01:19:55 INFO  : reference/ref.fa.amb: Copied (new)
2019/05/31 01:19:55 DEBUG : snps.bam: Uploading segment 136314880/348809611 size 10485760
2019/05/31 01:19:55 INFO  : reference/ref.fa.fai: Copied (new)
2019/05/31 01:19:55 DEBUG : snps.bam: Uploading segment 146800640/348809611 size 10485760
2019/05/31 01:19:56 INFO  : reference/ref.fa: Copied (new)
2019/05/31 01:19:56 DEBUG : snps.bam: Uploading segment 157286400/348809611 size 10485760
2019/05/31 01:19:56 INFO  : reference/ref.fa.pac: Copied (new)
2019/05/31 01:19:57 DEBUG : snps.bam: Uploading segment 167772160/348809611 size 10485760
2019/05/31 01:19:57 INFO  : reference/ref.fa.bwt: Copied (new)
2019/05/31 01:19:57 INFO  : One drive root 'africanum_analysis/snippy/SAMEA2340910': Waiting for checks to finish
2019/05/31 01:19:57 INFO  : One drive root 'africanum_analysis/snippy/SAMEA2340910': Waiting for transfers to finish
2019/05/31 01:19:57 INFO  : reference/ref.txt: Copied (new)
2019/05/31 01:19:57 INFO  : reference/ref.fa.sa: Copied (new)
2019/05/31 01:19:57 DEBUG : snps.bam: Uploading segment 178257920/348809611 size 10485760
2019/05/31 01:19:57 INFO  : reference/ref.gff: Copied (new)
2019/05/31 01:19:58 INFO  : reference/snpeff.config: Copied (new)
2019/05/31 01:19:59 DEBUG : snps.bam: Uploading segment 188743680/348809611 size 10485760
2019/05/31 01:19:59 INFO  : reference/ref/snpEffectPredictor.bin: Copied (new)
2019/05/31 01:19:59 INFO  : reference/genomes/ref.fa: Copied (new)
2019/05/31 01:19:59 DEBUG : snps.bam: Uploading segment 199229440/348809611 size 10485760
2019/05/31 01:19:59 INFO  : reference/ref/genes.gff.gz: Copied (new)
2019/05/31 01:20:00 DEBUG : snps.bam: Uploading segment 209715200/348809611 size 10485760
2019/05/31 01:20:01 DEBUG : snps.bam: Uploading segment 220200960/348809611 size 10485760
2019/05/31 01:20:01 DEBUG : snps.bam: Uploading segment 230686720/348809611 size 10485760
2019/05/31 01:20:02 DEBUG : snps.bam: Uploading segment 241172480/348809611 size 10485760
2019/05/31 01:20:03 DEBUG : snps.bam: Uploading segment 251658240/348809611 size 10485760
2019/05/31 01:20:03 DEBUG : snps.bam: Uploading segment 262144000/348809611 size 10485760
2019/05/31 01:20:04 DEBUG : snps.bam: Uploading segment 272629760/348809611 size 10485760
2019/05/31 01:20:04 DEBUG : snps.bam: Uploading segment 283115520/348809611 size 10485760
2019/05/31 01:20:05 DEBUG : snps.bam: Uploading segment 293601280/348809611 size 10485760
2019/05/31 01:20:05 DEBUG : snps.bam: Uploading segment 304087040/348809611 size 10485760
2019/05/31 01:20:07 DEBUG : snps.bam: Uploading segment 314572800/348809611 size 10485760
2019/05/31 01:20:07 DEBUG : snps.bam: Uploading segment 325058560/348809611 size 10485760
2019/05/31 01:20:08 DEBUG : snps.bam: Uploading segment 335544320/348809611 size 10485760
2019/05/31 01:20:08 DEBUG : snps.bam: Uploading segment 346030080/348809611 size 2779531
2019/05/31 01:20:09 INFO  : snps.bam: Copied (new)
2019/05/31 01:20:09 INFO  : 
Transferred:   389.428 MBytes (14.708 MBytes/s)
Errors:                 0
Checks:                 0
Transferred:           35
Elapsed time:       26.4s
2019/05/31 01:20:09 DEBUG : Go routines at exit 12
2019/05/31 01:20:09 DEBUG : rclone: Version "v1.36" finishing with parameters ["rclone" "copy" "./SAMEA2340910" "onedrive-em:africanum_analysis/snippy/SAMEA2340910" "-vv"]
[21:20:15] This is snippy 3.2-dev
[21:20:15] Written by Torsten Seemann <torsten.seemann@gmail.com>
[21:20:15] Obtained from https://github.com/tseemann/snippy
[21:20:15] Detected operating system: linux
[21:20:15] Enabling bundled linux tools.
[21:20:15] Found bwa - /opt/snippy/binaries/linux/bwa
[21:20:15] Found samtools - /opt/snippy/binaries/linux/samtools
[21:20:15] Found tabix - /opt/snippy/binaries/linux/tabix
[21:20:15] Found bgzip - /opt/snippy/binaries/linux/bgzip
[21:20:15] Found snpEff - /opt/snippy/binaries/noarch/snpEff
[21:20:15] Found java - /usr/bin/java
[21:20:15] Found gzip - /usr/bin/gzip
[21:20:15] Found parallel - /opt/snippy/binaries/noarch/parallel
[21:20:15] Found freebayes - /opt/snippy/binaries/linux/freebayes
[21:20:15] Found freebayes-parallel - /opt/snippy/binaries/noarch/freebayes-parallel
[21:20:15] Found fasta_generate_regions.py - /opt/snippy/binaries/noarch/fasta_generate_regions.py
[21:20:15] Found vcfstreamsort - /opt/snippy/binaries/linux/vcfstreamsort
[21:20:15] Found vcfuniq - /opt/snippy/binaries/linux/vcfuniq
[21:20:15] Found vcffirstheader - /opt/snippy/binaries/noarch/vcffirstheader
[21:20:15] Found vcf-consensus - /opt/snippy/binaries/noarch/vcf-consensus
[21:20:15] Found snippy-vcf_to_tab - /opt/snippy/bin/snippy-vcf_to_tab
[21:20:15] Found snippy-vcf_report - /opt/snippy/bin/snippy-vcf_report
[21:20:15] Found snippy-vcf_filter - /opt/snippy/bin/snippy-vcf_filter
[21:20:15] Checking version: samtools --version is >= 1.3 - ok, have 1.3
[21:20:15] Using reference: /vagrant/africanum_analysis/lab/NC000962_3.gbk
[21:20:15] Treating reference as 'genbank' format.
[21:20:15] Will use 4 CPU cores.
[21:20:15] Using read file: /vagrant/africanum_analysis/lab/SAMEA2340912_1.fastq.gz
[21:20:15] Using read file: /vagrant/africanum_analysis/lab/SAMEA2340912_2.fastq.gz
[21:20:15] Creating folder: SAMEA2340912
[21:20:15] Changing working directory: SAMEA2340912
[21:20:15] Creating reference folder: reference
[21:20:15] Extracting FASTA and GFF from reference.
[21:20:32] Wrote 1 sequences to ref.fa
[21:20:32] Wrote 4416 features to ref.gff
[21:20:32] Creating reference/snpeff.config
[21:20:32] Freebayes will process 16 chunks of 280319 bp, 4 chunks at a time.
[21:20:32] Using BAM RG (Read Group) ID: snps
[21:20:32] Running: samtools faidx reference/ref.fa 2>> snps.log
[21:20:32] Running: bwa index reference/ref.fa 2>> snps.log
[21:20:40] Running: mkdir reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[21:20:40] Running: mkdir reference/ref && bgzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[21:20:40] Running: snpEff build -c reference/snpeff.config -dataDir . -gff3 ref 2>> snps.log
[21:20:50] Running: (bwa mem  -v 2 -M -R '@RG\tID:snps\tSM:snps' -t 4 reference/ref.fa /vagrant/africanum_analysis/lab/SAMEA2340912_1.fastq.gz /vagrant/africanum_analysis/lab/SAMEA2340912_2.fastq.gz | samtools sort --reference reference/ref.fa > snps.bam) 2>> snps.log
[21:29:02] Running: samtools index snps.bam 2>> snps.log
[21:29:17] Running: samtools depth -q 20 snps.bam | bgzip > snps.depth.gz 2>> snps.log
[21:30:06] Running: tabix -s 1 -b 2 -e 2 snps.depth.gz 2>> snps.log
[21:30:09] Running: fasta_generate_regions.py reference/ref.fa.fai 280319 > reference/ref.txt 2>> snps.log
[21:30:09] Running: freebayes-parallel reference/ref.txt 4 -p 1 -q 20 -m 60 --min-coverage 10 -V -f reference/ref.fa snps.bam > snps.raw.vcf 2>> snps.log
[21:36:57] Running: /opt/snippy/bin/snippy-vcf_filter --minqual 10 --mincov 10 --minfrac 0.9  snps.raw.vcf > snps.filt.vcf 2>> snps.log
[21:36:59] Running: snpEff ann -no-downstream -no-upstream -no-intergenic -no-utr -c reference/snpeff.config -dataDir . -noStats ref snps.filt.vcf > snps.vcf 2>> snps.log
[21:37:08] Running: bgzip -c snps.vcf > snps.vcf.gz 2>> snps.log
[21:37:08] Running: tabix -p vcf snps.vcf.gz 2>> snps.log
[21:37:08] Running: /opt/snippy/bin/snippy-vcf_to_tab --gff reference/ref.gff --ref reference/ref.fa --vcf snps.vcf > snps.tab 2>> snps.log
[21:37:26] Running: vcf-consensus snps.vcf.gz < reference/ref.fa > snps.consensus.fa 2>> snps.log
[21:37:30] Running: /opt/snippy/bin/snippy-vcf_filter --subs snps.filt.vcf > snps.filt.subs.vcf 2>> snps.log
[21:37:31] Running: bgzip -c snps.filt.subs.vcf > snps.filt.subs.vcf.gz 2>> snps.log
[21:37:31] Running: tabix -p vcf snps.filt.subs.vcf.gz 2>> snps.log
[21:37:31] Running: vcf-consensus snps.filt.subs.vcf.gz < reference/ref.fa > snps.consensus.subs.fa 2>> snps.log
[21:37:35] Generating aligned/masked FASTA relative to reference: snps.aligned.fa
[21:37:58] Creating extra output files: BED GFF CSV TXT HTML
[21:37:58] Identified 2222 variants.
[21:37:58] Result folder: SAMEA2340912
[21:37:58] Result files:
[21:37:58] * SAMEA2340912/snps.aligned.fa
[21:37:58] * SAMEA2340912/snps.bam
[21:37:58] * SAMEA2340912/snps.bam.bai
[21:37:58] * SAMEA2340912/snps.bed
[21:37:58] * SAMEA2340912/snps.consensus.fa
[21:37:58] * SAMEA2340912/snps.consensus.subs.fa
[21:37:58] * SAMEA2340912/snps.csv
[21:37:58] * SAMEA2340912/snps.depth.gz
[21:37:58] * SAMEA2340912/snps.depth.gz.tbi
[21:37:58] * SAMEA2340912/snps.filt.subs.vcf
[21:37:58] * SAMEA2340912/snps.filt.subs.vcf.gz
[21:37:58] * SAMEA2340912/snps.filt.subs.vcf.gz.tbi
[21:37:58] * SAMEA2340912/snps.filt.vcf
[21:37:58] * SAMEA2340912/snps.gff
[21:37:58] * SAMEA2340912/snps.html
[21:37:58] * SAMEA2340912/snps.log
[21:37:58] * SAMEA2340912/snps.raw.vcf
[21:37:58] * SAMEA2340912/snps.tab
[21:37:58] * SAMEA2340912/snps.txt
[21:37:58] * SAMEA2340912/snps.vcf
[21:37:58] * SAMEA2340912/snps.vcf.gz
[21:37:58] * SAMEA2340912/snps.vcf.gz.tbi
[21:37:58] Walltime used: 17 minutes, 43 seconds
[21:37:58] Did you know? Snippy is a combination of SNP, Skippy, and snappy.
[21:37:58] Done.
2019/05/31 01:37:58 DEBUG : rclone: Version "v1.36" starting with parameters ["rclone" "copy" "./SAMEA2340912" "onedrive-em:africanum_analysis/snippy/SAMEA2340912" "-vv"]
2019/05/31 01:38:00 INFO  : One drive root 'africanum_analysis/snippy/SAMEA2340912': Modify window is 1s
2019/05/31 01:38:01 DEBUG : One drive root 'africanum_analysis/snippy/SAMEA2340912': Reading ""
2019/05/31 01:38:01 DEBUG : One drive root 'africanum_analysis/snippy/SAMEA2340912': Finished reading ""
2019/05/31 01:38:01 DEBUG : snps.bam: Starting multipart upload
2019/05/31 01:38:01 DEBUG : snps.bam: Uploading segment 0/335448833 size 10485760
2019/05/31 01:38:02 DEBUG : snps.bam: Uploading segment 10485760/335448833 size 10485760
2019/05/31 01:38:02 INFO  : snps.bed: Copied (new)
2019/05/31 01:38:02 INFO  : snps.bam.bai: Copied (new)
2019/05/31 01:38:02 DEBUG : snps.bam: Uploading segment 20971520/335448833 size 10485760
2019/05/31 01:38:03 INFO  : snps.aligned.fa: Copied (new)
2019/05/31 01:38:03 DEBUG : snps.bam: Uploading segment 31457280/335448833 size 10485760
2019/05/31 01:38:04 INFO  : snps.consensus.fa: Copied (new)
2019/05/31 01:38:04 DEBUG : snps.depth.gz: Starting multipart upload
2019/05/31 01:38:04 DEBUG : snps.bam: Uploading segment 41943040/335448833 size 10485760
2019/05/31 01:38:04 DEBUG : snps.depth.gz: Uploading segment 0/15648020 size 10485760
2019/05/31 01:38:04 INFO  : snps.csv: Copied (new)
2019/05/31 01:38:04 INFO  : snps.depth.gz.tbi: Copied (new)
2019/05/31 01:38:04 DEBUG : snps.bam: Uploading segment 52428800/335448833 size 10485760
2019/05/31 01:38:04 DEBUG : snps.depth.gz: Uploading segment 10485760/15648020 size 5162260
2019/05/31 01:38:05 INFO  : snps.consensus.subs.fa: Copied (new)
2019/05/31 01:38:05 DEBUG : snps.bam: Uploading segment 62914560/335448833 size 10485760
2019/05/31 01:38:05 INFO  : snps.depth.gz: Copied (new)
2019/05/31 01:38:06 INFO  : snps.filt.subs.vcf.gz: Copied (new)
2019/05/31 01:38:06 DEBUG : snps.bam: Uploading segment 73400320/335448833 size 10485760
2019/05/31 01:38:06 INFO  : snps.filt.subs.vcf.gz.tbi: Copied (new)
2019/05/31 01:38:06 INFO  : snps.filt.subs.vcf: Copied (new)
2019/05/31 01:38:07 INFO  : snps.filt.vcf: Copied (new)
2019/05/31 01:38:07 INFO  : snps.gff: Copied (new)
2019/05/31 01:38:07 INFO  : snps.html: Copied (new)
2019/05/31 01:38:07 INFO  : snps.log: Copied (new)
2019/05/31 01:38:07 DEBUG : snps.bam: Uploading segment 83886080/335448833 size 10485760
2019/05/31 01:38:08 INFO  : snps.txt: Copied (new)
2019/05/31 01:38:08 DEBUG : snps.bam: Uploading segment 94371840/335448833 size 10485760
2019/05/31 01:38:08 INFO  : snps.tab: Copied (new)
2019/05/31 01:38:08 INFO  : snps.raw.vcf: Copied (new)
2019/05/31 01:38:09 INFO  : snps.vcf.gz.tbi: Copied (new)
2019/05/31 01:38:09 DEBUG : snps.bam: Uploading segment 104857600/335448833 size 10485760
2019/05/31 01:38:09 INFO  : snps.vcf: Copied (new)
2019/05/31 01:38:10 DEBUG : snps.bam: Uploading segment 115343360/335448833 size 10485760
2019/05/31 01:38:10 INFO  : snps.vcf.gz: Copied (new)
2019/05/31 01:38:10 INFO  : reference/ref.fa.amb: Copied (new)
2019/05/31 01:38:11 INFO  : reference/ref.fa.ann: Copied (new)
2019/05/31 01:38:11 DEBUG : snps.bam: Uploading segment 125829120/335448833 size 10485760
2019/05/31 01:38:11 INFO  : reference/ref.fa.fai: Copied (new)
2019/05/31 01:38:11 DEBUG : snps.bam: Uploading segment 136314880/335448833 size 10485760
2019/05/31 01:38:12 DEBUG : snps.bam: Uploading segment 146800640/335448833 size 10485760
2019/05/31 01:38:12 INFO  : reference/ref.fa: Copied (new)
2019/05/31 01:38:12 INFO  : reference/ref.fa.pac: Copied (new)
2019/05/31 01:38:12 DEBUG : snps.bam: Uploading segment 157286400/335448833 size 10485760
2019/05/31 01:38:12 INFO  : reference/ref.fa.bwt: Copied (new)
2019/05/31 01:38:12 INFO  : One drive root 'africanum_analysis/snippy/SAMEA2340912': Waiting for checks to finish
2019/05/31 01:38:12 INFO  : One drive root 'africanum_analysis/snippy/SAMEA2340912': Waiting for transfers to finish
2019/05/31 01:38:13 INFO  : reference/ref.txt: Copied (new)
2019/05/31 01:38:13 DEBUG : snps.bam: Uploading segment 167772160/335448833 size 10485760
2019/05/31 01:38:13 INFO  : reference/ref.gff: Copied (new)
2019/05/31 01:38:13 INFO  : reference/snpeff.config: Copied (new)
2019/05/31 01:38:14 DEBUG : snps.bam: Uploading segment 178257920/335448833 size 10485760
2019/05/31 01:38:14 INFO  : reference/ref.fa.sa: Copied (new)
2019/05/31 01:38:14 DEBUG : snps.bam: Uploading segment 188743680/335448833 size 10485760
2019/05/31 01:38:15 DEBUG : snps.bam: Uploading segment 199229440/335448833 size 10485760
2019/05/31 01:38:16 INFO  : reference/ref/snpEffectPredictor.bin: Copied (new)
2019/05/31 01:38:17 DEBUG : snps.bam: Uploading segment 209715200/335448833 size 10485760
2019/05/31 01:38:18 INFO  : reference/genomes/ref.fa: Copied (new)
2019/05/31 01:38:18 DEBUG : snps.bam: Uploading segment 220200960/335448833 size 10485760
2019/05/31 01:38:18 DEBUG : snps.bam: Uploading segment 230686720/335448833 size 10485760
2019/05/31 01:38:19 DEBUG : snps.bam: Uploading segment 241172480/335448833 size 10485760
2019/05/31 01:38:20 DEBUG : snps.bam: Uploading segment 251658240/335448833 size 10485760
2019/05/31 01:38:20 DEBUG : snps.bam: Uploading segment 262144000/335448833 size 10485760
2019/05/31 01:38:21 DEBUG : snps.bam: Uploading segment 272629760/335448833 size 10485760
2019/05/31 01:38:22 DEBUG : snps.bam: Uploading segment 283115520/335448833 size 10485760
2019/05/31 01:38:22 DEBUG : snps.bam: Uploading segment 293601280/335448833 size 10485760
2019/05/31 01:38:23 DEBUG : snps.bam: Uploading segment 304087040/335448833 size 10485760
2019/05/31 01:38:24 DEBUG : snps.bam: Uploading segment 314572800/335448833 size 10485760
2019/05/31 01:38:24 DEBUG : snps.bam: Uploading segment 325058560/335448833 size 10390273
2019/05/31 01:38:25 INFO  : snps.bam: Copied (new)
2019/05/31 01:38:34 DEBUG : Couldn't decode error response: invalid character '<' looking for beginning of value
2019/05/31 01:38:34 DEBUG : pacer: Rate limited, increasing sleep to 20ms
2019/05/31 01:38:34 DEBUG : pacer: low level retry 1/10 (error 503 Service Unavailable: )
2019/05/31 01:38:34 DEBUG : pacer: Reducing sleep to 15ms
2019/05/31 01:38:34 INFO  : reference/ref/genes.gff.gz: Copied (new)
2019/05/31 01:38:34 INFO  : 
Transferred:   376.720 MBytes (10.583 MBytes/s)
Errors:                 0
Checks:                 0
Transferred:           35
Elapsed time:       35.5s
2019/05/31 01:38:34 DEBUG : Go routines at exit 11
2019/05/31 01:38:34 DEBUG : rclone: Version "v1.36" finishing with parameters ["rclone" "copy" "./SAMEA2340912" "onedrive-em:africanum_analysis/snippy/SAMEA2340912" "-vv"]
[21:38:39] This is snippy 3.2-dev
[21:38:39] Written by Torsten Seemann <torsten.seemann@gmail.com>
[21:38:39] Obtained from https://github.com/tseemann/snippy
[21:38:39] Detected operating system: linux
[21:38:39] Enabling bundled linux tools.
[21:38:39] Found bwa - /opt/snippy/binaries/linux/bwa
[21:38:39] Found samtools - /opt/snippy/binaries/linux/samtools
[21:38:39] Found tabix - /opt/snippy/binaries/linux/tabix
[21:38:39] Found bgzip - /opt/snippy/binaries/linux/bgzip
[21:38:39] Found snpEff - /opt/snippy/binaries/noarch/snpEff
[21:38:39] Found java - /usr/bin/java
[21:38:39] Found gzip - /usr/bin/gzip
[21:38:39] Found parallel - /opt/snippy/binaries/noarch/parallel
[21:38:39] Found freebayes - /opt/snippy/binaries/linux/freebayes
[21:38:39] Found freebayes-parallel - /opt/snippy/binaries/noarch/freebayes-parallel
[21:38:39] Found fasta_generate_regions.py - /opt/snippy/binaries/noarch/fasta_generate_regions.py
[21:38:39] Found vcfstreamsort - /opt/snippy/binaries/linux/vcfstreamsort
[21:38:39] Found vcfuniq - /opt/snippy/binaries/linux/vcfuniq
[21:38:39] Found vcffirstheader - /opt/snippy/binaries/noarch/vcffirstheader
[21:38:39] Found vcf-consensus - /opt/snippy/binaries/noarch/vcf-consensus
[21:38:39] Found snippy-vcf_to_tab - /opt/snippy/bin/snippy-vcf_to_tab
[21:38:39] Found snippy-vcf_report - /opt/snippy/bin/snippy-vcf_report
[21:38:39] Found snippy-vcf_filter - /opt/snippy/bin/snippy-vcf_filter
[21:38:39] Checking version: samtools --version is >= 1.3 - ok, have 1.3
[21:38:39] Using reference: /vagrant/africanum_analysis/lab/NC000962_3.gbk
[21:38:40] Treating reference as 'genbank' format.
[21:38:40] Will use 4 CPU cores.
[21:38:40] Using read file: /vagrant/africanum_analysis/lab/SAMEA2340913_1.fastq.gz
[21:38:40] Using read file: /vagrant/africanum_analysis/lab/SAMEA2340913_2.fastq.gz
[21:38:40] Creating folder: SAMEA2340913
[21:38:40] Changing working directory: SAMEA2340913
[21:38:40] Creating reference folder: reference
[21:38:40] Extracting FASTA and GFF from reference.
[21:38:56] Wrote 1 sequences to ref.fa
[21:38:56] Wrote 4416 features to ref.gff
[21:38:56] Creating reference/snpeff.config
[21:38:56] Freebayes will process 16 chunks of 280319 bp, 4 chunks at a time.
[21:38:56] Using BAM RG (Read Group) ID: snps
[21:38:56] Running: samtools faidx reference/ref.fa 2>> snps.log
[21:38:56] Running: bwa index reference/ref.fa 2>> snps.log
[21:39:04] Running: mkdir reference/genomes && cp -f reference/ref.fa reference/genomes/ref.fa 2>> snps.log
[21:39:05] Running: mkdir reference/ref && bgzip -c reference/ref.gff > reference/ref/genes.gff.gz 2>> snps.log
[21:39:05] Running: snpEff build -c reference/snpeff.config -dataDir . -gff3 ref 2>> snps.log
[21:39:14] Running: (bwa mem  -v 2 -M -R '@RG\tID:snps\tSM:snps' -t 4 reference/ref.fa /vagrant/africanum_analysis/lab/SAMEA2340913_1.fastq.gz /vagrant/africanum_analysis/lab/SAMEA2340913_2.fastq.gz | samtools sort --reference reference/ref.fa > snps.bam) 2>> snps.log
